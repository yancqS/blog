<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>nodeæ ¸å¿ƒæ¨¡å—â€”â€”fs | Yoha&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/blog/favicon.ico">
    <meta name="description" content="nodeæ ¸å¿ƒæ¨¡å—fs">
    <meta name="title" content="nodeæ ¸å¿ƒæ¨¡å—fs">
    <meta name="keywords" content="node, FS, fs">
    <meta name="author" content="Yoha">
    
    <link rel="preload" href="/blog/assets/css/0.styles.700221cd.css" as="style"><link rel="preload" href="/blog/assets/js/app.a5bc8539.js" as="script"><link rel="preload" href="/blog/assets/js/5.690a957a.js" as="script"><link rel="preload" href="/blog/assets/js/30.6c527d95.js" as="script"><link rel="preload" href="/blog/assets/js/8.002c5a0e.js" as="script"><link rel="preload" href="/blog/assets/js/6.71158e72.js" as="script"><link rel="preload" href="/blog/assets/js/9.630cde4b.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.64e9bb82.js"><link rel="prefetch" href="/blog/assets/js/10.e5bcf2ab.js"><link rel="prefetch" href="/blog/assets/js/11.91296ba1.js"><link rel="prefetch" href="/blog/assets/js/12.a33cdcb0.js"><link rel="prefetch" href="/blog/assets/js/13.13b9974c.js"><link rel="prefetch" href="/blog/assets/js/14.d50fba9d.js"><link rel="prefetch" href="/blog/assets/js/15.f868584a.js"><link rel="prefetch" href="/blog/assets/js/16.bf8ac725.js"><link rel="prefetch" href="/blog/assets/js/17.f3606cdb.js"><link rel="prefetch" href="/blog/assets/js/18.86f17637.js"><link rel="prefetch" href="/blog/assets/js/19.cb52b94f.js"><link rel="prefetch" href="/blog/assets/js/20.69b2ca22.js"><link rel="prefetch" href="/blog/assets/js/21.6394c338.js"><link rel="prefetch" href="/blog/assets/js/22.8eceae34.js"><link rel="prefetch" href="/blog/assets/js/23.08b5ddfa.js"><link rel="prefetch" href="/blog/assets/js/24.d2e0a266.js"><link rel="prefetch" href="/blog/assets/js/25.dc464f42.js"><link rel="prefetch" href="/blog/assets/js/26.f08709ab.js"><link rel="prefetch" href="/blog/assets/js/27.34d48719.js"><link rel="prefetch" href="/blog/assets/js/28.5aebcb47.js"><link rel="prefetch" href="/blog/assets/js/29.f377bb60.js"><link rel="prefetch" href="/blog/assets/js/31.d055864e.js"><link rel="prefetch" href="/blog/assets/js/32.8513f519.js"><link rel="prefetch" href="/blog/assets/js/33.4f9cd650.js"><link rel="prefetch" href="/blog/assets/js/34.746fbdc9.js"><link rel="prefetch" href="/blog/assets/js/35.f6b81eef.js"><link rel="prefetch" href="/blog/assets/js/36.cd47e23e.js"><link rel="prefetch" href="/blog/assets/js/37.b6488a42.js"><link rel="prefetch" href="/blog/assets/js/38.763cd013.js"><link rel="prefetch" href="/blog/assets/js/39.3fbb63f3.js"><link rel="prefetch" href="/blog/assets/js/4.42ff7aca.js"><link rel="prefetch" href="/blog/assets/js/40.e0e89d98.js"><link rel="prefetch" href="/blog/assets/js/41.4dfa28ad.js"><link rel="prefetch" href="/blog/assets/js/42.be85f4ea.js"><link rel="prefetch" href="/blog/assets/js/43.ef191e59.js"><link rel="prefetch" href="/blog/assets/js/44.d5bf142e.js"><link rel="prefetch" href="/blog/assets/js/45.b8f4cbea.js"><link rel="prefetch" href="/blog/assets/js/46.cb93dd77.js"><link rel="prefetch" href="/blog/assets/js/47.f6670cd4.js"><link rel="prefetch" href="/blog/assets/js/48.f3526bac.js"><link rel="prefetch" href="/blog/assets/js/49.e0e7855d.js"><link rel="prefetch" href="/blog/assets/js/50.0de6e358.js"><link rel="prefetch" href="/blog/assets/js/51.fd6ceef5.js"><link rel="prefetch" href="/blog/assets/js/52.3eb870f2.js"><link rel="prefetch" href="/blog/assets/js/53.0ccf84e3.js"><link rel="prefetch" href="/blog/assets/js/54.06e8989a.js"><link rel="prefetch" href="/blog/assets/js/55.4421b242.js"><link rel="prefetch" href="/blog/assets/js/56.79a1eecc.js"><link rel="prefetch" href="/blog/assets/js/57.0a91f062.js"><link rel="prefetch" href="/blog/assets/js/58.b1e9235f.js"><link rel="prefetch" href="/blog/assets/js/59.2d2c4e92.js"><link rel="prefetch" href="/blog/assets/js/60.8c5d6ed6.js"><link rel="prefetch" href="/blog/assets/js/61.df035f54.js"><link rel="prefetch" href="/blog/assets/js/62.e8ad6459.js"><link rel="prefetch" href="/blog/assets/js/63.3021d50f.js"><link rel="prefetch" href="/blog/assets/js/64.3aa9aacd.js"><link rel="prefetch" href="/blog/assets/js/65.1c11edeb.js"><link rel="prefetch" href="/blog/assets/js/66.3f88d111.js"><link rel="prefetch" href="/blog/assets/js/67.d562f71b.js"><link rel="prefetch" href="/blog/assets/js/68.fdf58f17.js"><link rel="prefetch" href="/blog/assets/js/69.73f6204c.js"><link rel="prefetch" href="/blog/assets/js/7.403dc445.js"><link rel="prefetch" href="/blog/assets/js/70.ff01a1d1.js"><link rel="prefetch" href="/blog/assets/js/71.78fc5816.js"><link rel="prefetch" href="/blog/assets/js/72.d4df543d.js"><link rel="prefetch" href="/blog/assets/js/73.57f1a7b7.js"><link rel="prefetch" href="/blog/assets/js/74.5c441af5.js"><link rel="prefetch" href="/blog/assets/js/75.db297208.js"><link rel="prefetch" href="/blog/assets/js/76.fc6b0bee.js"><link rel="prefetch" href="/blog/assets/js/77.a731fcd2.js"><link rel="prefetch" href="/blog/assets/js/78.dcff7065.js"><link rel="prefetch" href="/blog/assets/js/79.2c47b58d.js"><link rel="prefetch" href="/blog/assets/js/80.a3bddf77.js"><link rel="prefetch" href="/blog/assets/js/81.871b53ec.js"><link rel="prefetch" href="/blog/assets/js/82.3b487251.js"><link rel="prefetch" href="/blog/assets/js/83.788d65b1.js"><link rel="prefetch" href="/blog/assets/js/84.4738ad1c.js"><link rel="prefetch" href="/blog/assets/js/85.3e8ce7f6.js"><link rel="prefetch" href="/blog/assets/js/86.a364ef06.js"><link rel="prefetch" href="/blog/assets/js/87.38e7b0af.js"><link rel="prefetch" href="/blog/assets/js/88.dab6d37a.js"><link rel="prefetch" href="/blog/assets/js/89.ab4f1eaa.js"><link rel="prefetch" href="/blog/assets/js/90.ef058181.js"><link rel="prefetch" href="/blog/assets/js/91.5ba13bd3.js"><link rel="prefetch" href="/blog/assets/js/92.4c221543.js"><link rel="prefetch" href="/blog/assets/js/vuejs-paginate.b2f479cc.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.700221cd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="global-layout d-flex flex-column"><header id="header" class="shadow"><nav class="p-3 d-flex desktop-menu justify-content-between"><div class="d-flex blog-info-wrapper"><a href="/blog/" class="text-decoration-none m-0 router-link-active"><div class="card-img-bg d-inline-block blog-logo"><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210414163022.jpeg" height="40px" style="margin-right:10px;"></div></a> <a href="/blog/" class="blog-title router-link-active"><div class="h4 text-center">
          Yoha's Blog
        </div></a></div> <ul role="menubar" class="d-flex justify-content-center border-0 el-menu--horizontal el-menu" style="background-color:;"><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-house"></i>
    Home
  </li><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-lollipop"></i>
    Life
  </li><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-s-management"></i>
    Handbook
  </li><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><span>ğŸ’•</span>
    Emoji
  </li></ul> <div class="search-wrapper u-px3 d-flex align-items-center"><div aria-haspopup="listbox" role="combobox" aria-owns="el-autocomplete-5720" class="el-autocomplete"><div class="el-input el-input--small"><!----><input type="text" autocomplete="off" valueKey="value" popperClass="components-search" placeholder="Search" fetchSuggestions="function () { [native code] }" debounce="200" placement="bottom-end" popperAppendToBody="true" class="el-input__inner"><!----><!----><!----><!----></div><div role="region" class="el-autocomplete-suggestion el-popper components-search" style="width:;display:none;"><div class="el-scrollbar"><div class="el-autocomplete-suggestion__wrap el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-autocomplete-suggestion__list"></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></div></div></div> <div id="toggle"><div id="top" class="span"></div> <div id="middle" class="span"></div> <div id="bottom" class="span"></div></div></nav> <div class="flex-column align-items-center mobile-menu pb-4"><ul role="menubar" class="d-flex justify-content-center border-0 el-menu--horizontal el-menu" style="background-color:;"><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-house"></i>
    Home
  </li><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-lollipop"></i>
    Life
  </li><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-s-management"></i>
    Handbook
  </li><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><span>ğŸ’•</span>
    Emoji
  </li></ul> <div class="search-wrapper u-px3 d-flex align-items-center pt-4"><div aria-haspopup="listbox" role="combobox" aria-owns="el-autocomplete-5884" class="el-autocomplete"><div class="el-input el-input--small"><!----><input type="text" autocomplete="off" valueKey="value" popperClass="components-search" placeholder="Search" fetchSuggestions="function () { [native code] }" debounce="200" placement="bottom-end" popperAppendToBody="true" class="el-input__inner"><!----><!----><!----><!----></div><div role="region" class="el-autocomplete-suggestion el-popper components-search" style="width:;display:none;"><div class="el-scrollbar"><div class="el-autocomplete-suggestion__wrap el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-autocomplete-suggestion__list"></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></div></div></div></div></header> <div id="vuperess-theme-blog__post-layout"><div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#fsçš„promise-api" title="fsçš„Promise API">fsçš„Promise API</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#filehandlerç±»" title="filehandlerç±»">filehandlerç±»</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#å…³äºç¬¦å·é“¾æ¥ä¸€äº›çŸ¥è¯†" title="å…³äºç¬¦å·é“¾æ¥ä¸€äº›çŸ¥è¯†ä¹‹é—´æœ‰ä½•åŒºåˆ«å’Œè”ç³»ï¼Ÿ')">å…³äºç¬¦å·é“¾æ¥ä¸€äº›çŸ¥è¯†ä¹‹é—´æœ‰ä½•åŒºåˆ«å’Œè”ç³»ï¼Ÿ')</a></div></div> <main class="vuepress-blog-theme-content"><div class="el-card mb-4 is-always-shadow"><!----><div class="el-card__body" style="padding:0;"><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017192245.jpg" alt="nodeæ ¸å¿ƒæ¨¡å—â€”â€”fs" class="w-100"> <div class="p-3"><h1 align="center">
            nodeæ ¸å¿ƒæ¨¡å—â€”â€”fs
          </h1> <div class="ui-post-info d-flex text-secondary d-flex justify-content-center my-3"><div class="post-info-item"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
    Friday, May 8, 2020
  </div> <div class="post-info-item"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
    1 min read
  </div> <div class="post-info-item"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg>
    Beijing
  </div></div></div></div></div> <div class="el-card py-3 px-3 mb-4 is-always-shadow"><!----><div class="el-card__body"><span>Hi, I hope you'll <i>enjoy</i> this post!</span></div></div> <div class="el-card py-3 px-3 mb-4 is-always-shadow"><!----><div class="el-card__body"><div class="content__default"><h1 id="node-module-fs"><a href="#node-module-fs" class="header-anchor">#</a> node module <a href="http://nodejs.cn/api/fs.html#fs_file_system" title="fsæ ¸å¿ƒæ¨¡å—" target="_blank" rel="noopener noreferrer">fs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h1> <blockquote><p>æ³¨ï¼šæ–œä½“åŠ ç²—çš„apiæ˜¯æœ‰ç–‘é—®çš„ã€‚</p></blockquote> <ul><li><p>æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿæ“ä½œéƒ½å…·æœ‰åŒæ­¥å’Œå¼‚æ­¥çš„å½¢å¼</p></li> <li><p>å¤§å¤šæ•° fs æ“ä½œæ¥å—çš„æ–‡ä»¶è·¯å¾„å¯ä»¥æŒ‡å®šä¸ºå­—ç¬¦ä¸²ã€Bufferã€æˆ–ä½¿ç”¨ file:åè®®çš„ URLå¯¹è±¡</p></li> <li><p><a href="https://www.jianshu.com/p/a2df1d402b4d" title="æ–‡ä»¶æè¿°ç¬¦" target="_blank" rel="noopener noreferrer">æ–‡ä»¶æè¿°ç¬¦<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: åœ¨ POSIX ç³»ç»Ÿä¸Šï¼Œå¯¹äºæ¯ä¸ªè¿›ç¨‹ï¼Œå†…æ ¸éƒ½ç»´æŠ¤ç€ä¸€å¼ å½“å‰æ‰“å¼€ç€çš„æ–‡ä»¶å’Œèµ„æºçš„è¡¨æ ¼ã€‚ æ¯ä¸ªæ‰“å¼€çš„æ–‡ä»¶éƒ½åˆ†é…äº†ä¸€ä¸ªç§°ä¸ºæ–‡ä»¶æè¿°ç¬¦çš„ç®€å•çš„æ•°å­—æ ‡è¯†ç¬¦ã€‚ åœ¨ç³»ç»Ÿå±‚ï¼Œæ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿæ“ä½œéƒ½ä½¿ç”¨è¿™äº›æ–‡ä»¶æè¿°ç¬¦æ¥æ ‡è¯†å’Œè·Ÿè¸ªæ¯ä¸ªç‰¹å®šçš„æ–‡ä»¶ã€‚ Windows ç³»ç»Ÿä½¿ç”¨äº†ä¸€ä¸ªè™½ç„¶ä¸åŒä½†æ¦‚å¿µä¸Šç±»ä¼¼çš„æœºåˆ¶æ¥è·Ÿè¸ªèµ„æºã€‚ ä¸ºäº†ç®€åŒ–ç”¨æˆ·çš„å·¥ä½œï¼ŒNode.js æŠ½è±¡å‡ºæ“ä½œç³»ç»Ÿä¹‹é—´çš„ç‰¹å®šå·®å¼‚ï¼Œå¹¶ä¸ºæ‰€æœ‰æ‰“å¼€çš„æ–‡ä»¶åˆ†é…ä¸€ä¸ªæ•°å­—å‹çš„æ–‡ä»¶æè¿°ç¬¦ã€‚</p></li></ul> <hr> <ul><li><p><strong>fs.Dirä»£è¡¨ç›®å½•æµçš„ç±»</strong></p> <ul><li><p><em>ç”± fs.opendir()ã€fs.opendirSync() æˆ– fsPromises.opendir() åˆ›å»ºã€‚</em></p></li> <li><p>dir.close() è¿”å›promiseï¼Œå°†ä¼šåœ¨å…³é—­èµ„æºä¹‹åè¢«resolveã€‚è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨æ—¶å¼‚æ­¥åœ°å…³é—­ç›®å½•åº•å±‚èµ„æºå¥æŸ„ã€‚éšåçš„è¯»å–å°†ä¼šå¯¼è‡´é”™è¯¯ã€‚</p></li> <li><p>dir.close(callback) è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨åŒä¸Šï¼Œå…³é—­èµ„æºå¥æŸ„åå°†ä¼šè°ƒç”¨callbackã€‚</p> <ul><li>callback(err)</li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//ä¸ªäººç†è§£</span>
<span class="token keyword">const</span> dir <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">opendir</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>

dir<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">//doSomething</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><p>dir.closeSync() åŒæ­¥åœ°å…³é—­åº•å±‚èµ„æºå¥æŸ„ã€‚</p></li> <li><p>dir.path &lt;å±æ€§&gt;ï¼Œæ­¤ç›®å½•çš„åªè¯»è·¯å¾„ï¼Œä¸æä¾›ç»™ fs.opendir()ã€fs.opendirSync() æˆ– fsPromises.opendir() çš„ä¸€æ ·ã€‚</p></li> <li><p>dir.read() è¿”å›: Promise åŒ…å« fs.Direntæˆ–nullã€‚å¼‚æ­¥åœ°è¯»å–ä¸‹ä¸€ä¸ªç›®å½•é¡¹ä½œä¸º fs.Direntã€‚è¯»å–å®Œæˆä¹‹åï¼Œå°†ä¼šè¿”å›ä¸€ä¸ª Promiseï¼Œå®ƒè¢«è§£å†³æ—¶å°†ä¼šè¿”å› fs.Dirent æˆ– nullï¼ˆå¦‚æœæ²¡æœ‰æ›´å¤šçš„ç›®å½•é¡¹è¦è¯»å–ï¼‰ã€‚æ­¤å‡½æ•°è¿”å›çš„ç›®å½•é¡¹ä¸éµå¾ªæ“ä½œç³»ç»Ÿçš„åº•å±‚ç›®å½•æœºåˆ¶æ‰€æä¾›çš„ç‰¹å®šé¡ºåºã€‚ éå†ç›®å½•æ—¶æ·»åŠ æˆ–åˆ é™¤çš„ç›®å½•é¡¹å¯èƒ½ä¼šä¹Ÿå¯èƒ½ä¸ä¼šåŒ…å«åœ¨éå†çš„ç»“æœä¸­ã€‚</p></li> <li><p>dir.read(callback) å¼‚æ­¥åœ°è¯»å–ä¸‹ä¸€ä¸ªç›®å½•é¡¹ä½œä¸º fs.Direntã€‚è¯»å–å®Œæˆä¹‹åï¼Œå°†ä¼šè°ƒç”¨ callback å¹¶ä¼ å…¥ fs.Dirent æˆ– nullï¼ˆå¦‚æœæ²¡æœ‰æ›´å¤šçš„ç›®å½•é¡¹è¦è¯»å–ï¼‰ã€‚callback((err, fs.dirent) =&gt; {});</p></li> <li><p>dir.readSync() è¿”å›: Promise åŒ…å« fs.Direntæˆ–nullã€‚åŒæ­¥åœ°è¯»å–ä¸‹ä¸€ä¸ªç›®å½•é¡¹ä½œä¸º fs.Direntã€‚</p></li></ul></li></ul> <hr> <ul><li><p><strong>fs.Direntç±» ç›®å½•é¡¹çš„è¡¨ç¤ºå½¢å¼ï¼Œé€šè¿‡ä» fs.Dir ä¸­è¯»å–å¾—åˆ°</strong></p> <ul><li><p>dirent.isBlockDevice()</p> <ul><li>è¿”å›å¸ƒå°”å€¼ (å¦‚æœ fs.Dirent å¯¹è±¡æè¿°å—è®¾å¤‡ï¼Œåˆ™è¿”å›true)</li></ul></li> <li><p>dirent.isCharacterDevice()</p> <ul><li>è¿”å›å¸ƒå°”å€¼ (å¦‚æœ fs.Dirent å¯¹è±¡æè¿°å­—ç¬¦è®¾å¤‡ï¼Œåˆ™è¿”å›true)</li></ul></li> <li><p>dirent.isDirectory()</p> <ul><li>è¿”å›å¸ƒå°”å€¼ (å¦‚æœ fs.Dirent å¯¹è±¡æè¿°æ–‡ä»¶ç³»ç»Ÿç›®å½•ï¼Œåˆ™è¿”å›true)</li></ul></li> <li><p>dirent.isFIFO()</p> <ul><li>è¿”å›å¸ƒå°”å€¼(å¦‚æœ fs.Dirent å¯¹è±¡æè¿°å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰ç®¡é“ï¼Œåˆ™è¿”å›true)</li></ul></li> <li><p>dirent.isFile()</p> <ul><li>è¿”å›å¸ƒå°”å€¼(å¦‚æœ fs.Dirent å¯¹è±¡æè¿°å¸¸è§„æ–‡ä»¶ï¼Œåˆ™è¿”å› true)</li></ul></li> <li><p>dirent.isSymbolicLink()</p> <ul><li>è¿”å›å¸ƒå°”å€¼(å¦‚æœ fs.Dirent å¯¹è±¡æè¿°ç¬¦å·é“¾æ¥ï¼Œåˆ™è¿”å› true)</li></ul></li> <li><p>dirent.name</p> <ul><li>å±æ€§ï¼Œfs.Dirent å¯¹è±¡æŒ‡å‘çš„æ–‡ä»¶åã€‚ æ­¤å€¼çš„ç±»å‹å–å†³äºä¼ é€’ç»™ fs.readdir() æˆ– fs.readdirSync() çš„ options.encoding</li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//å‡è®¾å½“å‰ç›®å½•ä¸‹æœ‰ä»¥ä¸‹ç»“æ„</span>
<span class="token comment">// - file(æ–‡ä»¶å¤¹)</span>
<span class="token comment">// - fs.js</span>
<span class="token comment">// - fs.md</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> dir <span class="token operator">=</span> <span class="token keyword">await</span> fs<span class="token punctuation">.</span>promises<span class="token punctuation">.</span><span class="token function">opendir</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> dirent <span class="token keyword">of</span> dir<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dirent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Dirent { name: 'file', [Symbol(type)]: 2 }</span>
    <span class="token comment">// Dirent { name: 'file_test.lnk', [Symbol(type)]: 1 }</span>
    <span class="token comment">// Dirent { name: 'fs.js', [Symbol(type)]: 1 }</span>
    <span class="token comment">// Dirent { name: 'fs.md', [Symbol(type)]: 1 }</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dirent<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//true false false</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dirent<span class="token punctuation">.</span><span class="token function">isFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// false true true</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dirent<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//file fs.js fs.md</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'./'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></li></ul> <hr> <ul><li><p><strong>fs.Statsç±»</strong></p> <blockquote><p><em>fs.Statså¯¹è±¡æä¾›äº†å…³äºæ–‡ä»¶çš„ä¿¡æ¯ã€‚ä» fs.stat()ã€fs.lstat()ã€fs.fstat()ã€ä»¥åŠå®ƒä»¬çš„åŒæ­¥æ–¹æ³•è¿”å›çš„å¯¹è±¡éƒ½æ˜¯æ­¤ç±»å‹ã€‚</em></p></blockquote> <ul><li><p>stats.isBlockDevice()</p> <ul><li>å¦‚æœ fs.Stats å¯¹è±¡æè¿°å—è®¾å¤‡ï¼Œåˆ™è¿”å› trueã€‚</li></ul></li> <li><p>stats.isCharacterDevice()</p> <ul><li>å¦‚æœ fs.Stats å¯¹è±¡æè¿°å­—ç¬¦è®¾å¤‡ï¼Œåˆ™è¿”å› trueã€‚</li></ul></li> <li><p>stats.isDirectory()</p> <ul><li>å¦‚æœ fs.Stats å¯¹è±¡æè¿°æ–‡ä»¶ç³»ç»Ÿç›®å½•ï¼Œåˆ™è¿”å› trueã€‚</li></ul></li> <li><p>stats.isFIFO()</p> <ul><li>å¦‚æœ fs.Stats å¯¹è±¡æè¿°å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰ç®¡é“ï¼Œåˆ™è¿”å› trueã€‚</li></ul></li> <li><p>stats.isFile()</p> <ul><li>å¦‚æœ fs.Stats å¯¹è±¡æè¿°æ™®é€šçš„æ–‡ä»¶ï¼Œåˆ™è¿”å› trueã€‚</li></ul></li> <li><p>stats.isSocket()</p> <ul><li>å¦‚æœ fs.Stats å¯¹è±¡æè¿°å¥—æ¥å­—ï¼Œåˆ™è¿”å› trueã€‚</li></ul></li> <li><p>stats.isSymbolicKink()</p> <ul><li>å¦‚æœ fs.Stats å¯¹è±¡æè¿°ç¬¦å·é“¾æ¥ï¼Œåˆ™è¿”å› trueã€‚</li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//windowså¹³å°ä¸‹</span>
fs<span class="token punctuation">.</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token string">'./file/hello.txt'</span><span class="token punctuation">,</span> <span class="token string">'./file/hello_bak.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  fs<span class="token punctuation">.</span><span class="token function">stat</span><span class="token punctuation">(</span><span class="token string">'./file/hello_bak.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">æ–‡ä»¶å±æ€§</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>stats<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stats<span class="token punctuation">.</span><span class="token function">isFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//ä¸Šé¢ä»£ç ä¸­çš„console.log(`æ–‡ä»¶å±æ€§${JSON.stringify(stats)}`);</span>
<span class="token punctuation">{</span>
      <span class="token string">&quot;dev&quot;</span><span class="token operator">:</span><span class="token number">3935059853</span><span class="token punctuation">,</span> <span class="token comment">//åŒ…å«è¯¥æ–‡ä»¶çš„è®¾å¤‡æ•°å­—æ ‡è¯†ç¬¦</span>

      <span class="token string">&quot;mode&quot;</span><span class="token operator">:</span><span class="token number">33206</span><span class="token punctuation">,</span> <span class="token comment">//æè¿°æ–‡ä»¶ç±»å‹å’Œæ¨¡å¼çš„ä½å­—æ®µ</span>

      <span class="token string">&quot;nlink&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//æ–‡ä»¶å­˜åœ¨çš„ç¡¬é“¾æ¥æ•°</span>

      <span class="token string">&quot;uid&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//æ‹¥æœ‰è¯¥æ–‡ä»¶ï¼ˆPOSIXï¼‰çš„ç”¨æˆ·çš„æ•°å­—å‹ç¾¤ç»„æ ‡è¯†ç¬¦</span>

      <span class="token string">&quot;gid&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//æ‹¥æœ‰è¯¥æ–‡ä»¶ï¼ˆPOSIXï¼‰çš„ç¾¤ç»„çš„æ•°å­—å‹ç¾¤ç»„æ ‡è¯†ç¬¦</span>

      <span class="token string">&quot;rdev&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//å¦‚æœæ–‡ä»¶è¢«è§†ä¸ºç‰¹æ®Šæ–‡ä»¶ï¼Œåˆ™æ­¤å€¼ä¸ºæ•°å­—å‹è®¾å¤‡æ ‡è¯†ç¬¦</span>

      <span class="token string">&quot;ino&quot;</span><span class="token operator">:</span><span class="token number">562949953422602</span><span class="token punctuation">,</span> <span class="token comment">//æ–‡ä»¶ç³»ç»Ÿç‰¹å®šçš„æ–‡ä»¶ç´¢å¼•èŠ‚ç‚¹ç¼–å·</span>

      <span class="token string">&quot;size&quot;</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">//æ–‡ä»¶çš„å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰</span>

      <span class="token string">&quot;atimeMs&quot;</span><span class="token operator">:</span><span class="token number">1588206862385.9998</span><span class="token punctuation">,</span> <span class="token comment">//è¡¨æ˜ä¸Šæ¬¡è®¿é—®(access)æ­¤æ–‡ä»¶çš„æ—¶é—´æˆ³ï¼Œä»¥POSIX çºªå…ƒä»¥æ¥çš„æ¯«ç§’æ•°è¡¨ç¤º</span>

      <span class="token string">&quot;mtimeMs&quot;</span><span class="token operator">:</span><span class="token number">1588836481684.9998</span><span class="token punctuation">,</span> <span class="token comment">//è¡¨æ˜ä¸Šæ¬¡ä¿®æ”¹(modify)æ­¤æ–‡ä»¶çš„æ—¶æˆ³ï¼Œä»¥POSIX çºªå…ƒä»¥æ¥çš„æ¯«ç§’æ•°è¡¨ç¤º</span>

      <span class="token string">&quot;ctimeMs&quot;</span><span class="token operator">:</span><span class="token number">1588837275795.1448</span><span class="token punctuation">,</span> <span class="token comment">//è¡¨æ˜ä¸Šæ¬¡æ›´æ”¹(change)æ–‡ä»¶çŠ¶æ€çš„æ—¶é—´æˆ³ï¼Œä»¥POSIX çºªå…ƒä»¥æ¥çš„æ¯«ç§’æ•°è¡¨ç¤º</span>

      <span class="token string">&quot;birthtimeMs&quot;</span><span class="token operator">:</span><span class="token number">1588206862386.4824</span><span class="token punctuation">,</span> <span class="token comment">//è¡¨æ˜æ­¤æ–‡ä»¶çš„åˆ›å»ºæ—¶é—´çš„æ—¶é—´æˆ³ï¼Œä»¥POSIX çºªå…ƒä»¥æ¥çš„æ¯«ç§’æ•°è¡¨ç¤ºã€‚</span>

      <span class="token string">&quot;atime&quot;</span><span class="token operator">:</span><span class="token string">&quot;2020-04-30T00:34:22.386Z&quot;</span><span class="token punctuation">,</span>

      <span class="token string">&quot;mtime&quot;</span><span class="token operator">:</span><span class="token string">&quot;2020-05-07T07:28:01.685Z&quot;</span><span class="token punctuation">,</span>

      <span class="token string">&quot;ctime&quot;</span><span class="token operator">:</span><span class="token string">&quot;2020-05-07T07:41:15.795Z&quot;</span><span class="token punctuation">,</span>

      <span class="token string">&quot;birthtime&quot;</span><span class="token operator">:</span><span class="token string">&quot;2020-04-30T00:34:22.386Z&quot;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><table><thead><tr><th style="text-align:center;">åç§°</th> <th style="text-align:center;">å…¨å</th> <th style="text-align:center;">ä¸­æ–‡åç§°</th> <th style="text-align:center;">å«ä¹‰</th></tr></thead> <tbody><tr><td style="text-align:center;">atime</td> <td style="text-align:center;">access time</td> <td style="text-align:center;">è®¿é—®æ—¶é—´</td> <td style="text-align:center;">æ–‡ä»¶ä¸­çš„æ•°æ®è¢«æœ€åè®¿é—®çš„æ—¶é—´</td></tr> <tr><td style="text-align:center;">mtime</td> <td style="text-align:center;">modify time</td> <td style="text-align:center;">ä¿®æ”¹æ—¶é—´</td> <td style="text-align:center;">æ–‡ä»¶å†…å®¹è¢«æœ€åä¿®æ”¹çš„æ—¶é—´</td></tr> <tr><td style="text-align:center;">ctime</td> <td style="text-align:center;">change time</td> <td style="text-align:center;">å˜åŒ–æ—¶é—´</td> <td style="text-align:center;">æ–‡ä»¶çš„å…ƒæ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶é—´ã€‚å¦‚æƒé™ã€æ‰€æœ‰è€…ç­‰</td></tr></tbody></table></li></ul> <hr> <ul><li><p><strong>fs.watch(filename[, options][, listener])</strong></p> <ul><li>filename &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;object&gt; | &lt;string&gt;
<ul><li>persistent &lt;boolean&gt; æŒ‡ç¤ºå¦‚æœæ–‡ä»¶å·²æ­£è¢«ç›‘è§†ï¼Œè¿›ç¨‹æ˜¯å¦åº”ç»§ç»­è¿è¡Œã€‚é»˜è®¤å€¼: true</li> <li>recursive &lt;boolean&gt; æŒ‡ç¤ºåº”è¯¥ç›‘è§†æ‰€æœ‰å­ç›®å½•ï¼Œè¿˜æ˜¯ä»…ç›‘è§†å½“å‰ç›®å½•ã€‚è¿™é€‚ç”¨äºç›‘è§†ç›®å½•æ—¶ï¼Œå¹¶ä¸”ä»…é€‚ç”¨äºå—æ”¯æŒçš„å¹³å°ã€‚é»˜è®¤å€¼ï¼šfalse</li> <li>encoding &lt;string&gt; æŒ‡å®šç”¨äºä¼ ç»™ç›‘å¬å™¨çš„æ–‡ä»¶åçš„å­—ç¬¦ç¼–ç ã€‚é»˜è®¤å€¼: 'utf8'</li></ul></li> <li>listener &lt;Function&gt; | &lt;undefined&gt;
<ul><li>eventType &lt;string&gt;</li> <li>filename &lt;string&gt; | &lt;Buffer&gt;</li></ul></li></ul> <blockquote><p><em>è¿”å›fs.FSWatchç±»ã€‚ç›‘è§† filename çš„æ›´æ”¹ï¼Œå…¶ä¸­ filename æ˜¯ <strong>æ–‡ä»¶æˆ–ç›®å½•</strong>ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰çš„ã€‚å¦‚æœ options ä¼ å…¥å­—ç¬¦ä¸²ï¼Œåˆ™å®ƒæŒ‡å®š encodingã€‚å¦åˆ™ï¼Œoptions åº”ä¼ å…¥å¯¹è±¡ã€‚ç›‘å¬å™¨å›è°ƒæœ‰ä¸¤ä¸ªå‚æ•° (eventType, filename)ã€‚eventTypeæ˜¯'rename'æˆ–'change'ï¼Œfilenameæ˜¯è§¦å‘äº‹ä»¶çš„æ–‡ä»¶çš„åç§°ã€‚</em></p></blockquote> <blockquote><p><em>ç›‘å¬å™¨å›è°ƒç»‘å®šåœ¨ç”± fs.FSWatcher è§¦å‘çš„ 'change' äº‹ä»¶ä¸Šï¼Œä½†å®ƒä¸ eventType çš„ 'change' å€¼ä¸æ˜¯ä¸€å›äº‹ã€‚</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">'./file'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>recursive<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> encoding<span class="token operator">:</span> <span class="token string">'utf8'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">eventType<span class="token punctuation">,</span> filename</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>eventType<span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017232123.png" alt=""></p></li></ul> <hr> <ul><li><p><strong>fs.watchFile(filename[, options], listener)</strong></p> <ul><li>filename &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;Object&gt;
<ul><li>bigint &lt;boolean&gt; é»˜è®¤å€¼: false</li> <li>persistent &lt;boolean&gt; é»˜è®¤å€¼: true</li> <li>interval &lt;integer&gt; é»˜è®¤å€¼: 5007</li></ul></li> <li>listener
<ul><li>current /&lt;fs.Stats&gt;</li> <li>previous /&lt;fs.Stats&gt;</li></ul></li></ul> <blockquote><p><em>è¿”å›fs.StatWatcherã€‚ç›‘è§†filenameçš„æ›´æ”¹ã€‚æ¯å½“è®¿é—®æ–‡ä»¶æ—¶éƒ½ä¼šè°ƒç”¨ listener å›è°ƒã€‚options å‚æ•°å¯ä»¥çœç•¥ã€‚å¦‚æœæä¾›ï¼Œåˆ™å®ƒåº”è¯¥æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚ options å¯¹è±¡å¯ä»¥åŒ…å«ä¸€ä¸ªåä¸º persistent çš„å¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºå½“æ–‡ä»¶æ­£åœ¨è¢«ç›‘è§†æ—¶ï¼Œè¿›ç¨‹æ˜¯å¦åº”è¯¥ç»§ç»­è¿è¡Œã€‚ options å¯¹è±¡å¯ä»¥æŒ‡å®š interval å±æ€§ï¼ŒæŒ‡ç¤ºè½®è¯¢ç›®æ ‡çš„é¢‘ç‡ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚å¦‚æœ bigint é€‰é¡¹ä¸º trueï¼Œåˆ™fs.Statsä¸­çš„æ•°å€¼ä¼šè¢«æŒ‡å®šä¸º BigInts ç±»å‹ã€‚</em></p></blockquote> <blockquote><p><strong>ä½¿ç”¨ fs.watch() æ¯” fs.watchFile å’Œ fs.unwatchFile æ›´é«˜æ•ˆã€‚</strong></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">watchFile</span><span class="token punctuation">(</span><span class="token string">'./file/hello.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> persistent<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> interval<span class="token operator">:</span> <span class="token number">5007</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">cur<span class="token punctuation">,</span> prev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>mtime<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>ctime<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>prev<span class="token punctuation">.</span>mtime<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>prev<span class="token punctuation">.</span>ctime<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017232142.jpg" alt=""></p></li></ul> <hr> <ul><li><p><strong>fs.unwatchFile(filename[, listener])</strong></p> <ul><li>filename &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>listener &lt;Function&gt;</li></ul> <blockquote><p><em>åœæ­¢å¯¹filenameçš„ç›‘è§†ã€‚å¦‚æœæŒ‡å®šäº†listenerï¼Œåˆ™ç§»é™¤æ­¤ç‰¹å®šç›‘è§†å™¨ï¼Œå¦åˆ™ç§»é™¤æ‰€æœ‰ç›‘è§†å™¨ï¼Œä»è€Œåœæ­¢ç›‘è§†filenameã€‚å¯¹æœªè¢«ç›‘è§†çš„æ–‡ä»¶åè°ƒç”¨ fs.unwatchFile() å°†æ˜¯ç©ºæ“ä½œï¼Œè€Œä¸æ˜¯é”™è¯¯ã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.FSWatcherç±»</strong></p> <blockquote><p><em>æˆåŠŸè°ƒç”¨ fs.watch() æ–¹æ³•å°†ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ fs.FSWatcher å¯¹è±¡ã€‚æ¯å½“æŒ‡å®šç›‘è§†çš„æ–‡ä»¶è¢«ä¿®æ”¹æ—¶ï¼Œæ‰€æœ‰çš„ fs.FSWatcher å¯¹è±¡éƒ½ä¼šè§¦å‘ 'change' äº‹ä»¶ã€‚</em></p></blockquote> <ul><li>'change'äº‹ä»¶
<ul><li>eventType &lt;string&gt; å·²å‘ç”Ÿçš„æ›´æ”¹äº‹ä»¶çš„ç±»å‹ã€‚</li> <li>filename &lt;string&gt; | &lt;Buffer&gt; æ›´æ”¹çš„æ–‡ä»¶åï¼ˆå¦‚æœç›¸å…³æˆ–å¯ç”¨ï¼‰ã€‚</li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// eventTypeæ˜¯'rename'æˆ–'change', filename æ˜¯è§¦å‘äº‹ä»¶çš„æ–‡ä»¶çš„åç§°ã€‚</span>
fs<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">'./fs.md'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">eventType<span class="token punctuation">,</span> filename</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>eventType<span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017232203.png" alt=""></p> <ul><li>'close' äº‹ä»¶
<ul><li>å½“ç›‘è§†å™¨åœæ­¢ç›‘è§†æ›´æ”¹æ—¶è§¦å‘</li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> fsWatch <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">'./fs.md'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">eventType<span class="token punctuation">,</span> filename</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>eventType<span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> fsWatch<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fsWatch<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017232230.jpg" alt=""></p> <ul><li><p>'error' äº‹ä»¶</p> <ul><li>å½“ç›‘è§†æ–‡ä»¶æ—¶å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘ã€‚</li></ul></li> <li><p>watcher.close()</p> <ul><li>ç»™å®šçš„ fs.FSWatcher åœæ­¢ç›‘è§†æ›´æ”¹ã€‚</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//ä¸Šé¢ä¸€æ®µä»£ç ä¸­çš„</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> fsWatch<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li></ul> <hr> <ul><li><p><strong>fs.createReadStream(path[, options])</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;string&gt; | &lt;Object&gt;
<ul><li>flags &lt;string&gt; å‚è§æ–‡ä»¶ç³»ç»Ÿ flag çš„æ”¯æŒã€‚ é»˜è®¤å€¼: 'r'</li> <li>encoding &lt;string&gt; é»˜è®¤å€¼: null</li> <li>fd &lt;integer&gt; é»˜è®¤å€¼: null</li> <li>mode &lt;integer&gt; é»˜è®¤å€¼: 0o666</li> <li>autoClose &lt;boolean&gt; é»˜è®¤å€¼: true</li> <li>emitClose &lt;boolean&gt; é»˜è®¤å€¼: false</li> <li>start &lt;integer&gt;</li> <li>end &lt;integer&gt; é»˜è®¤å€¼: Infinity</li> <li>highWaterMark &lt;integer&gt; é»˜è®¤å€¼: 64 * 1024</li> <li>fs  &lt;Object&gt; | &lt;null&gt; é»˜è®¤å€¼: null</li></ul></li></ul> <blockquote><p><em>è¿”å›fs.ReadStream ç±»ã€‚å¦‚æœoptionsæŒ‡å®šäº† fdï¼Œåˆ™ ReadStream ä¼šå¿½ç•¥ path å‚æ•°ï¼Œå¹¶ä¸”ä¼šä½¿ç”¨æŒ‡å®šçš„æ–‡ä»¶æè¿°ç¬¦ã€‚</em></p></blockquote> <blockquote><p><em>highWaterMarkå†…éƒ¨ç¼“å†²åŒºæœ€å¤šèƒ½å®¹çº³çš„å­—èŠ‚æ•°ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªå¤§å°ï¼Œå°±åœæ­¢è¯»å–èµ„æºæ–‡ä»¶ï¼Œé»˜è®¤å€¼æ˜¯64KBã€‚æ¯”å¦‚æœ‰ä¸€ä¸ª100KBçš„æ–‡ä»¶ï¼Œè®¾ç½®highWaterMarkä¸º10KB,é‚£ä¹ˆç³»ç»Ÿä¼šå…ˆä»èµ„æºæ–‡ä»¶ä¸­è¯»å–å‡º10KBçš„æ•°æ®ï¼Œå†è§¦å‘dataäº‹ä»¶;ç„¶åå†è¯»å–10KBçš„æ•°æ®ï¼Œè§¦å‘dataäº‹ä»¶ï¼Œä¸æ–­æ‰§è¡Œï¼Œç›´åˆ°è¯»å‡ºäº†æ‰€æœ‰çš„æ•°æ®ï¼Œè§¦å‘endäº‹ä»¶ã€‚highWaterMarkä¸èƒ½è®¾ç½®çš„è¿‡å°ï¼Œè¿‡å°å°±ä¼šé¢‘ç¹çš„æ“ä½œæ–‡ä»¶ï¼Œå½±å“æ€§èƒ½ã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.ReadStream ç±»</strong></p> <ul><li><p><a href="https://nodejs.org/en/knowledge/advanced/streams/how-to-use-fs-create-read-stream/" title="How to use fs.createReadStream?" target="_blank" rel="noopener noreferrer">How to use fs.createReadStream?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://itbilu.com/nodejs/core/Eyg7MCMMe.html" title="Node.jsæ–‡ä»¶ç³»ç»Ÿæ¨¡å—fsåˆ›å»ºå¯è¯»æµä¸å¯å†™æµ" target="_blank" rel="noopener noreferrer">Node.jsæ–‡ä»¶ç³»ç»Ÿæ¨¡å—fsåˆ›å»ºå¯è¯»æµä¸å¯å†™æµ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <blockquote><p><em>æˆåŠŸè°ƒç”¨fs.createReadStream()ä¼šè¿”å›æ–°å»ºçš„ fs.ReadStream å¯¹è±¡ã€‚</em> <em>fsæ¨¡å—æä¾›äº†åˆ›å»ºæ–‡ä»¶å¯è¯»æµä¸åˆ›å»ºæ–‡ä»¶å¯å†™è¯»çš„æ–¹æ³•ï¼šfs.createReadStream()å’Œfs.createWriteStream()ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«åˆ†è¿”å›ä¸€ä¸ªReadable Streamå¯¹è±¡å’ŒWritable Streamå¯¹è±¡ã€‚é€šè¿‡è¿™ä¸¤ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºæµçš„æ–‡ä»¶å¤„ç†ï¼Œåœ¨è¯»å†™å¤§æ–‡ä»¶åŠåŸºäºæµçš„è½¬æ¥ã€æš‚åœã€è¯»å–ç­‰æ“ä½œæ–¹é¢æœ‰å¾ˆå¤§çš„ä½œç”¨ã€‚</em></p></blockquote> <ul><li><p>closeäº‹ä»¶</p> <ul><li>å½“fs.ReadStreamçš„åº•å±‚æ–‡ä»¶æè¿°ç¬¦å·²å…³é—­æ—¶è§¦å‘ã€‚</li></ul></li> <li><p>openäº‹ä»¶</p> <ul><li>å½“fs.ReadStreamçš„æ–‡ä»¶æè¿°ç¬¦æ‰“å¼€æ—¶è§¦å‘ã€‚</li></ul></li> <li><p>readyäº‹ä»¶</p> <ul><li>å½“fs.ReadStreamå‡†å¤‡å¥½ä½¿ç”¨æ—¶è§¦å‘ã€‚'open'äº‹ä»¶ä¹‹åç«‹å³è§¦å‘ã€‚</li></ul></li> <li><p>endäº‹ä»¶</p></li> <li><p>erroräº‹ä»¶</p></li> <li><p>pauseäº‹ä»¶</p></li> <li><p>resumeäº‹ä»¶</p></li> <li><p>dataäº‹ä»¶</p></li> <li><p>readStream.bytesRead</p> <ul><li>åˆ°ç›®å‰ä¸ºæ­¢å·²è¯»å–çš„å­—èŠ‚æ•°ã€‚</li></ul></li> <li><p>readStream.path</p> <ul><li>æµæ­£åœ¨è¯»å–çš„æ–‡ä»¶çš„è·¯å¾„ï¼Œç”± fs.createReadStream() çš„ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šã€‚å¦‚æœ path ä¼ å…¥å­—ç¬¦ä¸²ï¼Œåˆ™ readStream.path å°†æ˜¯å­—ç¬¦ä¸²ã€‚å¦‚æœ path ä¼ å…¥ Bufferï¼Œåˆ™ readStream.pathå°†æ˜¯Bufferã€‚</li></ul></li> <li><p>readStream.pending</p> <ul><li>å¦‚æœåº•å±‚çš„æ–‡ä»¶è¿˜æœªè¢«æ‰“å¼€ï¼ˆå³åœ¨è§¦å‘ 'ready' äº‹ä»¶ä¹‹å‰ï¼‰ï¼Œåˆ™æ­¤å±æ€§ä¸º trueã€‚</li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//hello.txtçš„å†…å®¹ä¸º hello</span>
<span class="token keyword">let</span> readStream <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span><span class="token string">'./file/hello.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>readStream<span class="token punctuation">.</span>pending<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>

readStream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'open'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>readStream<span class="token punctuation">.</span>bytesRead<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 0</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>readStream<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// './file/hello.txt'</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>readStream<span class="token punctuation">.</span>pending<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

readStream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>readStream<span class="token punctuation">.</span>bytesRead<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 5</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

readStream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

readStream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></li></ul> <hr> <ul><li><p><strong>fs.createWriteStream(path[, options])</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;string&gt; | &lt;Object&gt;
<ul><li>flags &lt;string&gt; å‚è§æ–‡ä»¶ç³»ç»Ÿ flag çš„æ”¯æŒã€‚ é»˜è®¤å€¼: 'w'</li> <li>encoding &lt;string&gt; é»˜è®¤å€¼: null</li> <li>fd &lt;integer&gt; é»˜è®¤å€¼: null</li> <li>mode &lt;integer&gt; é»˜è®¤å€¼: 0o666</li> <li>autoClose &lt;boolean&gt; é»˜è®¤å€¼: true</li> <li>emitClose &lt;boolean&gt; é»˜è®¤å€¼: false</li> <li>start &lt;integer&gt;</li> <li>end &lt;integer&gt; é»˜è®¤å€¼: Infinity</li> <li>highWaterMark &lt;integer&gt; é»˜è®¤å€¼: 16 * 1024ã€‚å¦‚æœè¶…è¿‡è¿™ä¸ªå€¼ï¼Œwriteæ–¹æ³•å°±ä¼šè¿”å›false</li> <li>fs  &lt;Object&gt; | &lt;null&gt; é»˜è®¤å€¼: null</li></ul></li></ul> <blockquote><p><em>è¿”å›fs.WriteStream ç±»ã€‚ä¸ ReadStream ä¸€æ ·ï¼Œå¦‚æœæŒ‡å®šäº† fdï¼Œåˆ™ WriteStream ä¼šå¿½ç•¥ path å‚æ•°ï¼Œå¹¶ä¸”ä¼šä½¿ç”¨æŒ‡å®šçš„æ–‡ä»¶æè¿°ç¬¦ã€‚ è¿™æ„å‘³ç€ä¸ä¼šè§¦å‘ 'open' äº‹ä»¶ã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.WriteStreamç±»</strong></p> <blockquote><p><em>æˆåŠŸè°ƒç”¨fs.createWriteStream()ä¼šè¿”å›æ–°å»ºçš„ fs.WriteStreamå¯¹è±¡ã€‚</em></p></blockquote> <ul><li><p>clsoeäº‹ä»¶</p> <ul><li>å½“ WriteStream çš„åº•å±‚æ–‡ä»¶æè¿°ç¬¦å·²å…³é—­æ—¶è§¦å‘</li></ul></li> <li><p>openäº‹ä»¶</p> <ul><li>å½“ WriteStream çš„æ–‡ä»¶æ‰“å¼€æ—¶è§¦å‘</li></ul></li> <li><p>readyäº‹ä»¶</p> <ul><li>'open' äº‹ä»¶ä¹‹åç«‹å³è§¦å‘</li></ul></li> <li><p>finishäº‹ä»¶</p></li> <li><p>erroräº‹ä»¶</p></li> <li><p>drainäº‹ä»¶</p> <ul><li>åœ¨ç¼“å†²åŒºæ•°æ®å†™å…¥å®Œæ¯•åè§¦å‘</li></ul></li> <li><p>writeStream.bytesWritten</p> <ul><li>åˆ°ç›®å‰ä¸ºæ­¢å†™å…¥çš„å­—èŠ‚æ•°ã€‚ ä¸åŒ…æ‹¬ä»åœ¨æ’é˜Ÿç­‰å¾…å†™å…¥çš„æ•°æ®</li></ul></li> <li><p>writeStream.path</p> <ul><li>æµæ­£åœ¨å†™å…¥çš„æ–‡ä»¶çš„è·¯å¾„ï¼Œç”± fs.createWriteStream() çš„ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šã€‚ å¦‚æœ path ä¼ å…¥å­—ç¬¦ä¸²ï¼Œåˆ™ writeStream.path å°†æ˜¯å­—ç¬¦ä¸²ã€‚ å¦‚æœ path ä¼ å…¥ Bufferï¼Œåˆ™ writeStream.path å°†æ˜¯ Bufferã€‚</li></ul></li> <li><p>writeStream.pending</p> <ul><li>å¦‚æœåº•å±‚çš„æ–‡ä»¶è¿˜æœªè¢«æ‰“å¼€ï¼ˆå³åœ¨è§¦å‘ 'ready' äº‹ä»¶ä¹‹å‰ï¼‰ï¼Œåˆ™æ­¤å±æ€§ä¸º trueã€‚</li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> writeStream <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createWriteStream</span><span class="token punctuation">(</span><span class="token string">'./file/test.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>writeStream<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ./file/test.txt</span>

writeStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'wswswsws'</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'UTF-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//å†™å…¥å†…å®¹æ ¼å¼ä¸ºï¼šwswswswsThu May 07 2020 18:22:06 GMT+0800 (GMT+08:00)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>writeStream<span class="token punctuation">.</span>bytesWritten<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>

writeStream<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ ‡è®°æ–‡ä»¶æœ«å°¾, ç»“æŸå†™å…¥æµ, é‡Šæ”¾èµ„æº</span>

writeStream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span> <span class="token string">'finish'</span><span class="token punctuation">,</span>  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>writeStream<span class="token punctuation">.</span>bytesWritten<span class="token punctuation">)</span> <span class="token comment">// 53</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;å†™å…¥å®Œæˆ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

writeStream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span> <span class="token string">'error'</span><span class="token punctuation">,</span>  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//ä¸€ä¸ªæ–‡ä»¶æ‹·è´çš„ä¾‹å­</span>
<span class="token keyword">let</span> rs <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span><span class="token string">&quot;/img/in-post/post-node-fs/timg.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é»˜è®¤64KB</span>
<span class="token keyword">let</span> ws <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createWriteStream</span><span class="token punctuation">(</span><span class="token string">&quot;/img/in-post/post-node-fs/Copy.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é»˜è®¤16KBï¼Œå†™å…¥é€Ÿåº¦å°äºè¯»å–é€Ÿåº¦</span>
rs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> flag <span class="token operator">=</span> ws<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//ç¼“å†²åŒºå·²æ»¡</span>
    rs<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åœæ­¢è§¦å‘dataäº‹ä»¶</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;drain&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  rs<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¦‚æœå½“å‰çš„ç¼“å†²åŒºå†™å…¥å®Œæ¯•ï¼Œå°±é‡æ–°è§¦å‘dataäº‹ä»¶</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;end&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ws<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å°†å‰©ä¸‹çš„æ•°æ®å…¨éƒ¨å†™å…¥ï¼Œå¹¶ä¸”å…³é—­å†™å…¥çš„æ–‡ä»¶</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li></ul> <hr> <ul><li><strong>fs.access(path[, mode], callback)</strong> <ul><li>path è·¯å¾„</li> <li>mode <strong>é»˜è®¤å€¼:</strong> fs.constants.F_OK (ä¸º0)</li> <li>callback å›è°ƒå‡½æ•°
<ul><li>err</li></ul></li></ul></li></ul> <blockquote><p><em>æµ‹è¯•ç”¨æˆ·å¯¹ path æŒ‡å®šçš„æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™ã€‚ mode å‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„æ•´æ•°ï¼ŒæŒ‡å®šè¦æ‰§è¡Œçš„å¯è®¿é—®æ€§æ£€æŸ¥ã€‚æœ€åä¸€ä¸ªå‚æ•° callback æ˜¯å›è°ƒå‡½æ•°ï¼Œè°ƒç”¨æ—¶ä¼šä¼ å…¥å¯èƒ½çš„é”™è¯¯å‚æ•°ã€‚</em></p></blockquote> <ul><li><p>æ–‡ä»¶å¯è®¿é—®æ€§çš„å¸¸é‡(ä»¥ä¸‹å¸¸é‡é€‚ç”¨äº fs.access())</p> <table><thead><tr><th style="text-align:center;">å¸¸é‡</th> <th style="text-align:center;">è¯´æ˜</th></tr></thead> <tbody><tr><td style="text-align:center;">F_OK</td> <td style="text-align:center;">è¡¨æ˜æ–‡ä»¶å¯¹è°ƒç”¨è¿›ç¨‹å¯è§ã€‚ è¿™å¯¹äºåˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨å¾ˆæœ‰ç”¨ï¼Œä½†å¯¹ rwx æƒé™æ²¡æœ‰ä»»ä½•è¯´æ˜ã€‚ å¦‚æœæœªæŒ‡å®šæ¨¡å¼ï¼Œåˆ™é»˜è®¤å€¼ä¸ºè¯¥å€¼ã€‚</td></tr> <tr><td style="text-align:center;">R_OK</td> <td style="text-align:center;">è¡¨æ˜è°ƒç”¨è¿›ç¨‹å¯ä»¥è¯»å–æ–‡ä»¶</td></tr> <tr><td style="text-align:center;">W_OK</td> <td style="text-align:center;">è¡¨æ˜è°ƒç”¨è¿›ç¨‹å¯ä»¥å†™å…¥æ–‡ä»¶</td></tr> <tr><td style="text-align:center;">X_OK</td> <td style="text-align:center;">è¡¨æ˜è°ƒç”¨è¿›ç¨‹å¯ä»¥æ‰§è¡Œæ–‡ä»¶ã€‚ åœ¨ Windows ä¸Šæ— æ•ˆ(è¡¨ç°å¾—åƒ fs.constants.F_OK)</td></tr></tbody></table> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token string">'./file/test.txt'</span><span class="token punctuation">;</span>

<span class="token comment">// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨äºå½“å‰ç›®å½•ä¸­ã€‚</span>
fs<span class="token punctuation">.</span><span class="token function">access</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> fs<span class="token punctuation">.</span>constants<span class="token punctuation">.</span><span class="token constant">F_OK</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err <span class="token operator">?</span> <span class="token string">'ä¸å­˜åœ¨'</span> <span class="token operator">:</span> <span class="token string">'å­˜åœ¨'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å¯è¯»ã€‚</span>
fs<span class="token punctuation">.</span><span class="token function">access</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> fs<span class="token punctuation">.</span>constants<span class="token punctuation">.</span><span class="token constant">R_OK</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err <span class="token operator">?</span> <span class="token string">'ä¸å¯è¯»'</span> <span class="token operator">:</span> <span class="token string">'å¯è¯»'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å¯å†™ã€‚</span>
fs<span class="token punctuation">.</span><span class="token function">access</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> fs<span class="token punctuation">.</span>constants<span class="token punctuation">.</span><span class="token constant">W_OK</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err <span class="token operator">?</span> <span class="token string">'ä¸å¯å†™'</span> <span class="token operator">:</span> <span class="token string">'å¯å†™'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨äºå½“å‰ç›®å½•ä¸­ã€ä»¥åŠæ˜¯å¦å¯å†™ã€‚</span>
fs<span class="token punctuation">.</span><span class="token function">access</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> fs<span class="token punctuation">.</span>constants<span class="token punctuation">.</span><span class="token constant">F_OK</span> <span class="token operator">|</span> fs<span class="token punctuation">.</span>constants<span class="token punctuation">.</span><span class="token constant">W_OK</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token string">'ENOENT'</span> <span class="token operator">?</span> <span class="token string">'ä¸å­˜åœ¨'</span> <span class="token operator">:</span> <span class="token string">'åªå¯è¯»'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> å­˜åœ¨ï¼Œä¸”å¯å†™</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// fs.constants</span>
<span class="token punctuation">{</span>
  <span class="token constant">UV_FS_SYMLINK_DIR</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token constant">UV_FS_SYMLINK_JUNCTION</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token constant">O_RDONLY</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token constant">O_WRONLY</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token constant">O_RDWR</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token constant">UV_DIRENT_UNKNOWN</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token constant">UV_DIRENT_FILE</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token constant">UV_DIRENT_DIR</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token constant">UV_DIRENT_LINK</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token constant">UV_DIRENT_FIFO</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token constant">UV_DIRENT_SOCKET</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token constant">UV_DIRENT_CHAR</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
  <span class="token constant">UV_DIRENT_BLOCK</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
  <span class="token constant">S_IFMT</span><span class="token operator">:</span> <span class="token number">61440</span><span class="token punctuation">,</span>
  <span class="token constant">S_IFREG</span><span class="token operator">:</span> <span class="token number">32768</span><span class="token punctuation">,</span>
  <span class="token constant">S_IFDIR</span><span class="token operator">:</span> <span class="token number">16384</span><span class="token punctuation">,</span>
  <span class="token constant">S_IFCHR</span><span class="token operator">:</span> <span class="token number">8192</span><span class="token punctuation">,</span>
  <span class="token constant">S_IFLNK</span><span class="token operator">:</span> <span class="token number">40960</span><span class="token punctuation">,</span>
  <span class="token constant">O_CREAT</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
  <span class="token constant">O_EXCL</span><span class="token operator">:</span> <span class="token number">1024</span><span class="token punctuation">,</span>
  <span class="token constant">UV_FS_O_FILEMAP</span><span class="token operator">:</span> <span class="token number">536870912</span><span class="token punctuation">,</span>
  <span class="token constant">O_TRUNC</span><span class="token operator">:</span> <span class="token number">512</span><span class="token punctuation">,</span>
  <span class="token constant">O_APPEND</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
  <span class="token constant">F_OK</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token constant">R_OK</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token constant">W_OK</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token constant">X_OK</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token constant">UV_FS_COPYFILE_EXCL</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token constant">COPYFILE_EXCL</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token constant">UV_FS_COPYFILE_FICLONE</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token constant">COPYFILE_FICLONE</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token constant">UV_FS_COPYFILE_FICLONE_FORCE</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token constant">COPYFILE_FICLONE_FORCE</span><span class="token operator">:</span> <span class="token number">4</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div></li></ul> <hr> <ul><li><strong>fs.accessSync(path[, mode])</strong> <ul><li>path</li> <li>mode <strong>é»˜è®¤å€¼:</strong> fs.constants.F_OKã€‚</li></ul></li></ul> <blockquote><p><em>åŒæ­¥åœ°æµ‹è¯•ç”¨æˆ·å¯¹ path æŒ‡å®šçš„æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™ã€‚ mode å‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„æ•´æ•°ï¼ŒæŒ‡å®šè¦æ‰§è¡Œçš„å¯è®¿é—®æ€§æ£€æŸ¥ã€‚</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
  fs<span class="token punctuation">.</span><span class="token function">accessSync</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> fs<span class="token punctuation">.</span>constants<span class="token punctuation">.</span><span class="token constant">R_OK</span> <span class="token operator">|</span> fs<span class="token punctuation">.</span>constants<span class="token punctuation">.</span><span class="token constant">W_OK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">å¯è¯»å†™</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">æ— æƒé™è®¿é—®</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><hr> <ul><li><strong>fs.appendFile(path, data[, options], callback)</strong> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt; | &lt;number&gt; æ–‡ä»¶åæˆ–æ–‡ä»¶æè¿°ç¬¦ã€‚</li> <li>data &lt;string&gt; | &lt;Buffer&gt;</li> <li>options &lt;object&gt; | &lt;string&gt;
<ul><li>encoding &lt;string&gt; | &lt;null&gt; é»˜è®¤å€¼: 'utf8'</li> <li>mode &lt;integer&gt; é»˜è®¤å€¼: 0o666</li> <li>flag &lt;string&gt; å‚è§æ–‡ä»¶ç³»ç»Ÿ flag çš„æ”¯æŒã€‚é»˜è®¤å€¼: 'a'ã€‚</li></ul></li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li></ul></li></ul></li></ul> <blockquote><p>å¼‚æ­¥åœ°è¿½åŠ æ•°æ®åˆ°æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å°šä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶ã€‚ data å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ– Bufferã€‚</p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">appendFile</span><span class="token punctuation">(</span><span class="token string">'./file/test.txt'</span><span class="token punctuation">,</span> <span class="token string">'\nappend data=='</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'data has been appended'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//pathå¯ä»¥æŒ‡å®šä¸ºå·²æ‰“å¼€ç”¨äºè¿½åŠ (ä½¿ç”¨fs.open()æˆ–fs.openSync())çš„æ•°å­—å‹æ–‡ä»¶æè¿°ç¬¦ã€‚æ–‡ä»¶æè¿°ç¬¦ä¸ä¼šè‡ªåŠ¨å…³é—­</span>
fs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'./file/test.txt'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> fd</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  fs<span class="token punctuation">.</span><span class="token function">appendFile</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token string">'append data by fd'</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    fs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017232253.png" alt=""></p> <p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017232304.png" alt=""></p> <hr> <ul><li><strong>fs.appendFileSync(path, data[, options])</strong> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt; | &lt;number&gt; æ–‡ä»¶åæˆ–æ–‡ä»¶æè¿°ç¬¦ã€‚</li> <li>data &lt;string&gt; | &lt;Buffer&gt;</li> <li>options &lt;object&gt; | &lt;string&gt;
<ul><li>encoding &lt;string&gt; | &lt;null&gt; é»˜è®¤å€¼: 'utf8'</li> <li>mode &lt;integer&gt; é»˜è®¤å€¼: 0o666</li> <li>flag &lt;string&gt; å‚è§æ–‡ä»¶ç³»ç»Ÿ flag çš„æ”¯æŒã€‚é»˜è®¤å€¼: 'a'ã€‚</li></ul></li></ul></li></ul> <blockquote><p><em>åŒæ­¥åœ°å°†æ•°æ®è¿½åŠ åˆ°æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å°šä¸å­˜åœ¨åˆ™åˆ›å»ºè¯¥æ–‡ä»¶ã€‚ data å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ– Buffer</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//å¦‚æœoptionsæ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™å®ƒæŒ‡å®šå­—ç¬¦ç¼–ç </span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  fs<span class="token punctuation">.</span><span class="token function">appendFileSync</span><span class="token punctuation">(</span><span class="token string">'./file/test.txt'</span><span class="token punctuation">,</span> <span class="token string">'\nappend data sync'</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'data has append file Sync'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//pathå¯ä»¥æŒ‡å®šä¸ºå·²æ‰“å¼€ç”¨äºè¿½åŠ (ä½¿ç”¨fs.open()æˆ–fs.openSync())çš„æ•°å­—å‹æ–‡ä»¶æè¿°ç¬¦ã€‚æ–‡ä»¶æè¿°ç¬¦ä¸ä¼šè‡ªåŠ¨å…³é—­</span>

<span class="token keyword">let</span> fd<span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  fd <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">openSync</span><span class="token punctuation">(</span><span class="token string">'æ–‡ä»¶.txt'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  fs<span class="token punctuation">.</span><span class="token function">appendFileSync</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token string">'è¿½åŠ çš„æ•°æ®'</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">/* å¤„ç†é”™è¯¯ */</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>fd <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>
    fs<span class="token punctuation">.</span><span class="token function">closeSync</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><hr> <ul><li><p><strong>fs.chmod(path, mode, callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>mode &lt;string&gt; | &lt;integer&gt;</li> <li>callback &lt;Function&gt;
<ul><li>err</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°æ›´æ”¹æ–‡ä»¶çš„æƒé™</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//rã€wã€x ==&gt; 4ã€2ã€1</span>
<span class="token comment">//user(rwx) group(r-x) other(r--)</span>
<span class="token comment">//åœ¨windowsä¸‹æƒé™ä¿®æ”¹æ²¡æœ‰æˆåŠŸï¼Œä½†æ˜¯ä¸ä¼šæŠ¥é”™(åœ¨gitBashç¯å¢ƒä¸‹éªŒè¯çš„)</span>
fs<span class="token punctuation">.</span><span class="token function">chmod</span><span class="token punctuation">(</span><span class="token string">'./file/test.txt'</span><span class="token punctuation">,</span> <span class="token number">0o666</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ–‡ä»¶test.txtæƒé™å·²æ›´æ”¹'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <hr> <ul><li><p><strong>fs.chmodSync(path, mode)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>mode &lt;string&gt; | &lt;integer&gt;</li></ul> <blockquote><p><em>åŒæ­¥åœ°æ›´æ”¹æ–‡ä»¶çš„æƒé™</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.fchmod(fd, mode, callback)</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>mode &lt;string&gt; | &lt;integer&gt;</li> <li>callback &lt;Function&gt;
<ul><li>err</li></ul></li></ul> <blockquote><p><em>è¿™ä¸ªä¹Ÿæ˜¯å¼‚æ­¥åœ°ä¿®æ”¹æ–‡ä»¶çš„æƒé™ï¼Œä½†æ˜¯å®ƒå’Œfs.chmod(path, mode, callback)ä¸åŒçš„æ˜¯ï¼Œfs.fchmod(fd, mode, callback)ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ–‡ä»¶æè¿°ç¬¦ï¼Œè€Œfs.chmod(path, mode, callback)ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ–‡ä»¶è·¯å¾„</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.fchmodSync(fd, mode)</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>mode &lt;string&gt; | &lt;integer&gt;</li></ul> <blockquote><p><em>åŒæ­¥åœ°ä¿®æ”¹æ–‡ä»¶çš„æƒé™(ä¼ å…¥æ–‡ä»¶æè¿°ç¬¦)</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.lchmode(path, mode, callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>mode &lt;integer&gt;</li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°æ›´æ”¹æ–‡ä»¶æƒé™ï¼ˆä¸è§£æç¬¦å·é“¾æ¥ï¼‰ï¼Œå³å¦‚æœ path æ˜¯ç¬¦å·é“¾æ¥ï¼Œåˆ™æŸ¥çœ‹çš„æ˜¯é“¾æ¥è‡ªèº«ï¼Œè€Œä¸æ˜¯å®ƒæŒ‡å‘çš„æ–‡ä»¶ã€‚</em></p></blockquote> <blockquote><p><em>The lchmod() system call is similar to chmod() but does not follow symbolic links.(???)ä»…é€‚ç”¨äº macOSã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.chown(path, uid, gid, callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>uid &lt;integer&gt;</li> <li>gid &lt;integer&gt;</li> <li>callback &lt;Function&gt;
<ul><li>err</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°æ›´æ”¹æ–‡ä»¶çš„æ‰€æœ‰è€…(user)å’Œç¾¤ç»„(group)</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.chownSync(path, uid, gid)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>uid &lt;integer&gt;</li> <li>gid &lt;integer&gt;</li></ul> <blockquote><p><em>åŒæ­¥åœ°æ›´æ”¹æ–‡ä»¶çš„æ‰€æœ‰è€…å’Œç¾¤ç»„ã€‚è¿”å› undefinedã€‚è¿™æ˜¯ fs.chown()çš„åŒæ­¥ç‰ˆæœ¬</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.fchown(fd, uid, gid, callback)</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>uid &lt;integer&gt;</li> <li>gid &lt;integer&gt;</li> <li>callback &lt;Function&gt;
<ul><li>err</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°æ›´æ”¹æ–‡ä»¶(ä¼ å…¥æ–‡ä»¶æè¿°ç¬¦)çš„æ‰€æœ‰è€…(user)å’Œç¾¤ç»„(group)</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.fchownSync(fd, uid, gid)</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>uid &lt;integer&gt;</li> <li>gid &lt;integer&gt;</li></ul> <blockquote><p><em>åŒæ­¥åœ°æ›´æ”¹æ–‡ä»¶(ä¼ å…¥æ–‡ä»¶æŒ‰æè¿°ç¬¦)çš„æ‰€æœ‰è€…å’Œç¾¤ç»„ã€‚è¿”å› undefinedã€‚è¿™æ˜¯ fs.fchown()çš„åŒæ­¥ç‰ˆæœ¬</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.lchown(path, uid, gid, callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>uid &lt;integer&gt;</li> <li>gid &lt;integer&gt;</li> <li>callback &lt;Function&gt;
<ul><li>err</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°æ›´æ”¹æ–‡ä»¶çš„æ‰€æœ‰è€…(user)å’Œç¾¤ç»„(group)ï¼Œä¸è§£æç¬¦å·é“¾æ¥ï¼Œå³å¦‚æœ path æ˜¯ç¬¦å·é“¾æ¥ï¼Œåˆ™æŸ¥çœ‹çš„æ˜¯é“¾æ¥è‡ªèº«ï¼Œè€Œä¸æ˜¯å®ƒæŒ‡å‘çš„æ–‡ä»¶ã€‚</em></p></blockquote> <blockquote><p><em>lchown() is like chown(), but does not dereference symbolic links.</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.lchownSync(path, uid, gid)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>uid &lt;integer&gt;</li> <li>gid &lt;integer&gt;</li></ul> <blockquote><p><em>åŒæ­¥åœ°æ›´æ”¹æ–‡ä»¶(ä¼ å…¥æ–‡ä»¶æŒ‰æè¿°ç¬¦)çš„æ‰€æœ‰è€…å’Œç¾¤ç»„ï¼Œä¸è§£æç¬¦å·é“¾æ¥ï¼Œå³å¦‚æœ path æ˜¯ç¬¦å·é“¾æ¥ï¼Œåˆ™æŸ¥çœ‹çš„æ˜¯é“¾æ¥è‡ªèº«ï¼Œè€Œä¸æ˜¯å®ƒæŒ‡å‘çš„æ–‡ä»¶ã€‚è¿”å› undefined</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.close(fd, callback)</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>callback &lt;Function&gt;
<ul><li>err</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°å…³é—­æ–‡ä»¶æè¿°ç¬¦</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.closeSync(fd)</strong></p> <ul><li>fd &lt;integer&gt;</li></ul> <blockquote><p><em>åŒæ­¥åœ°å…³é—­æ–‡ä»¶æè¿°ç¬¦</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.copyFile(src, dest[, mode], callback)</strong></p> <ul><li>src &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt; è¦æ‹·è´çš„æºæ–‡ä»¶å</li> <li>dest &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt; æ‹·è´æ“ä½œçš„ç›®æ ‡æ–‡ä»¶å</li> <li>mode &lt;integer&gt; ç”¨äºæ‹·è´æ“ä½œçš„ä¿®é¥°ç¬¦ã€‚é»˜è®¤å€¼: 0</li> <li>callback &lt;Function&gt;
<ul><li>err</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°å°† src æ‹·è´åˆ° destã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœ dest å·²ç»å­˜åœ¨ï¼Œåˆ™è¦†ç›–å®ƒã€‚ é™¤äº†å¯èƒ½çš„å¼‚å¸¸ï¼Œå›è°ƒå‡½æ•°æ²¡æœ‰å…¶ä»–å‚æ•°ã€‚mode æ˜¯ä¸€ä¸ªå¯é€‰çš„æ•´æ•°ï¼ŒæŒ‡å®šæ‹·è´æ“ä½œçš„è¡Œä¸ºã€‚å¯ä»¥åˆ›å»ºç”±ä¸¤ä¸ªæˆ–æ›´å¤šä¸ªå€¼æŒ‰ä½æˆ–ç»„æˆçš„æ©ç ï¼ˆæ¯”å¦‚ fs.constants.COPYFILE_EXCL | fs.constants.COPYFILE_FICLONEï¼‰</em></p></blockquote> <blockquote><ul><li>fs.constants.COPYFILE_EXCL - å¦‚æœ dest å·²å­˜åœ¨ï¼Œåˆ™æ‹·è´æ“ä½œå°†å¤±è´¥</li> <li>fs.constants.COPYFILE_FICLONE - æ‹·è´æ“ä½œå°†å°è¯•åˆ›å»ºå†™æ—¶æ‹·è´ï¼ˆcopy-on-writeï¼‰é“¾æ¥ã€‚å¦‚æœå¹³å°ä¸æ”¯æŒå†™æ—¶æ‹·è´ï¼Œåˆ™ä½¿ç”¨åå¤‡çš„æ‹·è´æœºåˆ¶</li> <li>fs.constants.COPYFILE_FICLONE_FORCE - æ‹·è´æ“ä½œå°†å°è¯•åˆ›å»ºå†™æ—¶æ‹·è´é“¾æ¥ã€‚å¦‚æœå¹³å°ä¸æ”¯æŒå†™æ—¶æ‹·è´ï¼Œåˆ™æ‹·è´æ“ä½œå°†å¤±è´¥</li></ul></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">copyFile</span><span class="token punctuation">(</span>mkdir <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// é€šè¿‡ä½¿ç”¨ COPYFILE_EXCLï¼Œå¦‚æœç›®æ ‡æ–‡ä»¶å­˜åœ¨ï¼Œåˆ™æ“ä½œå°†å¤±è´¥ã€‚</span>
  <span class="token comment">// fs.copyFile('æºæ–‡ä»¶.txt', 'ç›®æ ‡æ–‡ä»¶.txt', fs.constants.COPYFILE_EXCL, callback);</span>
  fs<span class="token punctuation">.</span><span class="token function">copyFile</span><span class="token punctuation">(</span><span class="token string">'./file/test.txt'</span><span class="token punctuation">,</span> <span class="token string">'./file_bak/test.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'copy successfully'</span><span class="token punctuation">,</span> mkdir <span class="token operator">==</span> <span class="token string">'mkdir'</span> <span class="token operator">?</span> <span class="token string">'mkdir'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//å…ˆåˆ¤æ–­æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>fs<span class="token punctuation">.</span><span class="token function">existsSync</span><span class="token punctuation">(</span><span class="token string">'./file_bak'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  fs<span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span><span class="token string">'./file_bak'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    <span class="token function">copyFile</span><span class="token punctuation">(</span><span class="token string">'mkdir'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token function">copyFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li></ul> <hr> <ul><li><p><strong>fs.copyFileSync(src, dest[, mode])</strong></p> <ul><li>src &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt; è¦æ‹·è´çš„æºæ–‡ä»¶å</li> <li>dest &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt; æ‹·è´æ“ä½œçš„ç›®æ ‡æ–‡ä»¶å</li> <li>mode &lt;integer&gt; ç”¨äºæ‹·è´æ“ä½œçš„ä¿®é¥°ç¬¦ã€‚é»˜è®¤å€¼: 0</li></ul> <blockquote><p><em>åŒæ­¥åœ°å°†srcæ‹·è´åˆ°destã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœdestå·²ç»å­˜åœ¨ï¼Œåˆ™è¦†ç›–å®ƒã€‚è¿”å›undefinedã€‚å¦‚æœåœ¨æ‰“å¼€ç›®æ ‡æ–‡ä»¶ç”¨äºå†™å…¥åå‘ç”Ÿé”™è¯¯ï¼Œåˆ™ Node.js å°†å°è¯•åˆ é™¤ç›®æ ‡æ–‡ä»¶ã€‚mode æ˜¯ä¸€ä¸ªå¯é€‰çš„æ•´æ•°ï¼ŒæŒ‡å®šæ‹·è´æ“ä½œçš„è¡Œä¸ºã€‚ å¯ä»¥åˆ›å»ºç”±ä¸¤ä¸ªæˆ–æ›´å¤šä¸ªå€¼æŒ‰ä½æˆ–ç»„æˆçš„æ©ç ï¼ˆæ¯”å¦‚ fs.constants.COPYFILE_EXCL | fs.constants.COPYFILE_FICLONEï¼‰ã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.existsSync(path)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>è¿”å›å¸ƒå°”å€¼</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//åˆ¤æ–­è·¯å¾„(æ–‡ä»¶å¤¹/æ–‡ä»¶)æ˜¯å¦å­˜åœ¨</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>fs<span class="token punctuation">.</span><span class="token function">existsSync</span><span class="token punctuation">(</span><span class="token string">'./file_bak'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//doSomething</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">//doSomething</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <hr> <ul><li><p><strong>fs.fdatasync(fd, callback)</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>callback &lt;Function&gt;
<ul><li>err</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°åˆ·æ–°æ•°æ®åˆ°ç£ç›˜</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Open the file</span>
fs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">&quot;a+&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> fd</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Write our data</span>
  fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// Force the file to be flushed</span>
      fs<span class="token punctuation">.</span><span class="token function">fdatasync</span><span class="token punctuation">(</span>fd <span class="token comment">/*, optional callback here */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul> <hr> <ul><li><p><strong>fs.fdatasyncSync(fd)</strong></p> <ul><li>fd &lt;integer&gt;</li></ul> <blockquote><p><em>fs.fdatasync(fd, callback)çš„åŒæ­¥ç‰ˆæœ¬ã€‚åŒæ­¥åœ°åˆ·æ–°æ•°æ®åˆ°ç£ç›˜ã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.stat(path[, options], callback)</strong></p> <ul><li>path  &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;Object&gt;
<ul><li>bigint &lt;boolean&gt;è¿”å›çš„fs.Statså¯¹è±¡ä¸­çš„æ•°å€¼æ˜¯å¦ä¸ºbigintå‹ã€‚é»˜è®¤å€¼: falseã€‚</li></ul></li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li> <li>stats &lt;fs.Stats&gt;</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°æŸ¥çœ‹æ–‡ä»¶çš„å±æ€§ä¿¡æ¯ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œå›è°ƒå‡½æ•°ä¸­statsä¸ºundefined,è‹¥è¦åªæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œä½†æ²¡æœ‰æ›´å¤šçš„æ“ä½œï¼Œåˆ™å»ºè®®ä½¿ç”¨ fs.access()</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">stat</span><span class="token punctuation">(</span><span class="token string">'./file/test.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stats <span class="token operator">?</span> <span class="token string">'æ–‡ä»¶å­˜åœ¨'</span> <span class="token operator">:</span> <span class="token string">'æ–‡ä»¶ä¸å­˜åœ¨'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>stats<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//æ–‡ä»¶å­˜åœ¨ï¼š{&quot;dev&quot;:3935059853,&quot;mode&quot;:33206,...}</span>
  <span class="token comment">//æ–‡ä»¶ä¸å­˜åœ¨: undefined</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token string">'./file/test.txt'</span><span class="token punctuation">;</span>
<span class="token comment">// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨äºå½“å‰ç›®å½•ä¸­ã€‚</span>
fs<span class="token punctuation">.</span><span class="token function">access</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> fs<span class="token punctuation">.</span>constants<span class="token punctuation">.</span><span class="token constant">F_OK</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err <span class="token operator">?</span> <span class="token string">'ä¸å­˜åœ¨'</span> <span class="token operator">:</span> <span class="token string">'å­˜åœ¨'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ul> <hr> <ul><li><p><strong>fs.statSync(path[, options])</strong></p> <ul><li>path  &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;Object&gt;
<ul><li>bigint &lt;boolean&gt;è¿”å›çš„fs.Statså¯¹è±¡ä¸­çš„æ•°å€¼æ˜¯å¦ä¸ºbigintå‹ã€‚é»˜è®¤å€¼: falseã€‚</li></ul></li> <li>è¿”å›&lt;fs.Stats&gt;</li></ul> <blockquote><p><em>åŒæ­¥åœ°æŸ¥çœ‹æ–‡ä»¶çš„å±æ€§ä¿¡æ¯ã€‚</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> stat <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">statSync</span><span class="token punctuation">(</span><span class="token string">'./file/test.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stat<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <hr> <ul><li><p><strong>fs.fstat(fd[, options], callback)</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>options &lt;Object&gt;
<ul><li>bigint &lt;boolean&gt;è¿”å›çš„fs.Statså¯¹è±¡ä¸­çš„æ•°å€¼æ˜¯å¦ä¸ºbigintå‹ã€‚é»˜è®¤å€¼: falseã€‚</li></ul></li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li> <li>stats &lt;fs.Stats&gt;</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°æŸ¥çœ‹æ–‡ä»¶çš„å±æ€§ä¿¡æ¯ã€‚ä¸fs.stat(path[, options], callback)ä¸åŒçš„æ˜¯ï¼Œfs.fstat(fd[, options], callback)ä¼ å…¥æ–‡ä»¶æè¿°ç¬¦ã€‚</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'./file/test.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> fd</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err <span class="token operator">&amp;&amp;</span> err<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token string">'ENOENT'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ–‡ä»¶ä¸å­˜åœ¨'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  fs<span class="token punctuation">.</span><span class="token function">fstat</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stats<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li></ul> <hr> <ul><li><p><strong>fs.fstatSync(fd[, options])</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>options &lt;Object&gt;
<ul><li>bigint &lt;boolean&gt;è¿”å›çš„fs.Statså¯¹è±¡ä¸­çš„æ•°å€¼æ˜¯å¦ä¸ºbigintå‹ã€‚é»˜è®¤å€¼: falseã€‚</li></ul></li></ul> <blockquote><p><em>åŒæ­¥åœ°æŸ¥çœ‹æ–‡ä»¶çš„å±æ€§ä¿¡æ¯ï¼Œä¼ å…¥æ–‡ä»¶æè¿°ç¬¦</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.lstat(path[, options], callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;Object&gt;
<ul><li>bigint &lt;boolean&gt;</li></ul></li> <li>callback &lt;Function&gt;
<ul><li>err</li> <li>stats</li></ul></li></ul> <blockquote><p><em>å›è°ƒä¼šä¼ å…¥ä¸¤ä¸ªå‚æ•° (err, stats)ï¼Œå…¶ä¸­statsæ˜¯fs.Statså¯¹è±¡ã€‚lstat()ä¸stat()ç›¸åŒï¼Œ<strong>åªæ˜¯å¦‚æœpathæ˜¯ç¬¦å·é“¾æ¥ï¼Œåˆ™æŸ¥çœ‹çš„æ˜¯é“¾æ¥è‡ªèº«ï¼Œè€Œä¸æ˜¯å®ƒæŒ‡å‘çš„æ–‡ä»¶ã€‚</strong>(è¿™ä¸ªéš¾é“å°±æ˜¯ä¼ è¯´ä¸­çš„ä¸è§£æç¬¦å·é“¾æ¥å—ï¼Ÿï¼Ÿ)</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.lstatSync(path[, options])</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;Object&gt;
<ul><li>bigint &lt;boolean&gt;</li></ul></li></ul> <blockquote><p><em>è¿”å›fs.Stats</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.fsync(fd, callback)</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°åˆ·æ–°æ•°æ®åˆ°ç£ç›˜</em></p></blockquote> <blockquote><p><em>fsync() transfers (&quot;flushes&quot;) all modified in-core data of (i.e., modified buffer cache pages for) the file referred to by the file descriptor fd to the disk device (or other permanent storage device)</em></p></blockquote> <p><a href="https://linux.die.net/man/2/fsync" title="fs.fsync(fd, callback)å’Œfs.fdatasync(fd, callback)çš„åŒºåˆ«" target="_blank" rel="noopener noreferrer">fs.fsync(fd, callback)å’Œfs.fdatasync(fd, callback)çš„åŒºåˆ«<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p><em>fdatasync() is similar to fsync(), but does not flush modified metadata unless that metadata is needed in order to allow a subsequent data retrieval to be correctly handled. For example, changes to st_atime or st_mtime (respectively, time of last access and time of last modification; see stat(2)) do not require flushing because they are not necessary for a subsequent data read to be handled correctly. On the other hand, a change to the file size (st_size, as made by say ftruncate(2)), would require a metadata flush.</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.fsyncSync(fd)</strong></p> <ul><li>fd &lt;integer&gt;</li></ul> <blockquote><p><em>åŒæ­¥åœ°åˆ·æ–°æ•°æ®åˆ°ç£ç›˜ã€‚è¿”å›undefined</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.ftruncate(fd[, len], callback)</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>len &lt;integer&gt; <strong>é»˜è®¤å€¼:</strong> 0</li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li></ul></li></ul> <blockquote><p><em>å¦‚æœæ–‡ä»¶æè¿°ç¬¦æŒ‡å‘çš„æ–‡ä»¶å¤§äº len ä¸ªå­—èŠ‚ï¼Œåˆ™åªæœ‰å‰é¢ len ä¸ªå­—èŠ‚ä¼šä¿ç•™åœ¨æ–‡ä»¶ä¸­ã€‚å¦‚æœæ–‡ä»¶å°äº len ä¸ªå­—èŠ‚ï¼Œåˆ™ä¼šå¯¹å…¶è¿›è¡Œæ‰©å±•ï¼Œå¹¶ä¸”æ‰©å±•éƒ¨åˆ†å°†å¡«å……ç©ºå­—èŠ‚ï¼ˆ'\0'ï¼‰</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'./file/hello.txt'</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fd <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">openSync</span><span class="token punctuation">(</span><span class="token string">'./file/hello.txt'</span><span class="token punctuation">,</span> <span class="token string">'r+'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">ftruncate</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'./file/hello.txt'</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017232336.jpg" alt=""></p> <p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017232349.jpg" alt=""></p></li></ul> <hr> <ul><li><p><strong>fs.ftruncateSync(fd[, len])</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>len &lt;integer&gt; <strong>é»˜è®¤å€¼:</strong> 0</li></ul> <blockquote><p><em>è¿”å›undefinedã€‚fs.ftruncate(fd[, len], callback)çš„åŒæ­¥ç‰ˆæœ¬</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.truncate(path[, len], callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>len &lt;integer&gt; <strong>é»˜è®¤å€¼:</strong> 0</li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li></ul></li></ul> <blockquote><p><em>å¦‚æœæ–‡ä»¶æè¿°ç¬¦æŒ‡å‘çš„æ–‡ä»¶å¤§äº len ä¸ªå­—èŠ‚ï¼Œåˆ™åªæœ‰å‰é¢ len ä¸ªå­—èŠ‚ä¼šä¿ç•™åœ¨æ–‡ä»¶ä¸­ã€‚å¦‚æœæ–‡ä»¶å°äº len ä¸ªå­—èŠ‚ï¼Œåˆ™ä¼šå¯¹å…¶è¿›è¡Œæ‰©å±•ï¼Œå¹¶ä¸”æ‰©å±•éƒ¨åˆ†å°†å¡«å……ç©ºå­—èŠ‚ï¼ˆ'\0'ï¼‰</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.truncateSync(path[, len])</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>len &lt;integer&gt; <strong>é»˜è®¤å€¼:</strong> 0</li></ul> <blockquote><p><em>è¿”å›undefinedã€‚fs.truncate(path[, len], callback)çš„åŒæ­¥ç‰ˆæœ¬</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.futimes(fd, atime, mtime, callback)</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>atime &lt;number&gt; | &lt;string&gt; | &lt;Date&gt; è®¿é—®æ—¶é—´</li> <li>mtime &lt;number&gt; | &lt;string&gt; | &lt;Date&gt; ä¿®æ”¹æ—¶é—´</li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li></ul></li></ul> <blockquote><p><em>æ›´æ”¹æ–‡ä»¶æè¿°ç¬¦æŒ‡å‘å¯¹è±¡çš„æ–‡ä»¶ç³»ç»Ÿæ—¶é—´æˆ³</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.futimesSync(fd, atime, mtime)</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>atime &lt;number&gt; | &lt;string&gt; | &lt;Date&gt;</li> <li>mtime &lt;number&gt; | &lt;string&gt; | &lt;Date&gt;</li></ul> <blockquote><p><em>fs.futimes(fd, atime, mtime, callback)çš„åŒæ­¥ç‰ˆæœ¬ã€‚è¿”å›undefined</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.utimes(path, atime, mtime, callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>atime &lt;number&gt; | &lt;string&gt; | &lt;Date&gt; è®¿é—®æ—¶é—´</li> <li>mtime &lt;number&gt; | &lt;string&gt; | &lt;Date&gt; ä¿®æ”¹æ—¶é—´</li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li></ul></li></ul> <blockquote><p><em>æ›´æ”¹pathæŒ‡å‘å¯¹è±¡çš„æ–‡ä»¶ç³»ç»Ÿæ—¶é—´æˆ³</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.utimesSync(path, atime, mtime)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>atime &lt;number&gt; | &lt;string&gt; | &lt;Date&gt; è®¿é—®æ—¶é—´</li> <li>mtime &lt;number&gt; | &lt;string&gt; | &lt;Date&gt; ä¿®æ”¹æ—¶é—´</li></ul> <blockquote><p><em>fs.utimes(path, atime, mtime, callback)çš„åŒæ­¥ç‰ˆæœ¬ã€‚è¿”å›undefined</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.link(existingPath, newPath, callback)</strong></p> <ul><li>existingPath &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt; æŒ‡å®šéœ€è¦è¢«åˆ›å»ºç¡¬é“¾æ¥çš„æ–‡ä»¶çš„å®Œæ•´è·¯å¾„åŠæ–‡ä»¶å</li> <li>newPath &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt; æŒ‡å®šè¢«åˆ›å»ºçš„ç¡¬é“¾æ¥çš„å®Œæ•´è·¯å¾„åŠæ–‡ä»¶å</li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°åˆ›å»ºç¡¬è¿æ¥ã€‚ç¡¬é“¾æ¥å®é™…ä¸Šæ˜¯æ–‡ä»¶çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶åã€‚åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªæ–‡ä»¶è¢«åˆ›å»ºä¹‹åå°±æ‹¥æœ‰äº†ä¸ªæ–‡ä»¶åï¼Œå› æ­¤è¯¥æ–‡ä»¶çš„ç¡¬é“¾æ¥æ•°é‡ä¸º1ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡æŸç§ç‰¹æ®Šçš„æ“ä½œä¸ºè¯¥æ–‡ä»¶åœ¨æŒ‡å®šä¸€ä¸ªæ–‡ä»¶åï¼Œè€Œè¿™ä¸­ç‰¹æ®Šçš„æ“ä½œç§°ä¸ºå¯¹è¯¥æ–‡ä»¶åˆ›å»ºç¡¬é“¾æ¥ã€‚åœ¨å¯¹è¯¥æ–‡ä»¶åˆ›å»ºä¸€ä¸ªç¡¬é“¾æ¥ä¹‹åï¼Œè™½ç„¶è¡¨é¢ä¸Šçœ‹èµ·æ¥æ‹¥æœ‰äº†ä¸¤ä¸ªä¸åŒçš„æ–‡ä»¶ï¼Œä½†æ˜¯åœ¨ç¡¬ç›˜ä¸­è¿™ä¸¤ä¸ªåªä¸è¿‡æ˜¯åŒä¸€ä¸ªæ–‡ä»¶çš„å¤šä¸ªç¡¬é“¾æ¥ï¼Œ<strong>å¦‚æœä¿®æ”¹äº†ä¸€ä¸ªæ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œå†æ‰“å¼€å¦å¤–ä¸€ä¸ªæ–‡ä»¶ï¼Œå°±ä¼šçœ‹è§å¦ä¸€ä¸ªæ–‡ä»¶ä¸­çš„å†…å®¹ä¹Ÿè¢«ä¿®æ”¹äº†</strong>ã€‚</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">link</span><span class="token punctuation">(</span><span class="token string">'./file/hello.txt'</span><span class="token punctuation">,</span> <span class="token string">'./file/hello_hard.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  fs<span class="token punctuation">.</span><span class="token function">stat</span><span class="token punctuation">(</span><span class="token string">'./file/hello.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stat</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stat<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017232415.png" alt=""></p> <p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017232432.png" alt=""></p></li></ul> <hr> <ul><li><p><strong>fs.unlink(path, callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°åˆ é™¤æ–‡ä»¶æˆ–ç¬¦å·é“¾æ¥ã€‚ é™¤äº†å¯èƒ½çš„å¼‚å¸¸ï¼Œå®Œæˆå›è°ƒæ²¡æœ‰å…¶ä»–å‚æ•°ã€‚fs.unlink() å¯¹ç©ºæˆ–éç©ºçš„ç›®å½•å‡ä¸èµ·ä½œç”¨ã€‚ è‹¥è¦åˆ é™¤ç›®å½•ï¼Œåˆ™ä½¿ç”¨ fs.rmdir()ã€‚</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">unlink</span><span class="token punctuation">(</span><span class="token string">'./file/hello_hard.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'delete file successfully'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <hr> <ul><li><p><strong>fs.linkSync(existingPath, newPath)</strong></p> <ul><li>existingPath &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt; æŒ‡å®šéœ€è¦è¢«åˆ›å»ºç¡¬é“¾æ¥çš„æ–‡ä»¶çš„å®Œæ•´è·¯å¾„åŠæ–‡ä»¶å</li> <li>newPath &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt; æŒ‡å®šè¢«åˆ›å»ºçš„ç¡¬é“¾æ¥çš„å®Œæ•´è·¯å¾„åŠæ–‡ä»¶å</li></ul> <blockquote><p><em>åŒæ­¥åœ°åˆ›é”®ç¡¬è¿æ¥ã€‚è¿”å›undefined</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.unlinkSync(path)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li></ul> <blockquote><p><em>åŒæ­¥åœ°åˆ é™¤æ–‡ä»¶æˆ–ç¬¦å·é“¾æ¥ã€‚è¿”å›undefined</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.mkdir(path[, options], callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;Object&gt; | &lt;integer&gt;
<ul><li>recursive &lt;boolean&gt;</li> <li>mode &lt;integer&gt;</li></ul></li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°åˆ›å»ºç›®å½•ã€‚</em></p></blockquote> <blockquote><p><em>å›è°ƒä¼šä¼ å…¥å¯èƒ½çš„å¼‚å¸¸ã€ä»¥åŠåˆ›å»ºçš„ç¬¬ä¸€ä¸ªç›®å½•çš„è·¯å¾„ï¼ˆå¦‚æœ recursive ä¸º trueï¼‰,(err, [path])ã€‚å¯é€‰çš„optionså‚æ•°å¯ä»¥æ˜¯æ•´æ•°ï¼ˆæŒ‡å®š modeï¼ˆæƒé™å’Œç²˜æ»ä½ï¼‰ï¼‰ã€æˆ–å¯¹è±¡ï¼ˆå…·æœ‰ mode å±æ€§å’Œ recursive å±æ€§ï¼ˆæŒ‡ç¤ºæ˜¯å¦è¦åˆ›å»ºçˆ¶ç›®å½•ï¼‰ï¼‰ã€‚å½“pathæ˜¯å·²å­˜åœ¨çš„ç›®å½•æ—¶ï¼Œè°ƒç”¨ fs.mkdir()ä»…åœ¨ recursive ä¸º false æ—¶æ‰ä¼šå¯¼è‡´é”™è¯¯ã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.mkdirSync(path[, options])</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;Object&gt; | &lt;integer&gt;
<ul><li>recursive &lt;boolean&gt;</li> <li>mode &lt;integer&gt;</li></ul></li></ul> <blockquote><p><em>åŒæ­¥åœ°åˆ›å»ºç›®å½•ã€‚è¿”å›undefinedï¼Œæˆ–è€…åˆ›å»ºçš„ç¬¬ä¸€ä¸ªç›®å½•è·¯å¾„(å¦‚æœrecursiveä¸ºtrue)ã€‚æ˜¯fs.mkdir()çš„åŒæ­¥ç‰ˆæœ¬</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.rmdir(path[, options], callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;Object&gt;
<ul><li>maxRetries &lt;integer&gt; å¦‚æœé‡åˆ°EBUSYã€EMFILEã€ENFILEã€ENOTEMPTY æˆ– EPERM é”™è¯¯ï¼Œåˆ™ Node.js ä¼šé‡è¯•è¯¥æ“ä½œ(æ¯æ¬¡å°è¯•æ—¶ä½¿ç”¨ retryDelay æ¯«ç§’æ—¶é•¿çš„çº¿æ€§å›é€€ç­‰å¾…)ã€‚æ­¤é€‰é¡¹è¡¨ç¤ºé‡è¯•çš„æ¬¡æ•°ã€‚å¦‚æœ recursive é€‰é¡¹ä¸ä¸º trueï¼Œåˆ™æ­¤é€‰é¡¹ä¼šè¢«å¿½ç•¥ã€‚é»˜è®¤å€¼: 0ã€‚</li> <li>recursive &lt;boolean&gt; å¦‚æœä¸º trueï¼Œåˆ™æ‰§è¡Œé€’å½’çš„ç›®å½•åˆ é™¤ã€‚é»˜è®¤å€¼: falseã€‚</li> <li>retryDelay &lt;integer&gt; é‡è¯•ä¹‹é—´ç­‰å¾…çš„æ—¶é—´(ä»¥æ¯«ç§’ä¸ºå•ä½)ã€‚å¦‚æœ recursive é€‰é¡¹ä¸ä¸º trueï¼Œåˆ™æ­¤é€‰é¡¹ä¼šè¢«å¿½ç•¥ã€‚ é»˜è®¤å€¼: 100ã€‚</li></ul></li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°åˆ é™¤ç›®å½•ã€‚å¯¹æ–‡ä»¶ï¼ˆè€Œä¸æ˜¯ç›®å½•ï¼‰ä½¿ç”¨ fs.rmdir() ä¼šå¯¼è‡´ ENOENT é”™è¯¯ï¼ˆåœ¨ Windows ä¸Šï¼‰æˆ– ENOTDIR é”™è¯¯ï¼ˆåœ¨ POSIX ä¸Šï¼‰ã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.rmdirSync(path[, options])</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;Object&gt;
<ul><li>maxRetries &lt;integer&gt; å¦‚æœé‡åˆ°EBUSYã€EMFILEã€ENFILEã€ENOTEMPTY æˆ– EPERM é”™è¯¯ï¼Œåˆ™ Node.js ä¼šé‡è¯•è¯¥æ“ä½œ(æ¯æ¬¡å°è¯•æ—¶ä½¿ç”¨ retryDelay æ¯«ç§’æ—¶é•¿çš„çº¿æ€§å›é€€ç­‰å¾…)ã€‚æ­¤é€‰é¡¹è¡¨ç¤ºé‡è¯•çš„æ¬¡æ•°ã€‚å¦‚æœ recursive é€‰é¡¹ä¸ä¸º trueï¼Œåˆ™æ­¤é€‰é¡¹ä¼šè¢«å¿½ç•¥ã€‚é»˜è®¤å€¼: 0ã€‚</li> <li>recursive &lt;boolean&gt; å¦‚æœä¸º trueï¼Œåˆ™æ‰§è¡Œé€’å½’çš„ç›®å½•åˆ é™¤ã€‚é»˜è®¤å€¼: falseã€‚</li> <li>retryDelay &lt;integer&gt; é‡è¯•ä¹‹é—´ç­‰å¾…çš„æ—¶é—´(ä»¥æ¯«ç§’ä¸ºå•ä½)ã€‚å¦‚æœ recursive é€‰é¡¹ä¸ä¸º trueï¼Œåˆ™æ­¤é€‰é¡¹ä¼šè¢«å¿½ç•¥ã€‚ é»˜è®¤å€¼: 100ã€‚</li></ul></li></ul> <blockquote><p><em>åŒæ­¥åœ°åˆ é™¤ç›®å½•ï¼Œè¿”å›undefinedã€‚å¯¹æ–‡ä»¶ï¼ˆè€Œä¸æ˜¯ç›®å½•ï¼‰ä½¿ç”¨ fs.rmdir() ä¼šå¯¼è‡´ ENOENT é”™è¯¯ï¼ˆåœ¨ Windows ä¸Šï¼‰æˆ– ENOTDIR é”™è¯¯ï¼ˆåœ¨ POSIX ä¸Šï¼‰ã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.mkdtemp(prefix[, options], callback)</strong></p> <ul><li>prefix &lt;string&gt;</li> <li>options &lt;string&gt; | &lt;Object&gt;
<ul><li>encoding &lt;string&gt; <strong>é»˜è®¤å€¼:</strong> 'utf8'</li></ul></li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li> <li>directory &lt;string&gt;</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„ä¸´æ—¶ç›®å½•. <strong>ç”Ÿæˆ</strong> è¦é™„åŠ åœ¨å¿…éœ€çš„prefixåé¢çš„å…­ä½éšæœºå­—ç¬¦ï¼Œä»¥åˆ›å»ºå”¯ä¸€çš„ä¸´æ—¶ç›®å½•.(å°±æ˜¯ç”Ÿæˆå…­ä½éšæœºå­—ç¬¦ï¼Œå°†è¿™å…­ä½éšæœºå­—ç¬¦æ·»åŠ åˆ°prefixåé¢ï¼Œä»¥åˆ›å»ºå”¯ä¸€çš„ä¸´æ—¶ç›®å½•)</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span><span class="token function">tmpdir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'dir-'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//C:\Users\YANCHO~1\AppData\Local\Temp\dir-</span>
fs<span class="token punctuation">.</span><span class="token function">mkdtemp</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span><span class="token function">tmpdir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'dir-'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> directory</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>directory<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//C:\Users\YANCHO~1\AppData\Local\Temp\dir-aX2EdU(è¿™ä¸ªå°±æ˜¯åˆ›å»ºçš„ç›®å½•)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//å¦‚æœè¦åœ¨æŒ‡å®šçš„ç›®å½•ä¸‹åˆ›å»ºä¸´æ—¶ç›®å½•</span>
<span class="token keyword">const</span> tmpDir <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./file'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">mkdtemp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>tmpDir<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token punctuation">.</span>sep<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> directory</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>directory<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//G:\node_learn\fs\file\CjOt1G</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017232457.jpg" alt=""></p></li></ul> <hr> <ul><li><p><strong>fs.mkdtempSync(prefix[, options])</strong></p> <ul><li>prefix &lt;string&gt;</li> <li>options &lt;string&gt; | &lt;Object&gt;
<ul><li>encoding &lt;string&gt; <strong>é»˜è®¤å€¼:</strong> 'utf8'</li></ul></li></ul> <blockquote><p><em>åŒæ­¥åœ°åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„ä¸´æ—¶ç›®å½•.è¿”å›åˆ›å»ºçš„ç›®å½•è·¯å¾„</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.open(path[, flag[, mode]], callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>flag &lt;string&gt; | &lt;number&gt; <strong>é»˜è®¤å€¼:</strong> 'r'</li> <li>mode &lt;string&gt; | &lt;number&gt; <strong>é»˜è®¤å€¼:</strong> 0o666(å¯è¯»å†™) [rw-rw-rw-]</li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li> <li>fd &lt;number&gt;</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°æ‰“å¼€æ–‡ä»¶</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.openSync(path[, flags, mode])</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>flags &lt;string&gt; | &lt;number&gt; <strong>é»˜è®¤å€¼:</strong> 'r'</li> <li>mode &lt;string&gt; | &lt;number&gt; <strong>é»˜è®¤å€¼:</strong> 0o666(å¯è¯»å†™) [rw-rw-rw-]</li></ul> <blockquote><p><em>åŒæ­¥åœ°æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œè¿”å›number,è¡¨ç¤ºæ–‡ä»¶æè¿°ç¬¦</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.opendir(path[, options], callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;Object&gt;
<ul><li>encoding &lt;string&gt; | &lt;null&gt; <strong>é»˜è®¤å€¼:</strong> 'utf8'</li> <li>bufferSize &lt;number&gt; å½“ä»ç›®å½•è¯»å–æ—¶åœ¨å†…éƒ¨ç¼“å†²çš„ç›®å½•é¡¹çš„æ•°é‡ã€‚å€¼è¶Šé«˜ï¼Œåˆ™æ€§èƒ½è¶Šå¥½ï¼Œä½†å†…å­˜å ç”¨æ›´é«˜ã€‚<strong>é»˜è®¤å€¼:</strong> 32</li></ul></li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li> <li>dir &lt;fs.Dir&gt;</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°æ‰“å¼€ç›®å½•ã€‚åˆ›å»ºä¸€ä¸ªfs.Dirç±»ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰ç”¨äºæ›´è¿›ä¸€æ­¥è¯»å–å’Œæ¸…ç†ç›®å½•çš„çš„å‡½æ•°</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">opendir</span><span class="token punctuation">(</span><span class="token string">'./file'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> dir</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">;</span>
dir<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
Dir {
[Symbol(kDirHandle)]: DirHandle {},
[Symbol(kDirBufferedEntries)]: [],
[Symbol(kDirPath)]: './file',
[Symbol(kDirClosed)]: false,
[Symbol(kDirOptions)]: { bufferSize: 32, encoding: 'utf8' },
[Symbol(kDirReadPromisified)]: [Function: bound [kDirReadImpl]],
[Symbol(kDirClosePromisified)]: [Function: bound close]
}
Dirent { name: 'CjOt1G', [Symbol(type)]: 2 }
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li></ul> <hr> <ul><li><p><strong>fs.opendirSync(path[, options])</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;Object&gt;
<ul><li>encoding &lt;string&gt; | &lt;null&gt; <strong>é»˜è®¤å€¼:</strong> 'utf8'</li> <li>bufferSize &lt;number&gt; å½“ä»ç›®å½•è¯»å–æ—¶åœ¨å†…éƒ¨ç¼“å†²çš„ç›®å½•é¡¹çš„æ•°é‡ã€‚å€¼è¶Šé«˜ï¼Œåˆ™æ€§èƒ½è¶Šå¥½ï¼Œä½†å†…å­˜å ç”¨æ›´é«˜ã€‚<strong>é»˜è®¤å€¼:</strong> 32</li></ul></li></ul> <blockquote><p><em>åŒæ­¥åœ°æ‰“å¼€ç›®å½•ã€‚åˆ›å»ºä¸€ä¸ªfs.Dirç±»ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰ç”¨äºæ›´è¿›ä¸€æ­¥è¯»å–å’Œæ¸…ç†ç›®å½•çš„çš„å‡½æ•°</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.read(fd, buffer, offset, length, position, callback)</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>buffer &lt;Buffer&gt; | &lt;TypedArray&gt; | &lt;DataView&gt;</li> <li>offset &lt;integer&gt;</li> <li>length &lt;integer&gt;</li> <li>position &lt;integer&gt;</li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li> <li>bytesRead &lt;integer&gt;</li> <li>buffer &lt;Buffer&gt;</li></ul></li></ul> <blockquote><ul><li><em>ä»<strong>fd</strong>æŒ‡å®šçš„æ–‡ä»¶ä¸­è¯»å–æ•°æ®</em>ã€‚</li> <li><em><strong>buffer</strong>æ˜¯æ•°æ®ï¼ˆä»fdè¯»å–ï¼‰è¦è¢«å†™å…¥çš„ buffer</em>ã€‚</li> <li><em><strong>offset</strong>æ˜¯bufferä¸­å¼€å§‹å†™å…¥çš„åç§»é‡ã€‚</em></li> <li><em><strong>length</strong> æ˜¯æ•´æ•°ï¼ŒæŒ‡å®šè¦è¯»å–çš„å­—èŠ‚æ•°</em></li> <li><em><strong>position</strong> å‚æ•°æŒ‡å®šä»æ–‡ä»¶ä¸­å¼€å§‹è¯»å–çš„ä½ç½®ï¼Œå¦‚æœ position ä¸º nullï¼Œåˆ™ä»å½“å‰æ–‡ä»¶ä½ç½®è¯»å–æ•°æ®ï¼Œå¹¶æ›´æ–°æ–‡ä»¶ä½ç½®ã€‚ å¦‚æœ position æ˜¯æ•´æ•°ï¼Œåˆ™æ–‡ä»¶ä½ç½®ä¼šä¿æŒä¸å˜</em></li> <li><em>å›è°ƒæœ‰ä¸‰ä¸ªå‚æ•° (err, bytesRead, buffer)ã€‚</em></li></ul></blockquote></li></ul> <hr> <ul><li><p><strong>fs.readSync(fd, buffer, offset, length, position)</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>buffer &lt;Buffer&gt; | &lt;TypedArray&gt; | &lt;DataView&gt;</li> <li>offset &lt;integer&gt;</li> <li>length &lt;integer&gt;</li> <li>position &lt;integer&gt;</li></ul> <blockquote><p><em>è¿”å›bytesReadçš„æ•°é‡ã€‚fs.readçš„åŒæ­¥ç‰ˆæœ¬ã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.read(fd, [options,] callback)</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>options &lt;Object&gt;
<ul><li>buffer &lt;Buffer&gt; | &lt;TypedArray&gt; | &lt;DataView&gt; é»˜è®¤å€¼: Buffer.alloc(16384)</li> <li>offset &lt;integer&gt; é»˜è®¤å€¼: 0</li> <li>length &lt;integer&gt; é»˜è®¤å€¼: buffer.length</li> <li>position &lt;integer&gt; é»˜è®¤å€¼: null</li></ul></li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li> <li>bytesRead &lt;integer&gt;</li> <li>buffer &lt;Buffer&gt;</li></ul></li></ul> <blockquote><p><em>ä¸ä¸Šè¿°fs.readå‡½æ•°ç±»ä¼¼ï¼Œæ­¤ç‰ˆæœ¬å¸¦æœ‰ä¸€ä¸ªå¯é€‰çš„optionså¯¹è±¡ã€‚ å¦‚æœæœªæŒ‡å®šoptionså¯¹è±¡ï¼Œåˆ™ä½¿ç”¨ä¸Šè¿°é»˜è®¤å€¼ã€‚</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'./file/test.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> fd</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  fs<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> bytesRead<span class="token punctuation">,</span> buffer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bytesRead<span class="token punctuation">,</span> buffer<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017232529.jpg" alt=""></p></li></ul> <hr> <ul><li><p><strong>fs.readSync(fd, buffer, [options])</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>buffer &lt;Buffer&gt; | &lt;TypedArray&gt; | &lt;DataView&gt;</li> <li>options &lt;Object&gt;
<ul><li>offset &lt;integer&gt; é»˜è®¤å€¼: 0</li> <li>length &lt;integer&gt; é»˜è®¤å€¼: buffer.length</li> <li>position &lt;integer&gt; é»˜è®¤å€¼: null</li></ul></li></ul> <blockquote><p><em>è¿”å›bytesReadï¼Œå³è¯»å–çš„å­—èŠ‚æ•°</em></p></blockquote></li></ul> <hr> <ul><li><p><em><strong>fs.readv(fd, buffers[, position], callback)</strong></em></p> <ul><li>fd &lt;integer&gt;</li> <li>buffers &lt;ArrayBufferView[]&gt;</li> <li>position &lt;integer&gt;</li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li> <li>bytesRead &lt;integer&gt;</li> <li>buffers &lt;ArrayBufferView[]&gt;</li></ul></li></ul> <blockquote><p><em>ä»fdæŒ‡å®šçš„æ–‡ä»¶ä¸­è¯»å–ï¼Œå¹¶ä½¿ç”¨readv()å†™å…¥ArrayBufferViewsæ•°ç»„ã€‚positionæ˜¯ä»æ–‡ä»¶å¼€å¤´åº”è¯»å–æ•°æ®çš„åç§»é‡ã€‚ å¦‚æœtypeof position !== 'number'ï¼Œå°†ä»å½“å‰ä½ç½®è¯»å–æ•°æ®ã€‚å›è°ƒå‡½æ•°æä¾›ä¸‰ä¸ªå‚æ•°ï¼šerrï¼ŒbytesReadå’Œbuffersã€‚ bytesReadæ˜¯ä»æ–‡ä»¶è¯»å–çš„å­—èŠ‚æ•°ã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><em><strong>fs.readvSync(fd, buffers[, position])</strong></em></p> <ul><li>fd &lt;integer&gt;</li> <li>buffers &lt;ArrayBufferView[]&gt;</li> <li>position &lt;integer&gt;</li></ul> <blockquote><p><em>è¿”å›bytesReadï¼Œè¯»å–çš„å­—èŠ‚æ•°</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.readdir(path[, options], callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;string&gt; | &lt;Object&gt;
<ul><li>encoding &lt;string&gt; é»˜è®¤å€¼ï¼š'utf8'</li> <li>withFileTypes &lt;boolean&gt; é»˜è®¤å€¼ï¼šfalse</li></ul></li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li> <li>files &lt;string[]&gt; | &lt;Buffer[]&gt; | &lt;fs.Dirent[]&gt;</li></ul></li></ul> <blockquote><p><em>å›è°ƒæœ‰ä¸¤ä¸ªå‚æ•° (err, files)ï¼Œå…¶ä¸­ files æ˜¯ç›®å½•ä¸­æ–‡ä»¶çš„åç§°çš„æ•°ç»„ï¼ˆä¸åŒ…æ‹¬ '.' å’Œ '..'ï¼‰ã€‚å¦‚æœ encoding è¢«è®¾ç½®ä¸º 'buffer'ï¼Œåˆ™è¿”å›çš„æ–‡ä»¶åä¼šä½œä¸º Buffer å¯¹è±¡ä¼ å…¥ã€‚å¦‚æœ options.withFileTypes è¢«è®¾ç½®ä¸º trueï¼Œåˆ™ files æ•°ç»„ä¼šåŒ…å« fs.Dirent å¯¹è±¡ã€‚</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span><span class="token string">'./file'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>encoding<span class="token operator">:</span> <span class="token string">'utf8'</span><span class="token punctuation">,</span>withFileTypes<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> files</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//withFileTypes:falseæ—¶[ 'CjOt1G', 'hello.txt', 'hello_hard.txt', 'test.txt' ]</span>
  <span class="token comment">//withFileTypes:trueæ—¶</span>
  <span class="token comment">//[</span>
  <span class="token comment">//  Dirent { name: 'CjOt1G', [Symbol(type)]: 2 },</span>
  <span class="token comment">//  Dirent { name: 'hello.txt', [Symbol(type)]: 1 },</span>
  <span class="token comment">//  Dirent { name: 'hello_hard.txt', [Symbol(type)]: 1 },</span>
  <span class="token comment">//  Dirent { name: 'test.txt', [Symbol(type)]: 1 }</span>
  <span class="token comment">//]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li></ul> <hr> <ul><li><p><strong>fs.readdirSync(path[, options])</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;string&gt; | &lt;Object&gt;
<ul><li>encoding &lt;string&gt; é»˜è®¤å€¼ï¼š'utf8'</li> <li>withFileTypes &lt;boolean&gt; é»˜è®¤å€¼ï¼šfalse</li></ul></li></ul> <blockquote><p><em>fs.readdirçš„åŒæ­¥ç‰ˆæœ¬</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.readFile(path[, options], callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt; | &lt;integer&gt; æ–‡ä»¶åæˆ–æ–‡ä»¶æè¿°ç¬¦</li> <li>options &lt;Object&gt; | &lt;string&gt;
<ul><li>encoding &lt;string&gt; | &lt;null&gt; é»˜è®¤å€¼ï¼šnull</li> <li>flag &lt;string&gt; é»˜è®¤å€¼ï¼š'r'</li></ul></li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li> <li>data &lt;Buffer&gt; | &lt;string&gt;</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°è¯»å–æ–‡ä»¶å†…å®¹ã€‚å¦‚æœ options æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™å®ƒæŒ‡å®šå­—ç¬¦ç¼–ç ã€‚å½“è·¯å¾„æ˜¯ç›®å½•æ—¶ï¼Œåˆ™ fs.readFile() å’Œ fs.readFileSync() çš„è¡Œä¸ºæ˜¯ç‰¹å®šäºå¹³å°çš„ã€‚ åœ¨ macOSã€Linux å’Œ Windows ä¸Šï¼Œä¼šè¿”å›é”™è¯¯ã€‚ åœ¨ FreeBSD ä¸Šï¼Œä¼šè¿”å›ç›®å½•å†…å®¹çš„è¡¨ç¤ºã€‚</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./file/test.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <hr> <ul><li><p><strong>fs.readFileSync(path[, options])</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt; | &lt;integer&gt; æ–‡ä»¶åæˆ–æ–‡ä»¶æè¿°ç¬¦</li> <li>options &lt;Object&gt; | &lt;string&gt;
<ul><li>encoding &lt;string&gt; | &lt;null&gt; é»˜è®¤å€¼ï¼šnull</li> <li>flag &lt;string&gt; é»˜è®¤å€¼ï¼š'r'</li></ul></li></ul> <blockquote><p><em>è¿”å›pathçš„å†…å®¹ã€‚fs.readFileçš„åŒæ­¥ç‰ˆæœ¬</em></p></blockquote></li></ul> <hr> <ul><li><p><em><strong>fs.symlink(target, path[, type], callback)</strong></em></p> <ul><li>target  &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>path  &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>type  &lt;string&gt;</li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°åˆ›å»ºç¬¦å·é“¾æ¥ã€‚åˆ›å»ºåä¸ºpathçš„é“¾æ¥ï¼Œè¯¥é“¾æ¥æŒ‡å‘ targetã€‚(path -&gt; target)ã€‚é™¤äº†å¯èƒ½çš„å¼‚å¸¸ï¼Œå®Œæˆå›è°ƒæ²¡æœ‰å…¶ä»–å‚æ•°ã€‚type å‚æ•°ä»…åœ¨Windowsä¸Šå¯ç”¨ï¼Œåœ¨å…¶ä»–å¹³å°ä¸Šåˆ™ä¼šè¢«å¿½ç•¥ã€‚å®ƒå¯ä»¥è¢«è®¾ç½®ä¸º 'dir'ã€ 'file' æˆ– 'junction'ã€‚å¦‚æœæœªè®¾ç½® type å‚æ•°ï¼Œåˆ™ Node.js å°†ä¼šè‡ªåŠ¨æ£€æµ‹ target çš„ç±»å‹å¹¶ä½¿ç”¨ 'file' æˆ– 'dir'ã€‚ å¦‚æœ target ä¸å­˜åœ¨ï¼Œåˆ™å°†ä¼šä½¿ç”¨ 'file'ã€‚ Windowsä¸Šçš„junction pointsè¦æ±‚targetè·¯å¾„æ˜¯ç»å¯¹è·¯å¾„ã€‚ å½“ä½¿ç”¨ 'junction' æ—¶ï¼Œtarget å‚æ•°å°†ä¼šè‡ªåŠ¨åœ°æ ‡å‡†åŒ–ä¸ºç»å¯¹è·¯å¾„ã€‚</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">symlink</span><span class="token punctuation">(</span><span class="token string">'./file/'</span><span class="token punctuation">,</span> <span class="token string">'./file_symlink'</span><span class="token punctuation">,</span> <span class="token string">'dir'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>ps:è¿™ä¸ªåœ¨window 10ä¸Šå¹¶æ²¡æœ‰åˆ›å»ºæˆåŠŸã€‚ä¼šæŠ¥é”™ï¼šoperation not permitted, symlink '.\file' -&gt; 'G:\node_learn\fs\file_symlink'ã€‚ä¸‹é¢çš„åŒæ­¥ç‰ˆæœ¬ä¹Ÿæ˜¯ä¸€æ ·ã€‚çœ‹æ ·å­æ˜¯æ“ä½œç³»ç»Ÿä¸å…è®¸ã€‚æˆ‘æƒ³æƒ³...</p></blockquote></li></ul> <hr> <ul><li><p><em><strong>fs.symlinkSync(target, path[, type])</strong></em></p> <ul><li>target  &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>path  &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>type  &lt;string&gt;</li></ul> <blockquote><p><em>è¿”å›undefinedã€‚åŒæ­¥åœ°åˆ›å»ºç¬¦å·é“¾æ¥</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.readlink(path[, options], callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;string&gt; | &lt;Object&gt;
<ul><li>encoding &lt;string&gt; é»˜è®¤å€¼ï¼š'utf8'</li></ul></li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Errro&gt;</li> <li>linkstring &lt;string&gt; | &lt;Buffer&gt;</li></ul></li></ul> <blockquote><p><em>å¯é€‰çš„ options å‚æ•°å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼ˆæŒ‡å®šå­—ç¬¦ç¼–ç ï¼‰ã€æˆ–å…·æœ‰ encoding å±æ€§ï¼ˆæŒ‡å®šç”¨äºä¼ ç»™å›è°ƒçš„é“¾æ¥è·¯å¾„çš„å­—ç¬¦ç¼–ç ï¼‰çš„å¯¹è±¡ã€‚ å¦‚æœ encoding è¢«è®¾ç½®ä¸º 'buffer'ï¼Œåˆ™è¿”å›çš„é“¾æ¥è·¯å¾„ä¼šä½œä¸º Buffer å¯¹è±¡ä¼ å…¥ã€‚</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//åº”è¯¥è¿™ä¹ˆå†™ï¼Œä¸Šé¢çš„åˆ›å»ºç¬¦å·é“¾æ¥å¤±è´¥ï¼Œè¿™ä¸ªå°±æ˜¯demoå§ï¼Œä¸æ˜¯å®æ“</span>
fs<span class="token punctuation">.</span><span class="token function">symlink</span><span class="token punctuation">(</span><span class="token string">'./file'</span><span class="token punctuation">,</span> <span class="token string">'./file_symlink'</span><span class="token punctuation">,</span> <span class="token string">'dir'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  fs<span class="token punctuation">.</span><span class="token function">readlink</span><span class="token punctuation">(</span><span class="token string">'./file_symlink'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> linkstring</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>linkstring<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//  ./file</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p><em>é“¾æ¥è·¯å¾„linkstringåº”è¯¥æ˜¯æŒ‡ ç¬¦å·é“¾æ¥<strong>æ‰€æŒ‡å‘</strong>çš„è·¯å¾„ã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.readlinkSync(path[, options])</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;string&gt; | &lt;Object&gt;
<ul><li>encoding &lt;string&gt; é»˜è®¤å€¼ï¼š'utf8'</li></ul></li></ul> <blockquote><p><em>è¿”å›stringæˆ–buffer</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.realpath(path[, options], callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;string&gt; | &lt;Object&gt;
<ul><li>encoding &lt;string&gt; é»˜è®¤å€¼ï¼š'utf8'</li></ul></li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li> <li>resolvedPath &lt;string&gt; | &lt;buffer&gt;</li></ul></li></ul> <blockquote><p><em>é€šè¿‡è§£æ .ã€ .. å’Œç¬¦å·é“¾æ¥å¼‚æ­¥åœ°è®¡ç®—è§„èŒƒè·¯å¾„åã€‚ä»…æ”¯æŒå¯è½¬æ¢ä¸º UTF8 å­—ç¬¦ä¸²çš„è·¯å¾„ã€‚å¯é€‰çš„ options å‚æ•°å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼ˆæŒ‡å®šå­—ç¬¦ç¼–ç ï¼‰ã€æˆ–å…·æœ‰ encoding å±æ€§ï¼ˆæŒ‡å®šç”¨äºä¼ ç»™å›è°ƒçš„è·¯å¾„çš„å­—ç¬¦ç¼–ç ï¼‰çš„å¯¹è±¡ã€‚ å¦‚æœ encoding è¢«è®¾ç½®ä¸º 'buffer'ï¼Œåˆ™è¿”å›çš„è·¯å¾„ä¼šä½œä¸º Buffer å¯¹è±¡ä¼ å…¥ã€‚</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">realpath</span><span class="token punctuation">(</span><span class="token string">'./file'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> resolvedPath</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>resolvedPath<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//G:\node_learn\fs\file</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>æ­¤å‡½æ•°çš„è¡Œä¸ºç±»ä¼¼äº realpath(3)ï¼Œä½†æœ‰ä¸€äº›ä¾‹å¤–:</p> <ul><li>åœ¨ä¸åŒºåˆ†å¤§å°å†™çš„æ–‡ä»¶ç³»ç»Ÿä¸Šä¸æ‰§è¡Œå¤§å°å†™è½¬æ¢ã€‚</li></ul></blockquote> <blockquote><ul><li>ç¬¦å·é“¾æ¥çš„æœ€å¤§æ•°é‡ä¸å¹³å°æ— å…³, å¹¶ä¸”é€šå¸¸é«˜äºæœ¬åœ° realpath(3) å®ç°æ”¯æŒçš„æ•°é‡ã€‚</li></ul></blockquote></li></ul> <hr> <ul><li><p><strong>fs.realpath.native(path[, options], callback)</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;string&gt; | &lt;Object&gt;
<ul><li>encoding &lt;string&gt; é»˜è®¤å€¼ï¼š'utf8'</li></ul></li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li> <li>resolvedPath &lt;string&gt; | &lt;buffer&gt;</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥çš„ <a href="http://man7.org/linux/man-pages/man3/realpath.3.html" title="realpath(3)" target="_blank" rel="noopener noreferrer">realpath(3)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.realpathSync(path[, options])</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;string&gt; | &lt;Object&gt;
<ul><li>encoding &lt;string&gt; é»˜è®¤å€¼ï¼š'utf8'</li></ul></li></ul> <blockquote><p><em>è¿”å›å·²è§£æçš„è·¯å¾„åã€‚fs.realpath(path[, options], callback)çš„åŒæ­¥ç‰ˆæœ¬</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.realpathSync.native(path[, options])</strong></p> <ul><li>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>options &lt;string&gt; | &lt;Object&gt;
<ul><li>encoding &lt;string&gt; é»˜è®¤å€¼ï¼š'utf8'</li></ul></li></ul> <blockquote><p><em>åŒæ­¥åœ°<a href="http://man7.org/linux/man-pages/man3/realpath.3.html" title="realpath(3)" target="_blank" rel="noopener noreferrer">realpath(3)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.rename(oldPath, newPath, callback)</strong></p> <ul><li>oldpath &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>newpath &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li></ul></li></ul> <blockquote><p><em>å¼‚æ­¥åœ°æŠŠ oldPath æ–‡ä»¶é‡å‘½åä¸º newPath æä¾›çš„è·¯å¾„åã€‚ å¦‚æœ newPath å·²å­˜åœ¨ï¼Œåˆ™è¦†ç›–å®ƒã€‚ é™¤äº†å¯èƒ½çš„å¼‚å¸¸ï¼Œå®Œæˆå›è°ƒæ²¡æœ‰å…¶ä»–å‚æ•°ã€‚</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token string">'./file/hello.txt'</span><span class="token punctuation">,</span> <span class="token string">'./file/hello_bak.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'rename successfully'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <hr> <ul><li><p><strong>fs.renameSync(oldPath, newPath)</strong></p> <ul><li>oldpath &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li> <li>newpath &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</li></ul> <blockquote><p><em>è¿”å›undefined</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.write(fd, buffer[, offset[, length[, position]]], callback)</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>buffer &lt;Buffer&gt; | &lt;TypedArray&gt; | &lt;DataView&gt;</li> <li>offset &lt;integer&gt;</li> <li>length &lt;integer&gt;</li> <li>position &lt;integer&gt;</li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li> <li>bytesWritten &lt;integer&gt;</li> <li>buffer &lt;Buffer&gt; | &lt;TypedArray&gt; | &lt;DataView&gt;</li></ul></li></ul> <blockquote><p><em>å†™å…¥bufferåˆ°fdæŒ‡å®šçš„æ–‡ä»¶ã€‚<strong>offset</strong>å†³å®šbufferä¸­è¦è¢«å†™å…¥çš„éƒ¨ä½ï¼Œ <strong>length</strong>æ˜¯æ•´æ•°ï¼ŒæŒ‡å®šè¦å†™å…¥çš„å­—èŠ‚æ•°ã€‚position æŒ‡å®šæ–‡ä»¶å¼€å¤´çš„åç§»é‡ï¼ˆæ•°æ®è¦è¢«å†™å…¥çš„ä½ç½®ï¼‰ã€‚ å¦‚æœ typeof position !== 'number'ï¼Œåˆ™æ•°æ®ä¼šè¢«å†™å…¥å½“å‰çš„ä½ç½®ã€‚</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> data <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'yangugu'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'./file/new.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> fd</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  fs<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'yangugu'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> bytesWritten<span class="token punctuation">,</span> buffer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bytesWritten<span class="token punctuation">,</span> buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017232604.png" alt=""></p> <p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017232615.png" alt=""></p></li></ul> <hr> <ul><li><p><strong>fs.writeSync(fd, buffer[, offset[, length[, position]]])</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>buffer &lt;Buffer&gt; | &lt;TypedArray&gt; | &lt;DataView&gt;</li> <li>offset &lt;integer&gt;</li> <li>length &lt;integer&gt;</li> <li>position &lt;integer&gt;</li></ul> <blockquote><p><em>è¿”å›å†™å…¥çš„å­—èŠ‚æ•°ã€‚fs.write(fd, buffer[, offset[, length[, position]]], callback)çš„åŒæ­¥ç‰ˆæœ¬ã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.write(fd, string[, position[, encoding]], callback)</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>string &lt;string&gt;</li> <li>position &lt;integer&gt;</li> <li>encoding &lt;string&gt; é»˜è®¤å€¼ï¼š'utf8'</li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li> <li>written &lt;integer&gt;</li> <li>string &lt;string&gt;</li></ul></li></ul> <blockquote><p><em>å°† string å†™å…¥åˆ° fd æŒ‡å®šçš„æ–‡ä»¶ã€‚ å¦‚æœ string ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚position æŒ‡å®šæ–‡ä»¶å¼€å¤´çš„åç§»é‡ï¼ˆæ•°æ®è¦è¢«å†™å…¥çš„ä½ç½®ï¼‰ã€‚ å¦‚æœ typeof position !== 'number'ï¼Œåˆ™æ•°æ®ä¼šè¢«å†™å…¥å½“å‰çš„ä½ç½®ã€‚encoding æ˜¯æœŸæœ›çš„å­—ç¬¦ä¸²ç¼–ç ã€‚å›è°ƒä¼šæ¥æ”¶åˆ°å‚æ•° (err, written, string)ï¼Œå…¶ä¸­ written æŒ‡å®šä¼ å…¥çš„å­—ç¬¦ä¸²ä¸­è¢«è¦æ±‚å†™å…¥çš„å­—èŠ‚æ•°ã€‚ è¢«å†™å…¥çš„å­—èŠ‚æ•°ä¸ä¸€å®šä¸è¢«å†™å…¥çš„å­—ç¬¦ä¸²å­—ç¬¦æ•°ç›¸åŒã€‚</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> data <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'./file/hello.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

fs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'./file/hello.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> fd</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  fs<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token string">'look'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> written<span class="token punctuation">,</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    <span class="token keyword">let</span> data1 <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'./file/hello.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017232638.jpg" alt=""></p></li></ul> <hr> <ul><li><p><strong>fs.writeSync(fd, string[, position[, encoding]])</strong></p> <ul><li>fd &lt;integer&gt;</li> <li>string &lt;string&gt;</li> <li>position &lt;integer&gt;</li> <li>encoding &lt;string&gt; é»˜è®¤å€¼ï¼š'utf8'</li></ul> <blockquote><p><em>è¿”å›å†™å…¥çš„å­—èŠ‚æ•°ã€‚fs.write(fd, string[, position[, encoding]], callback)çš„åŒæ­¥ç‰ˆæœ¬ã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><em><strong>fs.writev(fd, buffers[, position], callback)</strong></em></p> <ul><li>fd &lt;integer&gt;</li> <li>buffers &lt;ArrayBufferView[]&gt;</li> <li>position &lt;integer&gt;</li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li> <li>bufferWritten &lt;integer&gt;</li> <li>buffers &lt;ArrayBufferView[]&gt;</li></ul></li></ul> <blockquote><p><em>ä½¿ç”¨ writev() å°†ä¸€ä¸ª ArrayBufferView æ•°ç»„å†™å…¥ fd æŒ‡å®šçš„æ–‡ä»¶ã€‚å…¶ä»–å­—æ®µå«ä¹‰å‚è€ƒfs.readv()ã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><em><strong>fs.writevSync(fd, buffers[, position])</strong></em></p> <ul><li>fd &lt;integer&gt;</li> <li>buffers &lt;ArrayBufferView[]&gt;</li> <li>position &lt;integer&gt;</li></ul> <blockquote><p><em>è¿”å›å†™å…¥çš„å­—èŠ‚æ•°ã€‚fs.writev(fd, buffers[, position], callback)çš„åŒæ­¥ç‰ˆæœ¬ã€‚</em></p></blockquote></li></ul> <hr> <ul><li><p><strong>fs.writeFile(file, data[, options], callback)</strong></p> <ul><li>file &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt; | &lt;integer&gt; æ–‡ä»¶åæˆ–æ–‡ä»¶æè¿°ç¬¦</li> <li>data &lt;string&gt; | &lt;Buffer&gt; | &lt;TypedArray&gt; | &lt;DataView&gt;</li> <li>options &lt;Object&gt; | &lt;string&gt;
<ul><li>encoding &lt;string&gt; | &lt;null&gt; é»˜è®¤å€¼ï¼š'utf8'</li> <li>mode &lt;integer&gt; é»˜è®¤å€¼ï¼š0o666</li> <li>flag &lt;string&gt; é»˜è®¤å€¼ï¼š'w'</li></ul></li> <li>callback &lt;Function&gt;
<ul><li>err &lt;Error&gt;</li></ul></li></ul> <blockquote><p><em>å½“fileæ˜¯æ–‡ä»¶åæ—¶ï¼Œåˆ™å¼‚æ­¥åœ°å†™å…¥æ•°æ®åˆ°æ–‡ä»¶(å¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ™è¦†ç›–æ–‡ä»¶ã€‚å¦‚æœæ–‡ä»¶æŒ‰ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»º)ã€‚ dataå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–bufferã€‚</em></p></blockquote> <blockquote><p><em>å½“ file æ˜¯æ–‡ä»¶æè¿°ç¬¦æ—¶ï¼Œåˆ™å…¶è¡Œä¸ºç±»ä¼¼äºç›´æ¥è°ƒç”¨ fs.write()ã€‚å¦‚æœ options æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™å®ƒæŒ‡å®šå­—ç¬¦ç¼–ç ã€‚</em></p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//å¦‚æœ data æ˜¯ bufferï¼Œåˆ™ encoding é€‰é¡¹ä¼šè¢«å¿½ç•¥ã€‚</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'Node.js 666'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">'./file/new.txt'</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ–‡ä»¶å·²ä¿å­˜'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <hr> <ul><li><p><strong>fs.writeFileSync(file, data[, options])</strong></p> <ul><li>file &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt; | &lt;integer&gt; æ–‡ä»¶åæˆ–æ–‡ä»¶æè¿°ç¬¦</li> <li>data &lt;string&gt; | &lt;Buffer&gt; | &lt;TypedArray&gt; | &lt;DataView&gt;</li> <li>options &lt;Object&gt; | &lt;string&gt;
<ul><li>encoding &lt;string&gt; | &lt;null&gt; é»˜è®¤å€¼ï¼š'utf8'</li> <li>mode &lt;integer&gt; é»˜è®¤å€¼ï¼š0o666</li> <li>flag &lt;string&gt; é»˜è®¤å€¼ï¼š'w'</li></ul></li></ul> <blockquote><p><em>è¿”å›undefinedã€‚fs.writeFile(file, data[, options], callback)çš„å¼‚æ­¥ç‰ˆæœ¬ã€‚</em></p></blockquote></li></ul> <hr> <h2 id="fsçš„promise-api"><a href="#fsçš„promise-api" class="header-anchor">#</a> fsçš„Promise API</h2> <p>fs.promises API æä¾›äº†ä¸€ç»„å¤‡ç”¨çš„å¼‚æ­¥æ–‡ä»¶ç³»ç»Ÿçš„æ–¹æ³•ï¼Œå®ƒä»¬è¿”å› Promise å¯¹è±¡è€Œä¸æ˜¯ä½¿ç”¨å›è°ƒã€‚ API å¯é€šè¿‡ require('fs').promises æˆ– require('fs/promises') è®¿é—®ã€‚</p> <h3 id="filehandlerç±»"><a href="#filehandlerç±»" class="header-anchor">#</a> filehandlerç±»</h3> <blockquote><p><em>è¿™ä¸€å—çš„apiå’Œä¸Šé¢çš„æåˆ°çš„å¼‚æ­¥å½¢å¼çš„apiå¾ˆåƒã€‚å¦‚éœ€è¦å¯ä»¥è®¿é—®<a href="http://nodejs.cn/api/fs.html#fs_fs_promises_api" target="_blank" rel="noopener noreferrer">fsçš„promise API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></em></p></blockquote> <hr> <h2 id="å…³äºç¬¦å·é“¾æ¥ä¸€äº›çŸ¥è¯†"><a href="#å…³äºç¬¦å·é“¾æ¥ä¸€äº›çŸ¥è¯†" class="header-anchor">#</a> <a href="https://www.zhihu.com/question/20729978" title="ç¬¦å·è¿æ¥ã€è½¯è¿æ¥ã€ç¡¬è¿æ¥ã€å¿«æ·æ–¹å¼ã€å‰¯æœ¬(copy)ä¹‹é—´æœ‰ä½•åŒºåˆ«å’Œè”ç³»ï¼Ÿ" target="_blank" rel="noopener noreferrer">å…³äºç¬¦å·é“¾æ¥ä¸€äº›çŸ¥è¯†<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <blockquote><p><em>å…¶å®åªæœ‰ä¸¤ç§ï¼šç¡¬é“¾æ¥å’Œç¬¦å·é“¾æ¥ã€‚ç¡¬é“¾æ¥å°±æ˜¯ï¼šä¸€é¢å¢™ä¸Šæœ‰ä¸€ä¸ªæ´ï¼Œæ´é‡Œæ”¾ç€ä¸€ä¸ªè‹¹æœã€‚ä»å¢™çš„è¿™ä¸€é¢çœ‹æ˜¯è¿™ä¸ªè‹¹æœï¼Œä»å¢™çš„å¦ä¸€é¢çœ‹è¿˜æ˜¯åŒä¸€ä¸ªè‹¹æœã€‚ç¡¬é“¾æ¥å°±æ˜¯åŒä¸€å—æ•°æ®ä½†æœ‰ä¸¤ä¸ªä¸åŒçš„åå­—ï¼Œè¯»å†™çš„æ—¶å€™æœ¬è´¨ä¸Šéƒ½æ˜¯ä¿®æ”¹çš„åŒä¸€å—æ•°æ®ã€‚ç¡¬é“¾æ¥åœ¨åˆ é™¤çš„æ—¶å€™åªæ˜¯åˆ é™¤äº†ä¸€ä¸ªåå­—ã€‚åªæœ‰ä¸€å—æ•°æ®çš„æ‰€æœ‰åå­—éƒ½åˆ é™¤äº†çš„æ—¶å€™ï¼Œæ•°æ®æ‰ä¼šè¢«åˆ é™¤ã€‚ï¼ˆåˆ é™¤çš„æ—¶å€™ç›¸å½“äºæŠŠå¢™çš„è¿™ä¸€é¢ç³Šä¸Šï¼Œä½†è‹¹æœæœ¬èº«ä¸åŠ¨ï¼Œåªæœ‰ä¸¤é¢éƒ½ç³Šä¸Šäº†ï¼Œä½ æ‰ä¼šçœ‹ä¸åˆ°ï¼‰ç¬¦å·é“¾æ¥å°±æ˜¯ï¼šæˆ‘å£°ç§°æˆ‘æœ‰ä¸€ä¸ªè‹¹æœï¼Œä½†æ˜¯å½“ä½ æ‰¾æˆ‘è¦çš„æ—¶å€™ï¼Œæˆ‘å¯¹ä½ è¯´ï¼Œåˆ°æŸä¸ªå»ºç­‘ç‰©çš„ä»“åº“å°±å¯ä»¥æ‹¿åˆ°é‚£ä¸ªè‹¹æœäº†ã€‚å¯è§æˆ‘å¹¶ä¸çœŸæ­£æ‹¥æœ‰ä¸€ä¸ªè‹¹æœï¼Œæˆ‘åªæ˜¯æ‹¥æœ‰â€œæŸä¸ªåœ°æ–¹æœ‰ä¸€ä¸ªè‹¹æœâ€è¿™ä¸ªä¿¡æ¯ã€‚ä½†å¯¹äºå¤–éƒ¨çš„è§‚å¯Ÿè€…æ¥è¯´ï¼Œè¿™è·Ÿæˆ‘å®é™…ä¸Šæ‹¥æœ‰ä¸€ä¸ªè‹¹æœå¹¶æ— å·®å¼‚ã€‚ç¬¦å·é“¾æ¥çš„åˆ é™¤ï¼šå‡è®¾æˆ‘æ­»äº†ï¼Œä¸ä¼šå½±å“åˆ°åŸå§‹æ•°æ®ã€‚å‡è®¾åŸå§‹æ•°æ®æ²¡äº†ï¼Œé‚£æˆ‘è¿™ä¸ªç¬¦å·é“¾æ¥å°±å˜æˆäº†ä¸€å¼ ç©ºå¤´æ”¯ç¥¨ï¼Œä¹Ÿå°±æ˜¯æ‚¬ç©ºçš„ç¬¦å·é“¾æ¥ã€‚å¿«æ·æ–¹å¼ï¼šæœ¬è´¨ä¸Šå°±æ˜¯ç¬¦å·é“¾æ¥ï¼Œåªä¸è¿‡ Windows çš„èµ„æºç®¡ç†å™¨å¯ä»¥ç›´æ¥ç®¡ç†è¿™ç§æ–‡ä»¶ã€‚junction pointsï¼šå¯èƒ½è·Ÿç¬¦å·é“¾æ¥çš„åŒºåˆ«ä»…ä»…æ˜¯èƒ½å¦ä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚å¤åˆ¶ï¼šæŠŠä¸€ä¸ªè‹¹æœå˜æˆä¸¤ä¸ªè‹¹æœã€‚é“¾æ¥éƒ½æ˜¯ä¸ºæ–‡ä»¶èµ·åˆ«åï¼ˆaliasï¼‰çš„æ–¹å¼ï¼Œè·Ÿå¤åˆ¶æœ‰æœ¬è´¨åŒºåˆ«çš„ã€‚</em></p></blockquote> <div class="gitalk-container"><div id="gitalk-container"></div></div></div></div></div> <div class="el-card py-3 px-3 mb-4 is-always-shadow"><!----><div class="el-card__body"><span>Hi, I hope you've <b>enjoyed</b> this post!</span></div></div> <div class="el-card mb-4 is-always-shadow"><div class="el-card__header"><div class="clearfix"><h5 class="m-0">
            Keep reading!
          </h5></div></div><div class="el-card__body"> <div class="container featured-posts my-4"><div class="el-carousel el-carousel--horizontal el-carousel--card"><div class="el-carousel__container" style="height:300px;"><button type="button" class="el-carousel__arrow el-carousel__arrow--left" style="display:none;"><i class="el-icon-arrow-left"></i></button><button type="button" class="el-carousel__arrow el-carousel__arrow--right" style="display:none;"><i class="el-icon-arrow-right"></i></button><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210420224048.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å…³äºlinuxä¸¢å¤±/rootæ–‡ä»¶å¤¹å¯¼è‡´çš„-bash-4.1#(ä¸æ˜¾ç¤ºè·¯å¾„)çš„è§£å†³åŠæ³•
        </h4> <a href="/blog/2018/04/13/linux-bash/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017234336.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Ubuntu 18.04LTSç³»ç»Ÿè®¾ç½®çª—å£æ‰“ä¸å¼€æˆ–è€…æ¶ˆå¤±è§£å†³åŠæ³•
        </h4> <a href="/blog/2018/04/29/ubuntu-setting/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017234336.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          apt-getå‘½ä»¤ã€dpkgå‘½ä»¤ã€rpmå‘½ä»¤å’Œyumå‘½ä»¤
        </h4> <a href="/blog/2018/04/30/ubuntu-apt-dpkg/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210507211010.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Creating and triggering events
        </h4> <a href="/blog/2018/08/28/custom-event/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210420223609.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Cookieã€Sessionã€WebStorage
        </h4> <a href="/blog/2018/10/10/cookie/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210420224048.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Xshellæ— æ³•è¿æ¥åˆ°Linuxè™šæ‹Ÿæœº
        </h4> <a href="/blog/2018/10/21/xshell/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017234007.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Shell value too great for base
        </h4> <a href="/blog/2018/12/09/shell-value-too-great-for-base/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017192245.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          nodeæ ¸å¿ƒæ¨¡å—â€”â€”path
        </h4> <a href="/blog/2020/04/20/node-path/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017192245.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          nodeæ ¸å¿ƒæ¨¡å—â€”â€”fs
        </h4> <a href="/blog/2020/05/08/node-fs/" aria-current="page" class="el-button el-button--primary router-link-exact-active router-link-active">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017230306.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          centos7å®‰è£…jenkinså’Œgitlabè¸©å‘è®°
        </h4> <a href="/blog/2020/05/17/gitlab-jenkins/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017192245.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          nodeæ ¸å¿ƒæ¨¡å—â€”â€”os
        </h4> <a href="/blog/2020/05/27/node-os/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017191711.gif);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å›æ–‡æ•°
        </h4> <a href="/blog/2020/06/01/leetcode-ispalindrome-09/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017190350.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          pow(x,n)
        </h4> <a href="/blog/2020/06/02/leetcode-pow-x-n-50/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          åŠ ä¸€
        </h4> <a href="/blog/2020/06/03/leetcode-pluse-one-66/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          çŸ©é˜µç½®é›¶
        </h4> <a href="/blog/2020/06/04/leetcode-set-matrix-zeroes-73/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          æ¨è¾‰ä¸‰è§’
        </h4> <a href="/blog/2020/06/05/leetcode-pascal-s-triangle-118/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å¤šæ•°å…ƒç´ 
        </h4> <a href="/blog/2020/06/06/leetcode-majorityelement-169/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†
        </h4> <a href="/blog/2020/06/07/leetcode-intersectionoftwoarrays-349/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          æ£€æµ‹å¤§å†™å­—æ¯
        </h4> <a href="/blog/2020/06/08/leetcode-detectcapitaluse-520/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è®¾è®¡å“ˆå¸Œé›†åˆ
        </h4> <a href="/blog/2020/06/09/leetcode-designhashset-705/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017175905.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è¿ç»­èµ‹å€¼
        </h4> <a href="/blog/2020/06/10/continuousassignment/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å®çŸ³ä¸çŸ³å¤´
        </h4> <a href="/blog/2020/06/10/leetcode-numjewelsinstones-771/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—
        </h4> <a href="/blog/2020/06/12/leetcode-missingnumber-interview-53-ii/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          é¡ºæ¬¡æ•°
        </h4> <a href="/blog/2020/06/11/leetcode-sequentialdigits-1291/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          1103.åˆ†ç³–æœII
        </h4> <a href="/blog/2020/06/13/leetcode-distributecandies-1103/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017105512.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          JSåŸç”Ÿå‡½æ•°å®ç°ä¹‹callã€applyã€bind
        </h4> <a href="/blog/2020/06/15/apply-call-bind/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017150634.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          JSåŸç”Ÿå‡½æ•°å®ç°ä¹‹æ•°ç»„å®ä¾‹æ–¹æ³•map/reduce
        </h4> <a href="/blog/2020/06/16/map-reduce/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          239.æ»‘åŠ¨çª—å£æœ€å¤§å€¼
        </h4> <a href="/blog/2020/06/16/leetcode-maxslidingwindow-239/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017145747.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å…ƒç´ å‚ç›´æ°´å¹³å±…ä¸­çš„å‡ ç§æ–¹æ³•
        </h4> <a href="/blog/2020/06/17/center-middle/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017105512.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          ES5/6å¯¹è±¡çš„ç»§æ‰¿åŠåŒºåˆ«
        </h4> <a href="/blog/2020/06/18/es5-es6-extend/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017105512.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          CommonJS ä¸ ES6 Moduleçš„åŒºåˆ«
        </h4> <a href="/blog/2020/06/19/cjs-esm-import-diff/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017105512.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          JSåŸç”Ÿå‡½æ•°æ¨¡æ‹Ÿå®ç°newå’ŒinstanceofåŠå‡½æ•°æŸ¯é‡ŒåŒ–
        </h4> <a href="/blog/2020/06/20/new-instanceof/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017105512.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å‡½æ•°é˜²æŠ–å’ŒèŠ‚æµã€ä»¥åŠPromise.allå®ç°
        </h4> <a href="/blog/2020/06/22/debounce-throttle/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017114430.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          äº‹ä»¶è§¦å‘å™¨EventEmitter
        </h4> <a href="/blog/2020/06/23/eventemitter/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017113243.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          lesså†…ç½®å‡½æ•°
        </h4> <a href="/blog/2020/06/28/less-function/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017111554.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å›æº¯ç®—æ³•
        </h4> <a href="/blog/2020/07/02/backtrack/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017110754.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å †æ’åº&amp;ä¼˜å…ˆçº§é˜Ÿåˆ—
        </h4> <a href="/blog/2020/07/12/heap/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017105512.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          é¢˜ç›®:å˜é‡æå‡/åŒ¿åå‡½æ•°thisæŒ‡å‘
        </h4> <a href="/blog/2020/07/17/subject-this/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017104351.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è®¡ç®—æœºç»„æˆåŸç†â€”â€”ç¬¬ä¸€ç« 
        </h4> <a href="/blog/2020/07/25/principles-of-computer-organization-01/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20200810230903.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è®¡ç®—æœºç»„æˆåŸç†â€”â€”ç¬¬ä¸‰ç« 
        </h4> <a href="/blog/2020/08/20/principles-of-computer-organization-03/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/v2-a0d10af45e785fe8d3f5cd12f8c309f5_r.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å½»åº•ææ‡‚HTTPSçš„åŠ å¯†æœºåˆ¶
        </h4> <a href="/blog/2020/08/12/https/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20200825222450.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è®¡ç®—æœºç»„æˆåŸç†â€”â€”ç¬¬å››ç« 
        </h4> <a href="/blog/2020/08/25/principles-of-computer-organization-04/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/3378128262-5d07af0750999.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          é«˜æ€§èƒ½JavaScriptâ€”â€”ç¬¬ä¸€ç« 
        </h4> <a href="/blog/2020/08/28/load-execute/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20200831230601.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Units in css
        </h4> <a href="/blog/2020/08/31/css-unit/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20200905134629.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          ä½ å¯èƒ½è¿˜ä¸çŸ¥é“consoleå¯¹è±¡
        </h4> <a href="/blog/2020/09/04/console/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201016234622.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          äº†è§£cjsã€esmä»¥åŠrequire.context
        </h4> <a href="/blog/2020/09/08/cjs-esm-require-context/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20200913170310.gif);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          åŸŸåå‘æ•£å’ŒåŸŸåæ”¶æ•›
        </h4> <a href="/blog/2020/09/13/domain-dns/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20200828171746.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          é«˜æ€§èƒ½JavaScriptâ€”â€”ç¬¬äºŒç« 
        </h4> <a href="/blog/2020/09/22/dataaccess/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201004184833.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          é«˜æ€§èƒ½JavaScriptâ€”â€”ç¬¬ä¸‰ç« 
        </h4> <a href="/blog/2020/10/01/dom/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201008220027.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Chromeæµè§ˆå™¨æ¶æ„
        </h4> <a href="/blog/2020/10/12/chromestructure/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20201104182622.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          JSON.parse(JSON.stringify(obj))å®ç°æ·±æ‹·è´çš„ç¼ºç‚¹
        </h4> <a href="/blog/2020/10/20/deepclone/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20201110205703.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          é«˜æ€§èƒ½JavaScriptâ€”â€”ç¬¬å››ç« 
        </h4> <a href="/blog/2020/11/01/alo-flowcontrol/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201203211137.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          æ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹
        </h4> <a href="/blog/2020/12/01/regexp/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20201111175711.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          How JavaScript works - an overview of the engine, the runtime, and the call stack
        </h4> <a href="/blog/2020/11/12/how-javascript-work1/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20201208172723.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è¯¦è§£å¹³è¡¡ç»„
        </h4> <a href="/blog/2020/12/09/regexp-nfa/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20201216172057.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          é¡¹ç›®ä¸­ç”¨SVGç”»æ›²çº¿å’ŒåŠ¨ç”»çš„ä¸€æ¬¡è®°å½•
        </h4> <a href="/blog/2020/12/16/svg/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20201219170044.gif);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å•è¡Œçœç•¥å’Œå¤šè¡Œçœç•¥
        </h4> <a href="/blog/2020/12/20/ellipsis/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201226160513.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          æµ…æArrayBufferå¯¹è±¡(ä¸Š)
        </h4> <a href="/blog/2020/12/31/arraybuffer/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210109223210.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          TypeScriptå­¦ä¹ è®°å½•(ä¸€)
        </h4> <a href="/blog/2021/01/09/typescript/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210107225332.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Vue3 one piece
        </h4> <a href="/blog/2021/01/07/vue3/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210126213808.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          çº¿ç¨‹å®‰å…¨
        </h4> <a href="/blog/2021/01/26/thread-safety/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210305230928.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Sasså…¥é—¨å­¦ä¹ 
        </h4> <a href="/blog/2021/03/05/sass/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210325224201.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          ç™¾åº¦å°ç¨‹åºâ€”â€”åŸºç¡€åŸç†ç¯‡
        </h4> <a href="/blog/2021/03/24/baidu-swan/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210329171827.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          æ¼«è¯ï¼šå¦‚ä½•ç»™å¥³æœ‹å‹è§£é‡Šä¸ºä»€ä¹ˆè®¡ç®—æœºä¸­ 0.2 + 0.1 ä¸ç­‰äº 0.3 ï¼Ÿ
        </h4> <a href="/blog/2021/03/29/float-double/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210407135526.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          ASTå®ç°å‡½æ•°è‡ªåŠ¨åŒ…è£¹try/catch
        </h4> <a href="/blog/2021/04/10/ast/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20201217171505.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          How JavaScript works - inside the V8 engine + 5 tips on how to write optimized code
        </h4> <a href="/blog/2021/04/13/how-javascript-work2/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210421234422.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          åšå®¢ä¼˜åŒ–äºŒä¸‰äº‹
        </h4> <a href="/blog/2021/04/21/blog-opt/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210505231625.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Concurrency vs. Parallelism
        </h4> <a href="/blog/2021/05/05/concurrency-parallelism/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210513202439.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å»å“ªåƒ
        </h4> <a href="/blog/2021/05/13/eat-what/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017103330.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è®¡ç®—æœºç»„æˆåŸç†â€”â€”ç¬¬äºŒç« 
        </h4> <a href="/blog/2020/07/28/principles-of-computer-organization-02/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017101258.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          é¢˜ç›®:ç»å…¸çš„FOO.getNameé—®é¢˜
        </h4> <a href="/blog/2020/08/01/foogetname/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div></div><!----></div></div></div></div> <div class="el-card is-always-shadow"><div class="el-card__header"><div class="clearfix"><h5 class="m-0">
            Tags
          </h5></div></div><div class="el-card__body"> <div><a href="/blog/tag/å‰ç«¯å¼€å‘" class="el-button el-button--small text-decoration-none d-inline-block mb-3">
            #å‰ç«¯å¼€å‘
          </a><a href="/blog/tag/JavaScript" class="el-button el-button--small text-decoration-none d-inline-block mb-3">
            #JavaScript
          </a><a href="/blog/tag/node" class="el-button el-button--small text-decoration-none d-inline-block mb-3">
            #node
          </a></div></div></div> <!----></main></div> <footer class="footer" data-v-0ff35a02><div class="footer-left-wrap" data-v-0ff35a02><ul class="contact" data-v-0ff35a02><li class="contact-item" data-v-0ff35a02><a href="https://github.com/yancqs" target="_blank" rel="noopener noreferrer" class="external" data-v-0ff35a02><span class="iconfont icon-github" data-v-0ff35a02></span></a></li><li class="contact-item" data-v-0ff35a02><a href="https://weibo.com/superYoha" target="_blank" rel="noopener noreferrer" class="external" data-v-0ff35a02><span class="iconfont icon-weibo" data-v-0ff35a02></span></a></li><li class="contact-item" data-v-0ff35a02><a href="https://www.zhihu.com/people/yoha-32-56" target="_blank" rel="noopener noreferrer" class="external" data-v-0ff35a02><span class="iconfont icon-zhihu" data-v-0ff35a02></span></a></li></ul></div> <div class="footer-right-wrap" data-v-0ff35a02><ul class="copyright" data-v-0ff35a02><li class="copyright-item" data-v-0ff35a02><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="external" data-v-0ff35a02>
            Privacy Policy
          </a></li><li class="copyright-item" data-v-0ff35a02><a data-v-0ff35a02>MIT Licensed Copyright Â© 2021-present</a></li></ul></div></footer> <!----> <!----></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.a5bc8539.js" defer></script><script src="/blog/assets/js/5.690a957a.js" defer></script><script src="/blog/assets/js/30.6c527d95.js" defer></script><script src="/blog/assets/js/8.002c5a0e.js" defer></script><script src="/blog/assets/js/6.71158e72.js" defer></script><script src="/blog/assets/js/9.630cde4b.js" defer></script>
  </body>
</html>
