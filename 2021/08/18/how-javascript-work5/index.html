<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>How JavaScript works - Deep dive into WebSockets and HTTP/2 with SSE + how to pick the right path | Yoha&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/blog/favicon.ico">
    <meta name="description" content="æ·±å…¥ç†è§£WebSocketså’Œå¸¦æœ‰SSEæœºåˆ¶çš„Http/2ä»¥åŠæ­£ç¡®çš„ä½¿ç”¨å§¿åŠ¿">
    <meta name="title" content="æ·±å…¥ç†è§£WebSocketså’Œå¸¦æœ‰SSEæœºåˆ¶çš„Http/2ä»¥åŠæ­£ç¡®çš„ä½¿ç”¨å§¿åŠ¿">
    <meta name="keywords" content="WebSockets, Http/2">
    <meta name="author" content="Yoha">
    
    <link rel="preload" href="/blog/assets/css/0.styles.337b0747.css" as="style"><link rel="preload" href="/blog/assets/js/app.88651b0b.js" as="script"><link rel="preload" href="/blog/assets/js/5.57de0eb5.js" as="script"><link rel="preload" href="/blog/assets/js/108.f6499679.js" as="script"><link rel="preload" href="/blog/assets/js/9.262a4934.js" as="script"><link rel="preload" href="/blog/assets/js/6.49ecf5be.js" as="script"><link rel="preload" href="/blog/assets/js/7.6084fe39.js" as="script"><link rel="preload" href="/blog/assets/js/10.ab00a0fe.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.5ce1be04.js"><link rel="prefetch" href="/blog/assets/js/100.deb44f2b.js"><link rel="prefetch" href="/blog/assets/js/101.4444916e.js"><link rel="prefetch" href="/blog/assets/js/102.1508fa35.js"><link rel="prefetch" href="/blog/assets/js/103.2fdd6829.js"><link rel="prefetch" href="/blog/assets/js/104.22e5977b.js"><link rel="prefetch" href="/blog/assets/js/105.126f7c62.js"><link rel="prefetch" href="/blog/assets/js/106.eb79dafb.js"><link rel="prefetch" href="/blog/assets/js/107.5ab1034e.js"><link rel="prefetch" href="/blog/assets/js/109.5bcf6480.js"><link rel="prefetch" href="/blog/assets/js/11.479f0d37.js"><link rel="prefetch" href="/blog/assets/js/110.9719a8e8.js"><link rel="prefetch" href="/blog/assets/js/111.e62367b1.js"><link rel="prefetch" href="/blog/assets/js/112.1ba413dd.js"><link rel="prefetch" href="/blog/assets/js/113.e3bf9a4a.js"><link rel="prefetch" href="/blog/assets/js/114.b9900174.js"><link rel="prefetch" href="/blog/assets/js/115.4293f735.js"><link rel="prefetch" href="/blog/assets/js/116.6a659b9d.js"><link rel="prefetch" href="/blog/assets/js/117.fed27452.js"><link rel="prefetch" href="/blog/assets/js/12.76e49ffb.js"><link rel="prefetch" href="/blog/assets/js/13.cff6d8c7.js"><link rel="prefetch" href="/blog/assets/js/14.9924325c.js"><link rel="prefetch" href="/blog/assets/js/15.6db1935d.js"><link rel="prefetch" href="/blog/assets/js/16.8e8aa684.js"><link rel="prefetch" href="/blog/assets/js/17.fe0219e7.js"><link rel="prefetch" href="/blog/assets/js/18.54ecf6da.js"><link rel="prefetch" href="/blog/assets/js/19.848af721.js"><link rel="prefetch" href="/blog/assets/js/20.a8618424.js"><link rel="prefetch" href="/blog/assets/js/21.eed12613.js"><link rel="prefetch" href="/blog/assets/js/22.0710225c.js"><link rel="prefetch" href="/blog/assets/js/23.c229e93d.js"><link rel="prefetch" href="/blog/assets/js/24.f3efd43d.js"><link rel="prefetch" href="/blog/assets/js/25.80aac288.js"><link rel="prefetch" href="/blog/assets/js/26.72115430.js"><link rel="prefetch" href="/blog/assets/js/27.9f34ba17.js"><link rel="prefetch" href="/blog/assets/js/28.0bfd6f36.js"><link rel="prefetch" href="/blog/assets/js/29.cb73bac0.js"><link rel="prefetch" href="/blog/assets/js/30.06cf2c91.js"><link rel="prefetch" href="/blog/assets/js/31.7ec909fe.js"><link rel="prefetch" href="/blog/assets/js/32.eee09928.js"><link rel="prefetch" href="/blog/assets/js/33.ed5bb70d.js"><link rel="prefetch" href="/blog/assets/js/34.33c203fd.js"><link rel="prefetch" href="/blog/assets/js/35.e4887edf.js"><link rel="prefetch" href="/blog/assets/js/36.fd248c6f.js"><link rel="prefetch" href="/blog/assets/js/37.c1f375fb.js"><link rel="prefetch" href="/blog/assets/js/38.7386c0da.js"><link rel="prefetch" href="/blog/assets/js/39.1e4a063c.js"><link rel="prefetch" href="/blog/assets/js/4.b1eb71b0.js"><link rel="prefetch" href="/blog/assets/js/40.44ee8ba3.js"><link rel="prefetch" href="/blog/assets/js/41.804353c3.js"><link rel="prefetch" href="/blog/assets/js/42.69aedfd8.js"><link rel="prefetch" href="/blog/assets/js/43.73339b5f.js"><link rel="prefetch" href="/blog/assets/js/44.0e5a28b8.js"><link rel="prefetch" href="/blog/assets/js/45.b493a1fb.js"><link rel="prefetch" href="/blog/assets/js/46.870c6c1f.js"><link rel="prefetch" href="/blog/assets/js/47.5554d37e.js"><link rel="prefetch" href="/blog/assets/js/48.d56e418e.js"><link rel="prefetch" href="/blog/assets/js/49.c69c29cf.js"><link rel="prefetch" href="/blog/assets/js/50.91ebb72e.js"><link rel="prefetch" href="/blog/assets/js/51.1186a9aa.js"><link rel="prefetch" href="/blog/assets/js/52.1327d98c.js"><link rel="prefetch" href="/blog/assets/js/53.e41092b4.js"><link rel="prefetch" href="/blog/assets/js/54.18be1472.js"><link rel="prefetch" href="/blog/assets/js/55.14ad2559.js"><link rel="prefetch" href="/blog/assets/js/56.7afa4a36.js"><link rel="prefetch" href="/blog/assets/js/57.a726e710.js"><link rel="prefetch" href="/blog/assets/js/58.c37e2131.js"><link rel="prefetch" href="/blog/assets/js/59.5f741e0f.js"><link rel="prefetch" href="/blog/assets/js/60.d8b1c65d.js"><link rel="prefetch" href="/blog/assets/js/61.4e8ec0cb.js"><link rel="prefetch" href="/blog/assets/js/62.ff3f7354.js"><link rel="prefetch" href="/blog/assets/js/63.8689f0cc.js"><link rel="prefetch" href="/blog/assets/js/64.3fa3ad70.js"><link rel="prefetch" href="/blog/assets/js/65.874af691.js"><link rel="prefetch" href="/blog/assets/js/66.1c1a6fbf.js"><link rel="prefetch" href="/blog/assets/js/67.585710a2.js"><link rel="prefetch" href="/blog/assets/js/68.e1b91c22.js"><link rel="prefetch" href="/blog/assets/js/69.315feb2e.js"><link rel="prefetch" href="/blog/assets/js/70.d8ffae6e.js"><link rel="prefetch" href="/blog/assets/js/71.23fcd046.js"><link rel="prefetch" href="/blog/assets/js/72.e111a65f.js"><link rel="prefetch" href="/blog/assets/js/73.d2768351.js"><link rel="prefetch" href="/blog/assets/js/74.80642eac.js"><link rel="prefetch" href="/blog/assets/js/75.e598575a.js"><link rel="prefetch" href="/blog/assets/js/76.722cbc93.js"><link rel="prefetch" href="/blog/assets/js/77.c753ebab.js"><link rel="prefetch" href="/blog/assets/js/78.52b43b3a.js"><link rel="prefetch" href="/blog/assets/js/79.f346df39.js"><link rel="prefetch" href="/blog/assets/js/8.8f5fe790.js"><link rel="prefetch" href="/blog/assets/js/80.bc05d5b3.js"><link rel="prefetch" href="/blog/assets/js/81.72bc81f6.js"><link rel="prefetch" href="/blog/assets/js/82.dc244971.js"><link rel="prefetch" href="/blog/assets/js/83.9ac45e2a.js"><link rel="prefetch" href="/blog/assets/js/84.22989ddd.js"><link rel="prefetch" href="/blog/assets/js/85.cf71b86c.js"><link rel="prefetch" href="/blog/assets/js/86.82df6393.js"><link rel="prefetch" href="/blog/assets/js/87.0a7c939f.js"><link rel="prefetch" href="/blog/assets/js/88.689ebbab.js"><link rel="prefetch" href="/blog/assets/js/89.ccb0eff0.js"><link rel="prefetch" href="/blog/assets/js/90.17d7092d.js"><link rel="prefetch" href="/blog/assets/js/91.8a43da7b.js"><link rel="prefetch" href="/blog/assets/js/92.51ccd03b.js"><link rel="prefetch" href="/blog/assets/js/93.15066342.js"><link rel="prefetch" href="/blog/assets/js/94.e39ee883.js"><link rel="prefetch" href="/blog/assets/js/95.c9bb413e.js"><link rel="prefetch" href="/blog/assets/js/96.73acbe14.js"><link rel="prefetch" href="/blog/assets/js/97.a25ac902.js"><link rel="prefetch" href="/blog/assets/js/98.0c4d67d1.js"><link rel="prefetch" href="/blog/assets/js/99.fd582b5c.js"><link rel="prefetch" href="/blog/assets/js/vuejs-paginate.ed6cc2ed.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.337b0747.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="global-layout d-flex flex-column"><header id="header" class="shadow"><nav class="p-3 d-flex desktop-menu justify-content-between"><div class="d-flex blog-info-wrapper"><a href="/blog/" class="text-decoration-none m-0 router-link-active"><div class="card-img-bg d-inline-block blog-logo"><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210414163022.jpeg" height="40px" style="margin-right:10px;"></div></a> <a href="/blog/" class="blog-title router-link-active"><div class="h4 text-center">
          Yoha's Blog
        </div></a></div> <ul role="menubar" class="d-flex justify-content-center border-0 el-menu--horizontal el-menu" style="background-color:;"><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-house"></i>
    Home
  </li><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-lollipop"></i>
    Life
  </li><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-s-management"></i>
    Handbook
  </li><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><span>ğŸ’•</span>
    Emoji
  </li></ul> <div class="search-wrapper u-px3 d-flex align-items-center"><div aria-haspopup="listbox" role="combobox" aria-owns="el-autocomplete-3650" class="el-autocomplete"><div class="el-input el-input--small"><!----><input type="text" autocomplete="off" valueKey="value" popperClass="components-search" placeholder="Search" fetchSuggestions="function () { [native code] }" debounce="200" placement="bottom-end" popperAppendToBody="true" class="el-input__inner"><!----><!----><!----><!----></div><div role="region" class="el-autocomplete-suggestion el-popper components-search" style="width:;display:none;"><div class="el-scrollbar"><div class="el-autocomplete-suggestion__wrap el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-autocomplete-suggestion__list"></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></div></div></div> <div id="toggle"><div id="top" class="span"></div> <div id="middle" class="span"></div> <div id="bottom" class="span"></div></div></nav> <div class="flex-column align-items-center mobile-menu pb-4"><ul role="menubar" class="d-flex justify-content-center border-0 el-menu--horizontal el-menu" style="background-color:;"><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-house"></i>
    Home
  </li><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-lollipop"></i>
    Life
  </li><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-s-management"></i>
    Handbook
  </li><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><span>ğŸ’•</span>
    Emoji
  </li></ul> <div class="search-wrapper u-px3 d-flex align-items-center pt-4"><div aria-haspopup="listbox" role="combobox" aria-owns="el-autocomplete-4321" class="el-autocomplete"><div class="el-input el-input--small"><!----><input type="text" autocomplete="off" valueKey="value" popperClass="components-search" placeholder="Search" fetchSuggestions="function () { [native code] }" debounce="200" placement="bottom-end" popperAppendToBody="true" class="el-input__inner"><!----><!----><!----><!----></div><div role="region" class="el-autocomplete-suggestion el-popper components-search" style="width:;display:none;"><div class="el-scrollbar"><div class="el-autocomplete-suggestion__wrap el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-autocomplete-suggestion__list"></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></div></div></div></div></header> <div id="vuperess-theme-blog__post-layout"><div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#intro" title="Intro">Intro</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#making-http-bidirectional" title="Making HTTP â€œbidirectionalâ€">Making HTTP â€œbidirectionalâ€</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#the-introduction-of-websockets" title="The introduction of WebSockets">The introduction of WebSockets</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#websocket-urls" title="WebSocket URLs">WebSocket URLs</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#framing-protocol" title="Framing protocol">Framing protocol</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#data-on-the-frames" title="Data on the frames">Data on the frames</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#fragmentation" title="Fragmentation">Fragmentation</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#what-is-hearbeating" title="What is Hearbeating?">What is Hearbeating?</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#handling-errors" title="Handling Errors">Handling Errors</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#closing-the-connection" title="Closing the Connection">Closing the Connection</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#how-do-websockets-and-http-2-compare" title="How do WebSockets and HTTP/2 compare?">How do WebSockets and HTTP/2 compare?</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#how-to-choose-between-websocket-and-http-2" title="How to choose between WebSocket and HTTP/2?">How to choose between WebSocket and HTTP/2?</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#how-we-make-the-decision-at-sessionstack" title="How we make the decision at SessionStack">How we make the decision at SessionStack</a></div></div> <main class="vuepress-blog-theme-content"><div class="el-card mb-4 is-always-shadow"><!----><div class="el-card__body" style="padding:0;"><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210816143708.png" alt="How JavaScript works - Deep dive into WebSockets and HTTP/2 with SSE + how to pick the right path" class="w-100"> <div class="p-3"><h1 align="center">
            How JavaScript works - Deep dive into WebSockets and HTTP/2 with SSE + how to pick the right path
          </h1> <div class="ui-post-info d-flex text-secondary d-flex justify-content-center my-3"><div class="post-info-item"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
    Wednesday, August 18, 2021
  </div> <div class="post-info-item"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
    22 min read
  </div> <div class="post-info-item"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg>
    Beijing
  </div></div></div></div></div> <div class="el-card py-3 px-3 mb-4 is-always-shadow"><!----><div class="el-card__body"><span></span></div></div> <div class="el-card py-3 px-3 mb-4 is-always-shadow"><!----><div class="el-card__body"><div class="content__default"><h1 id="how-javascript-works-deep-dive-into-websockets-and-http-2-with-sse-how-to-pick-the-right-path"><a href="#how-javascript-works-deep-dive-into-websockets-and-http-2-with-sse-how-to-pick-the-right-path" class="header-anchor">#</a> How JavaScript works - Deep dive into WebSockets and HTTP/2 with SSE + how to pick the right path</h1> <blockquote><p>Javascript å·¥ä½œåŸç† - æ·±å…¥ç†è§£WebSocketså’Œå¸¦æœ‰SSEæœºåˆ¶çš„Http/2ä»¥åŠæ­£ç¡®çš„ä½¿ç”¨å§¿åŠ¿</p></blockquote> <p>This is post # 5 of the series dedicated to exploring JavaScriptã€‚</p> <blockquote><p>è¿™æ˜¯ Javascript å·¥ä½œåŸç†ç³»åˆ—çš„ç¬¬äº”ç« ã€‚</p></blockquote> <p>This time weâ€™ll dive into the world of communication protocols, mapping and discussing their attributes and building parts on the way. Weâ€™ll offer a quick comparison of WebSockets and HTTP/2. At the end, we share some ideas on how to choose which way to go when it comes to network protocols.</p> <blockquote><p>è¿™æ¬¡æˆ‘ä»¬å°†ä¼šæ·±å…¥é€šä¿¡åè®®çš„ä¸–ç•Œï¼Œåˆ—ä¸¾å¹¶è®¨è®ºå®ƒä»¬çš„ç‰¹ç‚¹å’Œå†…éƒ¨æ„é€ ã€‚æˆ‘ä»¬å°†ä¼šç»™å‡ºä¸€ä»½ WebSockets å’Œ HTTP/2 çš„å¿«é€Ÿæ¯”è¾ƒ ã€‚åœ¨æ–‡æœ«ï¼Œæˆ‘ä»¬å°†ä¼šåˆ†äº«ä¸€äº›æœ‰å…³å¦‚ä½•æ­£ç¡®åœ°é€‰æ‹©ç½‘ç»œåè®®çš„è§è§£ã€‚</p></blockquote> <h2 id="intro"><a href="#intro" class="header-anchor">#</a> Intro</h2> <blockquote><p>ç®€ä»‹</p></blockquote> <p>Nowadays complex web apps that feature rich, dynamic UIs are taken for granted. And itâ€™s not surprising â€” the internet has come a long way since its inception.</p> <blockquote><p>ç°åœ¨ï¼Œå¤æ‚çš„ç½‘é¡µç¨‹åºæ‹¥æœ‰ä¸°å¯Œçš„åŠŸèƒ½ï¼ŒåŠ¨æ€äº¤äº’èƒ½åŠ›è¢«è®¤ä¸ºæ˜¯ç†æ‰€å½“ç„¶çš„äº‹æƒ…ã€‚è€Œè¿™å¹¶ä¸ä»¤äººæ„Ÿåˆ°æƒŠè®¶ï¼å› ä¸ºè‡ªäº’è”ç½‘è¯ç”Ÿä»¥æ¥ï¼Œå®ƒå·²èµ°è¿‡ä¸€æ®µæ¼«é•¿çš„æ—¶é—´ã€‚</p></blockquote> <p>Initially, the internet wasnâ€™t built to support such dynamic and complex web apps. It was conceived to be a collection of HTML pages, linking to one another to form the concept of â€œwebâ€ that contains information. Everything was largely built around the so-called request/response paradigm of HTTP. A client loads up a page and then nothing happens until the user clicks and navigates to the next page.</p> <blockquote><p>èµ·åˆï¼Œäº’è”ç½‘å¹¶ä¸æ˜¯ç”¨æ¥æ”¯æŒå¦‚æ­¤åŠ¨æ€å’Œå¤æ‚çš„ç½‘é¡µç¨‹åºçš„ã€‚å®ƒæœ¬æ¥è®¾æƒ³æ˜¯ç”±å¤§é‡çš„ HTML é¡µé¢ç»„æˆçš„ï¼Œæ¯ä¸ªé¡µé¢é“¾æ¥åˆ°å…¶å®ƒçš„é¡µé¢ï¼Œè¿™æ ·å°±å½¢æˆäº†åŒ…å«ä¿¡æ¯çš„ç½‘é¡µçš„æ¦‚å¿µã€‚ä¸€åˆ‡éƒ½æ˜¯æå¤§åœ°å›´ç»•ç€æ‰€è°“çš„ HTTP è¯·æ±‚/å“åº”æ¨¡å¼æ¥å»ºç«‹çš„ã€‚å®¢æˆ·ç«¯åŠ è½½ä¸€ä¸ªç½‘é¡µï¼Œç›´åˆ°ç”¨æˆ·ç‚¹å‡»é¡µé¢å¹¶å¯¼èˆªåˆ°ä¸‹ä¸€ä¸ªç½‘é¡µã€‚</p></blockquote> <p>Around 2005, AJAX was introduced and a lot of people started to explore the possibilities of making connections between a client and Ğ° server <strong>bidirectional</strong>. Still, all HTTP communication was steered by the client, which required user interaction or periodic polling to load new data from the server.</p> <blockquote><p>å¤§çº¦åœ¨ 2005 å¹´ï¼Œå¼•å…¥äº† AJAXï¼Œç„¶åï¼Œå¾ˆå¤šäººå¼€å§‹æ¢ç´¢å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åŒå‘é€šä¿¡çš„å¯èƒ½æ€§ã€‚ä¸å˜çš„æ˜¯ï¼Œæ‰€æœ‰çš„ HTTP é€šä¿¡éƒ½æ˜¯ç”±å®¢æˆ·ç«¯æ§åˆ¶çš„ï¼Œæ„å³å¿…é¡»ç”±ç”¨æˆ·äº¤äº’æˆ–è€…å®šæœŸè½®è¯¢ä»¥ä»æœåŠ¡å™¨åŠ è½½æ•°æ®ã€‚</p></blockquote> <h2 id="making-http-bidirectional"><a href="#making-http-bidirectional" class="header-anchor">#</a> Making HTTP â€œbidirectionalâ€</h2> <blockquote><p>è®© HTTP æ”¯æŒåŒå‘é€šä¿¡</p></blockquote> <p>Technologies that enable the server to send data to the client â€œproactivelyâ€ have been around for quite some time. â€œ<a href="https://en.wikipedia.org/wiki/Push_technology" target="_blank" rel="noopener noreferrer">Push<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>â€ and â€œ<a href="http://en.wikipedia.org/wiki/Comet_(programming)" target="_blank" rel="noopener noreferrer">Comet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>â€ to name a few.</p> <blockquote><p>æ”¯æŒæœåŠ¡å™¨ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®çš„æŠ€æœ¯å·²ç»å‡ºç°äº†å¥½ä¸€æ®µæ—¶é—´äº†ã€‚æ¯”å¦‚ &quot;<a href="https://en.wikipedia.org/wiki/Push_technology" target="_blank" rel="noopener noreferrer">Push<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>&quot; å’Œ &quot;<a href="http://en.wikipedia.org/wiki/Comet_(programming)" target="_blank" rel="noopener noreferrer">Comet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>&quot; æŠ€æœ¯ã€‚</p></blockquote> <p>One of the most common hacks to create the illusion that the server is sending data to the client is called <strong>long polling</strong>. With long polling, the client opens an HTTP connection to the server which keeps it open until a response is sent. Whenever the server has new data that has to be sent, it transmits it as a response.</p> <blockquote><p>é•¿è½®è¯¢æ˜¯äº§ç”ŸæœåŠ¡ç«¯ä¸»åŠ¨å‘å®¢æˆ·ç«¯å‘é€æ•°æ®è¿™ä¸€é”™è§‰æœ€å¸¸è§çš„ hack ä¹‹ä¸€ã€‚é€šè¿‡é•¿è½®è¯¢ï¼Œå®¢æˆ·ç«¯æ‰“å¼€äº†ä¸€ä¸ªè¿æ¥åˆ°æœåŠ¡ç«¯çš„ HTTP è¿æ¥ï¼ŒæœåŠ¡ç«¯ä¿æŒè¯¥è¿æ¥ç›´åˆ°è¿”å›å“åº”æ•°æ®ã€‚å½“æœåŠ¡ç«¯æœ‰æ–°æ•°æ®éœ€è¦å‘é€æ—¶ï¼Œå®ƒä¼šæŠŠæ–°æ•°æ®ä½œä¸ºå“åº”å‘é€ç»™å®¢æˆ·ç«¯ã€‚</p></blockquote> <p>Letâ€™s see how a very simple long polling snippet might look like:</p> <blockquote><p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ç®€å•çš„é•¿è½®è¯¢ä»£ç ç‰‡æ®µï¼š</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
        url<span class="token operator">:</span> <span class="token string">'https://api.example.com/endpoint'</span><span class="token punctuation">,</span> 
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// Do something with `data`</span>
          <span class="token comment">// ...</span>

          <span class="token comment">//Setup the next poll recursively</span>
          <span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> 
        dataType<span class="token operator">:</span> <span class="token string">'json'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>This is basically a self-executing function that runs the first time automatically. It sets up the ten (10) second interval and after each async Ajax call to the server, the callback calls <code>ajax</code> again.</p> <blockquote><p>è¿™æ˜¯ä¸€ä¸ªåŸºç¡€çš„è‡ªæ‰§è¡Œå‡½æ•°ï¼Œç¬¬ä¸€æ¬¡ä¼šè‡ªåŠ¨è¿è¡Œã€‚å®ƒæ¯éš” 10 ç§’é’Ÿå¼‚æ­¥è¯·æ±‚æœåŠ¡å™¨å¹¶ä¸”å½“æ¯æ¬¡å‘èµ·å¯¹æœåŠ¡å™¨çš„å¼‚æ­¥è¯·æ±‚ä¹‹åï¼Œä¼šåœ¨å›è°ƒå‡½æ•°é‡Œé¢å†æ¬¡è°ƒç”¨ <code>ajax</code> å‡½æ•°ã€‚</p></blockquote> <p>Other techniques involve <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/Socket.html" target="_blank" rel="noopener noreferrer"><code>Flash</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or <code>XHR multipart request</code> and the so-called <code>htmlfiles</code>.</p> <blockquote><p>å…¶å®ƒæŠ€æœ¯æ¶‰åŠåˆ° <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/Socket.html" target="_blank" rel="noopener noreferrer"><code>Flash</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å’Œ <code>XHR å¤šæ–¹è¯·æ±‚</code>ä»¥åŠæ‰€è°“çš„ <code>htmlfiles</code>ã€‚</p></blockquote> <p>All these workarounds share the same problem though: they carry the overhead of HTTP, which doesnâ€™t make them well-suited for low-latency applications. Think multiplayer first-person shooter games in the browser or any other online game with a realtime component.</p> <blockquote><p>æ‰€æœ‰è¿™äº›æ–¹æ¡ˆéƒ½æœ‰ä¸€ä¸ªå…±åŒçš„é—®é¢˜ï¼šéƒ½å¸¦æœ‰ HTTP å¼€é”€ï¼Œè¿™æ ·å°±ä¼šä½¿å¾—å®ƒä»¬ä¸é€‚ç”¨äºä½å»¶è¿Ÿç¨‹åºã€‚è¯•æƒ³ä¸€ä¸‹æµè§ˆå™¨ä¸­çš„ç¬¬ä¸€äººç§°å°„å‡»æ¸¸æˆæˆ–è€…å…¶å®ƒè¦æ±‚å®æ—¶åŠŸèƒ½çš„åœ¨çº¿æ¸¸æˆã€‚</p></blockquote> <h2 id="the-introduction-of-websockets"><a href="#the-introduction-of-websockets" class="header-anchor">#</a> The introduction of WebSockets</h2> <blockquote><p>webScokets çš„å‡ºç°</p></blockquote> <p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API" target="_blank" rel="noopener noreferrer">WebSocket<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> specification defines an API establishing â€œsocketâ€ connections between a web browser and a server. In plain words: there is a persistent connection between the client and the server and both parties can start sending data at any time.</p> <blockquote><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API" target="_blank" rel="noopener noreferrer">WebSocket<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> è§„èŒƒå®šä¹‰äº†ä¸€ä¸ª API ç”¨ä»¥åœ¨ç½‘é¡µæµè§ˆå™¨å’ŒæœåŠ¡å™¨å»ºç«‹ä¸€ä¸ªå¥—æ¥å­—è¿æ¥ã€‚é€šä¿—åœ°è®²ï¼šåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¿æœ‰ä¸€ä¸ªæ°¸ä¹…è¿æ¥ï¼Œä¸¤è¾¹å¯ä»¥åœ¨ä»»æ„æ—¶é—´å¼€å§‹å‘é€æ•°æ®ã€‚</p></blockquote> <p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210719200701.png" alt=""></p> <p>The client establishes a WebSocket connection through a process known as the WebSocket <strong>handshake</strong>. This process starts with the client sending a regular HTTP request to the server. An <code>Upgrade</code> header is included in this request which informs the server that the client wishes to establish a WebSocket connection.</p> <blockquote><p>å®¢æˆ·ç«¯é€šè¿‡ WebSocket æ¡æ‰‹çš„è¿‡ç¨‹æ¥åˆ›å»º WebSocket è¿æ¥ã€‚åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘èµ·ä¸€ä¸ªå¸¸è§„çš„ HTTP è¯·æ±‚ã€‚è¯·æ±‚ä¸­ä¼šåŒ…å«ä¸€ä¸ª <code>Upgrade</code> çš„è¯·æ±‚å¤´ï¼Œé€šçŸ¥æœåŠ¡å™¨å®¢æˆ·ç«¯æƒ³è¦å»ºç«‹ä¸€ä¸ª WebSocket è¿æ¥ã€‚</p></blockquote> <p>Letâ€™s see how opening a WebSocket connection looks like on the client side:</p> <blockquote><p>è®©æˆ‘ä»¬çœ‹ä¸‹å¦‚ä½•åœ¨å®¢æˆ·ç«¯åˆ›å»º WebSocket è¿æ¥ï¼š</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Create a new WebSocket with an encrypted connection.</span>
<span class="token keyword">var</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">'ws://websocket.example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>WebSocket URLs use the <code>ws</code> scheme. There is also <code>wss</code> for secure WebSocket connections which is the equivalent of <code>HTTPS</code>.</p> <p>ç½‘é¡µå¥—æ¥å­—åœ°å€ä½¿ç”¨äº† <code>ws</code> åè®®ã€‚<code>wss</code> æ˜¯ä¸€ä¸ªç­‰åŒäº <code>HTTPS</code> çš„å®‰å…¨çš„ç½‘é¡µå¥—æ¥å­—è¿æ¥ã€‚</p></blockquote> <p>This scheme just starts the process of opening a WebSocket connection towards <code>websocket.example.com</code>.</p> <blockquote><p>è¯¥åè®®å¼€å§‹å¯åŠ¨æ‰“å¼€åˆ° <code>websocket.example.com</code> çš„ WebSocket è¿æ¥çš„è¿‡ç¨‹ã€‚</p></blockquote> <p>Here is a simplified example of the initial request headers.</p> <blockquote><p>ä¸‹é¢æ˜¯åˆå§‹åŒ–è¯·æ±‚å¤´çš„ç®€åŒ–ä¾‹å­ã€‚</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>GET ws://websocket.example.com/ HTTP/1.1
Origin: http://example.com
Connection: Upgrade
Host: websocket.example.com
Upgrade: websocket
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>If the server supports the WebSocket protocol, it will agree to the upgrade and will communicate this through the <code>Upgrade</code> header in the response.</p> <blockquote><p>å¦‚æœæœåŠ¡å™¨æ”¯æŒç½‘é¡µå¥—æ¥å­—åè®®ï¼Œå®ƒå°†ä¼šåŒæ„å‡çº§è¯·æ±‚ï¼Œç„¶åé€šè¿‡åœ¨å“åº”é‡Œé¢è¿”å› <code>Upgrade</code> å¤´æ¥è¿›è¡Œé€šä¿¡ã€‚</p></blockquote> <p>Letâ€™s see how this can be implemented in Node.JS:</p> <blockquote><p>è®©æˆ‘ä»¬çœ‹ä¸‹ Node.js çš„å®ç°ï¼š</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// We'll be using the https://github.com/theturtle32/WebSocket-Node</span>
<span class="token comment">// WebSocket implementation</span>
<span class="token keyword">var</span> WebSocketServer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'websocket'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>server<span class="token punctuation">;</span>
<span class="token keyword">var</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// process HTTP request. </span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">1337</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// create the server</span>
wsServer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocketServer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  httpServer<span class="token operator">:</span> server
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// WebSocket server</span>
wsServer<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'request'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> connection <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span>origin<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// This is the most important callback for us, we'll handle</span>
  <span class="token comment">// all messages from users here.</span>
  connection<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Process WebSocket message</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  connection<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">connection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Connection closes</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>After the connection is established, the server replies by upgrading:</p> <blockquote><p>è¿æ¥å»ºç«‹ä¹‹åï¼ŒæœåŠ¡å™¨ä½¿ç”¨å‡çº§æ¥ä½œä¸ºå›å¤ï¼š</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>HTTP/1.1 101 Switching Protocols
Date: Wed, 25 Oct 2017 10:07:34 GMT
Connection: Upgrade
Upgrade: WebSocket
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Once the connection has been established, the <code>open</code> event will be fired on your WebSocket instance on the client side:</p> <blockquote><p>ä¸€æ—¦è¿æ¥å»ºç«‹ï¼Œä¼šè§¦å‘å®¢æˆ·ç«¯ç½‘é¡µå¥—æ¥å­—å®ä¾‹çš„ <code>open</code> äº‹ä»¶ã€‚</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">'ws://websocket.example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Show a connected message when the WebSocket is opened.</span>
socket<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'WebSocket is connected.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Now that the handshake is complete the initial HTTP connection is replaced by a WebSocket connection that uses the same underlying TCP/IP connection. At this point, either party can start sending data.</p> <blockquote><p>ç°åœ¨ï¼Œæ¡æ‰‹ç»“æŸäº†ï¼Œæœ€åˆçš„ HTTP è¿æ¥è¢«æ›¿æ¢ä¸º WebSocket è¿æ¥ï¼Œè¯¥è¿æ¥åº•å±‚ä½¿ç”¨åŒæ ·çš„ TCP/IP è¿æ¥ã€‚ç°åœ¨ä¸¤è¾¹éƒ½å¯ä»¥å¼€å§‹å‘é€æ•°æ®äº†ã€‚</p></blockquote> <p>With WebSockets, you can transfer as much data as you like without incurring the overhead associated with traditional HTTP requests. Data is transferred through a WebSocket as <em><strong>messages</strong></em>, each of which consists of one or more <em><strong>frames</strong></em> containing the data you are sending (the payload). In order to ensure the message can be properly reconstructed when it reaches the client each frame is prefixed with 4â€“12 bytes of data about the payload. Using this frame-based messaging system helps to reduce the amount of non-payload data that is transferred, leading to significant reductions in latency.</p> <blockquote><p>é€šè¿‡ WebSocketï¼Œä½ å¯ä»¥éšæ„å‘é€æ•°æ®è€Œä¸ç”¨æ‹…å¿ƒä¼ ç»Ÿ HTTP è¯·æ±‚æ‰€å¸¦æ¥çš„ç›¸å…³å¼€é”€ã€‚æ•°æ®æ˜¯ä»¥æ¶ˆæ¯çš„å½¢å¼é€šè¿‡ WebSocket è¿›è¡Œä¼ è¾“çš„ï¼Œæ¯æ¡ä¿¡æ¯æ˜¯ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ªå¸§ç»„æˆï¼Œå¸§åŒ…å«ä½ æ‰€ä¼ è¾“çš„æ•°æ®(æœ‰æ•ˆè½½è·)ã€‚ä¸ºäº†ä¿è¯å½“æ¶ˆæ¯åˆ°è¾¾å®¢æˆ·ç«¯çš„æ—¶å€™è¢«æ­£ç¡®åœ°é‡æ–°ç»„è£…å‡ºæ¥ï¼Œæ¯ä¸€å¸§éƒ½ä¼šå‰ç½®å…³äºæœ‰æ•ˆè½½è·çš„ 4-12 ä¸ªå­—èŠ‚çš„æ•°æ®ã€‚ä½¿ç”¨è¿™ç§åŸºäºå¸§çš„ä¿¡æ¯ç³»ç»Ÿå¯ä»¥å¸®åŠ©å‡å°‘éæœ‰æ•ˆè½½è·æ•°æ®çš„ä¼ è¾“ï¼Œä»è€Œæ˜¾è‘—åœ°å‡å°‘å»¶è¿Ÿã€‚</p></blockquote> <p><strong>Note</strong>: Itâ€™s worth noting that the client will only be notified about a new message once all of the frames have been received and the original message payload has been reconstructed.</p> <blockquote><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯åªæœ‰å½“æ‰€æœ‰çš„æ¶ˆæ¯å¸§éƒ½è¢«æ¥æ”¶åˆ°è€Œä¸”åŸå§‹çš„ä¿¡æ¯æœ‰æ•ˆè½½è·è¢«é‡æ–°ç»„è£…çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯æ‰ä¼šæ¥æ”¶åˆ°æ–°æ¶ˆæ¯çš„é€šçŸ¥ã€‚</p></blockquote> <h2 id="websocket-urls"><a href="#websocket-urls" class="header-anchor">#</a> WebSocket URLs</h2> <blockquote><p>WebSocket åœ°å€</p></blockquote> <p>We briefly mentioned before that WebSockets introduce a new URL scheme. In reality, they introduce two new schemes: <code>ws://</code> and <code>wss://</code>.</p> <blockquote><p>å‰é¢æˆ‘ä»¬ç®€è¦åœ°è°ˆåˆ° WebSockets å¼•è¿›äº†ä¸€ä¸ªæ–°çš„åœ°å€åè®®ã€‚å®é™…ä¸Šï¼ŒWebSocket å¼•è¿›äº†ä¸¤ç§æ–°åè®®ï¼š<code>ws://</code> å’Œ <code>wss://</code>ã€‚</p></blockquote> <p>URLs have scheme-specific grammar. WebSocket URLs are special in that they do not support anchors ( <code>#sample_anchor</code> ).</p> <blockquote><p>URL åœ°å€å«æœ‰åè®®æŒ‡å®šçš„è¯­æ³•ã€‚WebSocket åœ°å€ç‰¹åˆ«ä¹‹å¤„åœ¨äºï¼Œå®ƒä¸æ”¯æŒé”š(<code>sample_anchor</code>)ã€‚</p></blockquote> <p>The same rules apply to WebSocket style URLs as to HTTP style URLs. <code>ws</code> is unencrypted and has port 80 as default, while <code>wss</code> requires TLS encryption and has port 443 as default.</p> <blockquote><p>WebSocket é£æ ¼çš„åœ°å€å’Œ HTTP é£æ ¼çš„åœ°å€ä½¿ç”¨ç›¸åŒçš„åœ°å€è§„åˆ™ã€‚<code>ws</code> æ˜¯æœªåŠ å¯†ä¸”é»˜è®¤æ˜¯ 80 ç«¯å£ï¼Œè€Œ <code>wss</code> è¦æ±‚ TSL åŠ å¯†ä¸”é»˜è®¤ 443 ç«¯å£ã€‚</p></blockquote> <h2 id="framing-protocol"><a href="#framing-protocol" class="header-anchor">#</a> Framing protocol</h2> <blockquote><p>å¸§åè®®</p></blockquote> <p>Letâ€™s take a deeper look at the framing protocol. This is what the <a href="https://tools.ietf.org/html/rfc6455#page-27" target="_blank" rel="noopener noreferrer">RFC<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> provides us with:</p> <blockquote><p>è®©æˆ‘ä»¬æ·±å…¥äº†è§£ä¸‹å¸§åè®®ã€‚è¿™æ˜¯ <a href="https://tools.ietf.org/html/rfc6455#page-27" target="_blank" rel="noopener noreferrer">RFC<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æä¾›çš„ï¼š</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code> 			0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-------+-+-------------+-------------------------------+
     |F|R|R|R| opcode|M| Payload len |    Extended payload length    |
     |I|S|S|S|  (4)  |A|     (7)     |             (16/64)           |
     |N|V|V|V|       |S|             |   (if payload len==126/127)   |
     | |1|2|3|       |K|             |                               |
     +-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +
     |     Extended payload length continued, if payload len == 127  |
     + - - - - - - - - - - - - - - - +-------------------------------+
     |                               |Masking-key, if MASK set to 1  |
     +-------------------------------+-------------------------------+
     | Masking-key (continued)       |          Payload Data         |
     +-------------------------------- - - - - - - - - - - - - - - - +
     :                     Payload Data continued ...                :
     + - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +
     |                     Payload Data continued ...                |
     +---------------------------------------------------------------+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>As of the WebSocket version specified by the RFC, thereâ€™s only a header in front of each packet. Itâ€™s quite a complex header, however. Here are its building blocks explained:</p> <blockquote><p>ç”±äº WebSocket ç‰ˆæœ¬æ˜¯ç”± RFC æ‰€è§„å®šçš„ï¼Œæ‰€ä»¥æ¯ä¸ªåŒ…å‰é¢åªæœ‰ä¸€ä¸ªå¤´éƒ¨ä¿¡æ¯ã€‚ç„¶è€Œï¼Œè¿™ä¸ªå¤´éƒ¨ä¿¡æ¯ç›¸å½“çš„å¤æ‚ã€‚è¿™æ˜¯å…¶ç»„æˆæ¨¡å—çš„è¯´æ˜ï¼š</p></blockquote> <ul><li><p><code>fin</code> (<em>1 bit</em>): indicates if this frame is the final frame that makes up the message. Most of the time the message fits into a single frame and this bit will always be set. Experiments show that Firefox makes a second frame after 32K.</p> <blockquote><p><code>fin</code>(1 ä½)ï¼šæŒ‡ç¤ºæ˜¯å¦æ˜¯ç»„æˆä¿¡æ¯çš„æœ€åä¸€å¸§ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œä¿¡æ¯æ­£å¥½ä¸€å¸§æ‰€ä»¥è¯¥ä½é€šå¸¸æœ‰å€¼ã€‚æµ‹è¯•è¡¨æ˜ç«ç‹çš„ç¬¬äºŒå¸§æ•°æ®åœ¨ 32K ä¹‹åã€‚</p></blockquote></li> <li><p><code>rsv1</code>, <code>rsv2</code>, <code>rsv3</code> (<em>1 bit each</em>): must be 0 unless an extension is negotiated that defines meanings for non-zero values. If a nonzero value is received and none of the negotiated extensions defines the meaning of such a nonzero value, the receiving endpoint must fail the connection.</p> <blockquote><p><code>rsv1</code>ï¼Œ<code>rsv2</code>ï¼Œ<code>rsv3</code>(æ¯ä¸ªä¸€ä½)ï¼šå¿…é¡»æ˜¯ 0 é™¤éä½¿ç”¨åå•†æ‰©å±•æ¥å®šä¹‰é 0 å€¼çš„å«ä¹‰ã€‚å¦‚æœæ”¶åˆ°ä¸€ä¸ªé 0 å€¼ä¸”æ²¡æœ‰åå•†æ‰©å±•æ¥å®šä¹‰éé›¶å€¼çš„å«ä¹‰ï¼Œæ¥æ”¶ç«¯ä¼šä¸­æ–­è¿æ¥ã€‚</p></blockquote></li> <li><p><code>opcode</code> (<em>4 bits</em>): says what the frame represents. The following values are currently in use:</p> <ul><li><p><code>0x00</code>: this frame continues the payload from the previous.</p></li> <li><p><code>0x01</code>: this frame includes text data.</p></li> <li><p><code>0x02</code>: this frame includes binary data.</p></li> <li><p><code>0x08</code>: this frame terminates the connection.</p></li> <li><p><code>0x09</code>: this frame is a ping.</p></li> <li><p><code>0x0a</code>: this frame is a pong.</p> <p>(As you can see, there are enough values unused; theyâ€™ve been reserved for future use).</p></li></ul> <blockquote><p><code>opcode</code>(4 ä½)ï¼šå¸§è¡¨ç¤ºçš„æ•°æ®ã€‚ç›®å‰å¯ç”¨çš„å€¼ï¼š</p> <ul><li><code>0x00</code>ï¼šè¯¥å¸§æ¥ç»­å‰é¢ä¸€å¸§çš„æœ‰æ•ˆè½½è·ã€‚</li> <li><code>0x01</code>ï¼šè¯¥å¸§åŒ…å«æ–‡æœ¬æ•°æ®ã€‚</li> <li><code>0x02</code>ï¼šè¯¥å¸§åŒ…å«äºŒè¿›åˆ¶æ•°æ®ã€‚</li> <li><code>0x08</code>ï¼šè¯¥å¸§ä¸­æ–­è¿æ¥ã€‚</li> <li><code>0x09</code>ï¼šè¯¥å¸§æ˜¯ä¸€ä¸ª pingã€‚</li> <li><code>0x0a</code>ï¼šè¯¥å¸§æ˜¯ä¸€ä¸ªpongã€‚</li></ul> <p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæœ‰ç›¸å½“ä¸€éƒ¨åˆ†å€¼æœªè¢«ä½¿ç”¨ï¼›å®ƒä»¬æ˜¯ä¿ç•™ä»¥å¤‡å°†æ¥ä½¿ç”¨çš„ã€‚</p></blockquote></li> <li><p><code>mask</code> (<em>1 bit</em>): indicates if the connection is masked. As it stands right now, every message from a client to a server <em>must be masked</em> and the spec would want to terminate the connection if itâ€™s unmasked.</p> <blockquote><p><code>mask</code>(1 ä½)ï¼šæŒ‡ç¤ºè¯¥è¿æ¥æ˜¯å¦è¢«é®ç½©ã€‚æ­£å…¶æ‰€è¡¨ç¤ºçš„æ„ä¹‰ï¼Œæ¯ä¸€æ¡ä»å®¢æˆ·ç«¯å‘å¾€æœåŠ¡å™¨çš„ä¿¡æ¯éƒ½å¿…é¡»è¢«é®ç½©ï¼Œç„¶åå¦‚æœä¿¡æ¯æœªé®ç½©ï¼Œæ ¹æ®è§„èŒƒä¼šä¸­æ–­è¯¥è¿æ¥ã€‚</p></blockquote></li> <li><p><code>payload_len</code> (<em>7 bits</em>): the length of the payload. WebSocket frames come in the following length brackets:
0â€“125 indicates the length of the payload. 126 means that the following two bytes indicate the length, 127 means the next 8 bytes indicate the length. So the length of the payload comes in ~7bit, 16bit, and 64bit brackets.</p> <blockquote><p><code>payload_len</code>(7 ä½)ï¼šæœ‰æ•ˆè½½è·çš„é•¿åº¦ã€‚WebSocket å¸§æœ‰ä»¥ä¸‹é•¿åº¦åˆ†ç±»ï¼š</p> <p>0-125 è¡¨ç¤ºæœ‰æ•ˆè½½è·çš„é•¿åº¦ã€‚126 æ„å‘³ç€æ¥ä¸‹æ¥ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºæœ‰æ•ˆè½½è·é•¿åº¦ï¼Œ127 æ„å‘³ç€æ¥ä¸‹æ¥çš„ 8 ä¸ªå­—èŠ‚è¡¨ç¤ºæœ‰æ•ˆè½½è·é•¿åº¦ã€‚æ‰€ä»¥æœ‰æ•ˆè½½è·çš„é•¿åº¦å¤§æ¦‚æœ‰ 7 ä½ï¼Œ16 ä½å’Œ 64 ä½è¿™ä¸‰ä¸ªç­‰çº§ã€‚</p></blockquote></li> <li><p><code>masking-key</code> (<em>32 bits</em>): all frames sent from the client to the server are masked by a 32-bit value that is contained within the frame.</p> <blockquote><p><code>masking-key</code> (32 ä½)ï¼šæ‰€æœ‰ä»å®¢æˆ·ç«¯å‘å¾€æœåŠ¡å™¨çš„å¸§éƒ½ç”±å¸§å†…çš„ä¸€ä¸ª 32 ä½å€¼æ‰€é®ç½©ã€‚</p></blockquote></li> <li><p><code>payload</code>: the actual data which most likely is masked. Its length is the length of the <code>payload_len</code>.</p> <blockquote><p><code>payload</code>ï¼šä¸€èˆ¬æƒ…å†µä¸‹è¢«é®ç½©çš„å®é™…æ•°æ®ã€‚å…¶é•¿åº¦å–å†³äº <code>payload_len</code> çš„é•¿åº¦ã€‚</p></blockquote></li></ul> <p>Why are WebSockets frame-based and not stream-based? I donâ€™t know and just like you, Iâ€™d love to learn more, so if you have an idea, feel free to add comments and resources in the responses below. Also, a good <a href="https://news.ycombinator.com/item?id=3377406" target="_blank" rel="noopener noreferrer">discussion on the topic is available on HackerNews<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <blockquote><p>ä¸ºä»€ä¹ˆ WebSocket æ˜¯åŸºäºå¸§è€Œä¸æ˜¯åŸºäºæµçš„å‘¢ï¼Ÿæˆ‘å’Œä½ ä¸€æ ·ä¸æ˜ç™½ï¼Œæˆ‘ä¹Ÿæƒ³å¤šå­¦ç‚¹ï¼Œå¦‚æœä½ æœ‰ä»»ä½•æƒ³æ³•ï¼Œæ¬¢è¿åœ¨ä¸‹é¢çš„è¯„è®ºåŒºæ·»åŠ è¯„è®ºå’Œèµ„æºã€‚å¦å¤–ï¼Œ<a href="https://news.ycombinator.com/item?id=3377406" target="_blank" rel="noopener noreferrer">HackerNews<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¸Šé¢æœ‰å…³äºè¿™æ–¹é¢çš„è®¨è®ºã€‚</p></blockquote> <h2 id="data-on-the-frames"><a href="#data-on-the-frames" class="header-anchor">#</a> Data on the frames</h2> <blockquote><p>å¸§æ•°æ®</p></blockquote> <p>As mentioned above, the data can be fragmented into multiple frames. The first frame that transmits the data has an opcode on it that indicates what sort of data is being transmitted. This is necessary because JavaScript has pretty much nonexistent support for binary data at the time the specification was started. <code>0x01</code> indicates utf-8 encoded text data, <code>0x02</code> is binary data. Most people will transmit JSON in which case youâ€™d probably want to choose the text opcode. When you emit binary data it will be represented in a browser specific <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob" target="_blank" rel="noopener noreferrer">Blob<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <blockquote><p>æ­£å¦‚ä¹‹å‰æåˆ°çš„ï¼Œæ•°æ®å¯ä»¥è¢«æ‹†åˆ†ä¸ºå¤šä¸ªå¸§ã€‚ç¬¬ä¸€å¸§æ‰€ä¼ è¾“çš„æ•°æ®é‡Œé¢å«æœ‰ä¸€ä¸ªæ“ä½œç è¡¨ç¤ºä¼ è¾“çš„æ•°æ®ç±»å‹ã€‚è¿™æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºå½“è§„èŒƒèµ·è‰çš„æ—¶å€™ï¼ŒJavaScript å¹¶ä¸èƒ½å¾ˆå¥½åœ°æ”¯æŒäºŒè¿›åˆ¶æ•°æ®ã€‚<code>0x01</code> è¡¨ç¤º utf-8 ç¼–ç çš„æ–‡æœ¬æ•°æ®ï¼Œ<code>0x02</code> è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®ã€‚å¤§å¤šæ•°äººåœ¨ä¼ è¾“ JSON æ•°æ®çš„æ—¶å€™éƒ½ä¼šé€‰æ‹©æ–‡æœ¬æ“ä½œç ã€‚å½“ä½ ä¼ è¾“äºŒè¿›åˆ¶æ•°æ®çš„æ—¶å€™ï¼Œå®ƒä¼šä»¥æµè§ˆå™¨æŒ‡å®šçš„ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob" target="_blank" rel="noopener noreferrer">Blob<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ¥è¡¨ç¤ºã€‚</p></blockquote> <p>The API for sending data through a WebSocket is very simple:</p> <blockquote><p>é€šè¿‡ WebSocket æ¥ä¼ è¾“æ•°æ®çš„ API æ˜¯éå¸¸ç®€å•çš„ï¼š</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">'ws://websocket.example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
socket<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  socket<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Some message'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Sends data to server.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>When the WebSocket is receiving data (on the client side), a <code>message</code> event is fired. This event includes a property called <code>data</code> that can be used to access the contents of the message.</p> <blockquote><p>å½“ WebSocket æ­£åœ¨æ¥æ”¶æ•°æ®çš„æ—¶å€™ï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼Œä¼šè§¦å‘ <code>message</code> äº‹ä»¶ã€‚è¯¥äº‹ä»¶ä¼šå¸¦æœ‰ä¸€ä¸ª <code>data</code> å±æ€§ï¼Œé‡Œé¢åŒ…å«äº†æ¶ˆæ¯çš„å†…å®¹ã€‚</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Handle messages sent by the server.</span>
socket<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> message <span class="token operator">=</span> event<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>You can easily explore the data in each of the frames in your WebSocket connection using the Network Tab inside Chrome DevTools:</p> <blockquote><p>ä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°åˆ©ç”¨ Chrome å¼€å‘è€…å·¥å…·çš„ç½‘ç»œé€‰é¡¹å¡æ¥æ£€æŸ¥ WebSocket è¿æ¥ä¸­çš„æ¯ä¸€å¸§çš„æ•°æ®ã€‚</p></blockquote> <p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210721214111.png" alt=""></p> <h2 id="fragmentation"><a href="#fragmentation" class="header-anchor">#</a> Fragmentation</h2> <blockquote><p>æ•°æ®åˆ†ç‰‡</p></blockquote> <p>Payload data can be split up into multiple individual frames. The receiving end is supposed to buffer them up until the <code>fin</code> bit is set. So you can transmit the string â€œHello Worldâ€ in 11 packages of 6 (header length) + 1 byte each. Fragmentation is not allowed for control packages. However, the specification wants you to be able to handle <a href="https://en.wikipedia.org/wiki/Interleaving_(data)" target="_blank" rel="noopener noreferrer">interleaved<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> control frames. Thatâ€™s in case TCP packages arrive in arbitrary order.</p> <blockquote><p>æœ‰æ•ˆè½½è·æ•°æ®å¯ä»¥è¢«åˆ†æˆå¤šä¸ªç‹¬ç«‹çš„å¸§ã€‚æ¥æ”¶ç«¯ä¼šç¼“å†²è¿™äº›å¸§ç›´åˆ° <code>fin</code> ä½æœ‰å€¼ã€‚æ‰€ä»¥ä½ å¯ä»¥æŠŠå­—ç¬¦ä¸²ã€Hello Worldã€æ‹†åˆ†ä¸º 11 ä¸ªåŒ…ï¼Œæ¯ä¸ªåŒ…ç”± 6(å¤´é•¿åº¦) + 1 å­—èŠ‚ç»„æˆã€‚æ•°æ®åˆ†ç‰‡ä¸èƒ½ç”¨æ¥æ§åˆ¶åŒ…ã€‚ç„¶è€Œï¼Œè§„èŒƒæƒ³è¦ä½ æœ‰èƒ½åŠ›å»å¤„ç†<a href="https://en.wikipedia.org/wiki/Interleaving_(data)" target="_blank" rel="noopener noreferrer">äº¤é”™<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>æ§åˆ¶å¸§ã€‚è¿™æ˜¯ä¸ºäº†é¢„é˜² TCP åŒ…æ— åºåˆ°è¾¾å®¢æˆ·ç«¯ã€‚</p></blockquote> <p>The logic for joining frames is roughly the following:</p> <ul><li>receive the first frame</li> <li>remember opcode</li> <li>concatenate frame payload together until the <code>fin</code> bit is set</li> <li>assert that the opcode for each package is zero</li></ul> <blockquote><p>è¿æ¥å¸§çš„å¤§æ¦‚é€»è¾‘å¦‚ä¸‹ï¼š</p> <ul><li>æ¥æ”¶ç¬¬ä¸€å¸§</li> <li>è®°ä½æ“ä½œç </li> <li>è¿æ¥å¸§æœ‰æ•ˆè½½è·ç›´åˆ° <code>fin</code> ä½æœ‰å€¼</li> <li>æ–­è¨€æ¯ä¸ªåŒ…çš„æ“ä½œç éƒ½ä¸º 0</li></ul></blockquote> <p>The primary purpose of fragmentation is to allow sending a message that is of unknown size when the message is started. With fragmentation, a server may choose a reasonable size buffer and, when the buffer is full, write a fragment to the network. A secondary use case for fragmentation is for multiplexing, where it is not desirable for a large message on one logical channel to take over the whole output channel, so the multiplexing needs to be free to split the message into smaller fragments to better share the output channel.</p> <blockquote><p>æ•°æ®åˆ†ç‰‡çš„ä¸»è¦ç›®çš„åœ¨äºå…è®¸å¼€å§‹æ—¶ä¼ è¾“ä¸æ˜å¤§å°çš„ä¿¡æ¯ã€‚é€šè¿‡æ•°æ®åˆ†ç‰‡ï¼ŒæœåŠ¡å™¨å¯èƒ½éœ€è¦è®¾ç½®ä¸€ä¸ªåˆç†çš„ç¼“å†²åŒºå¤§å°ï¼Œç„¶åå½“ç¼“å†²åŒºæ»¡ï¼Œé€šè¿‡ç½‘ç»œå‘é€ä¸€ä¸ªæ•°æ®åˆ†ç‰‡ã€‚æ•°æ®åˆ†ç‰‡çš„ç¬¬äºŒä¸ªç”¨é€”å³å¤šè·¯å¤ç”¨ï¼Œé€»è¾‘é€šé“ä¸Šçš„å¤§é‡æ•°æ®å æ®æ•´ä¸ªè¾“å‡ºé€šé“æ˜¯ä¸åˆç†çš„ï¼Œæ‰€ä»¥åˆ©ç”¨å¤šè·¯å¤ç”¨æŠ€æœ¯æŠŠä¿¡æ¯æ‹†åˆ†æˆæ›´å°çš„æ•°æ®åˆ†ç‰‡ä»¥æ›´å¥½åœ°å…±äº«è¾“å‡ºé€šé“ã€‚</p></blockquote> <h2 id="what-is-hearbeating"><a href="#what-is-hearbeating" class="header-anchor">#</a> What is Hearbeating?</h2> <blockquote><p>å¿ƒè·³åŒ…</p></blockquote> <p>At any point after the handshake, either the client or the server can choose to send a ping to the other party. When the ping is received, the recipient must send back a pong as soon as possible. Thatâ€™s a heartbeat. You can use it to make sure that the client is still connected.</p> <blockquote><p>æ¡æ‰‹ä¹‹åçš„ä»»æ„æ—¶åˆ»ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å¯ä»¥éšæ„åœ° ping å¯¹æ–¹ã€‚å½“æ¥æ”¶åˆ° ping çš„æ—¶å€™ï¼Œæ¥æ”¶æ–¹å¿…é¡»å°½å¿«å›å¤ä¸€ä¸ª pongã€‚æ­¤å³å¿ƒè·³åŒ…ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥ç¡®ä¿å®¢æˆ·ç«¯æ˜¯å¦ä»ç„¶ä¿æŒè¿æ¥ã€‚</p></blockquote> <p>A ping or pong is just a regular frame, but itâ€™s a <strong>control frame</strong>. Pings have an opcode of <code>0x9</code>, and pongs have an opcode of <code>0xA</code>. When you get a ping, send back a pong with the exact same Payload Data as the ping (for pings and pongs, the max payload length is <strong>125</strong>). You might also get a pong without ever sending a ping. Ignore it if it happens.</p> <blockquote><p>ping æˆ–è€… pong è™½ç„¶åªæ˜¯ä¸€ä¸ªæ™®é€šå¸§ï¼Œä½†å´æ˜¯ä¸€ä¸ªæ§åˆ¶å¸§ã€‚Ping åŒ…å« <code>0x9</code> æ“ä½œç ï¼Œè€Œ Pong åŒ…å« <code>0xA</code> æ“ä½œç ã€‚å½“ä½ æ¥æ”¶åˆ° ping çš„æ—¶å€™ï¼Œè¿”å›ä¸€ä¸ªå’Œ ping æºå¸¦åŒæ ·æœ‰æ•ˆè½½è·æ•°æ®çš„ pong(ping å’Œ pong æœ€å¤§æœ‰æ•ˆè½½è·é•¿åº¦éƒ½ä¸º 125)ã€‚ä½ å¯èƒ½æ¥æ”¶åˆ°ä¸€ä¸ª pong è€Œæœªæ›¾å‘é€ä¸€ä¸ª pingã€‚å¦‚æœæœ‰å‘ç”Ÿè¿™æ ·çš„æƒ…å†µè¯·å¿½ç•¥å®ƒã€‚</p></blockquote> <p>Heartbeating can be very useful. There are services (like load balancers) that will terminate idle connections. Plus, itâ€™s not possible for the receiving side to see if the remote side has terminated. Only at the next send would you realize that something went wrong.</p> <blockquote><p>å¿ƒè·³åŒ…éå¸¸æœ‰ç”¨ã€‚åˆ©ç”¨æœåŠ¡ï¼ˆæ¯”å¦‚è´Ÿè½½å‡è¡¡å™¨ï¼‰æ¥ä¸­æ–­ç©ºé—²çš„è¿æ¥ã€‚å¦å¤–ï¼Œæ¥æ”¶ç«¯ä¸å¯èƒ½çŸ¥é“æœåŠ¡ç«¯æ˜¯å¦å·²ç»ä¸­æ–­è¿æ¥ã€‚åªæœ‰åœ¨å‘é€ä¸‹ä¸€å¸§çš„æ—¶å€™ï¼Œä½ æ‰ä¼šæ„è¯†åˆ°å‘ç”Ÿäº†é”™è¯¯ã€‚</p></blockquote> <h2 id="handling-errors"><a href="#handling-errors" class="header-anchor">#</a> Handling Errors</h2> <blockquote><p>å¤„ç†é”™è¯¯</p></blockquote> <p>You can handle any errors that occur by listening out for the <code>error</code> event.</p> <blockquote><p>ä½ å¯ä»¥é€šè¿‡ç›‘å¬ <code>error</code> äº‹ä»¶æ¥å¤„ç†é”™è¯¯ã€‚</p></blockquote> <p>It looks like this:</p> <blockquote><p>åƒè¿™æ ·ï¼š</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">'ws://websocket.example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Handle any error that occurs.</span>
socket<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'WebSocket Error: '</span> <span class="token operator">+</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="closing-the-connection"><a href="#closing-the-connection" class="header-anchor">#</a> Closing the Connection</h2> <blockquote><p>å…³é—­è¿æ¥</p></blockquote> <p>To close a connection either the client or server should send a control frame with data containing an opcode of <code>0x8</code>. Upon receiving such a frame, the other peer sends a Close frame in response. The first peer then closes the connection. Any further data received after closing the connection is then discarded.</p> <blockquote><p>å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨å¯ä»¥å‘é€ä¸€ä¸ªåŒ…å« <code>0x8</code> æ“ä½œç çš„æ•°æ®æ§åˆ¶å¸§æ¥å…³é—­è¿æ¥ã€‚å½“æ¥æ”¶åˆ°æ§åˆ¶å¸§çš„æ—¶å€™ï¼Œå¦ä¸€ä¸ªèŠ‚ç‚¹ä¼šè¿”å›ä¸€ä¸ªå…³é—­å¸§ã€‚ä¹‹åç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¼šå…³é—­è¿æ¥ã€‚å…³é—­è¿æ¥ä¹‹åï¼Œä¹‹åæ¥æ”¶çš„ä»»ä½•æ•°æ®éƒ½ä¼šè¢«é—å¼ƒã€‚</p></blockquote> <p>This is how you initiate the closing of a WebSocket connection from the client:</p> <blockquote><p>è¿™æ˜¯åˆå§‹åŒ–å…³é—­å®¢æˆ·ç«¯çš„ WebSocket è¿æ¥çš„ä»£ç ï¼š</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Close if the connection is open.</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>socket<span class="token punctuation">.</span>readyState <span class="token operator">===</span> WebSocket<span class="token punctuation">.</span><span class="token constant">OPEN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Also, in order to perform any clean up after the closing has completed, you can attach an event listener to the <code>close</code> event:</p> <blockquote><p>åŒæ ·åœ°ï¼Œä¸ºäº†å…³é—­è¿æ¥åè¿è¡Œä»»æ„æ¸…ç†å·¥ä½œï¼Œä½ å¯ä»¥ä¸º <code>close</code> äº‹ä»¶æ·»åŠ äº‹ä»¶ç›‘å¬å‡½æ•°ï¼š</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Do necessary clean up.</span>
socket<span class="token punctuation">.</span><span class="token function-variable function">onclose</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Disconnected from WebSocket.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>The server has to listen on the <code>close</code> event in order to process it if needed:</p> <blockquote><p>æœåŠ¡å™¨ä¸å¾—ä¸ç›‘å¬ <code>close</code> äº‹ä»¶ä»¥ä¾¿åœ¨éœ€è¦çš„æ—¶å€™å¤„ç†ï¼š</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code>connection<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">reasonCode<span class="token punctuation">,</span> description</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// The connection is getting closed.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="how-do-websockets-and-http-2-compare"><a href="#how-do-websockets-and-http-2-compare" class="header-anchor">#</a> How do WebSockets and HTTP/2 compare?</h2> <blockquote><p>WebSockets å’Œ HTTP/2 å¯¹æ¯”</p></blockquote> <p>While HTTP/2 has a lot to offer, it doesnâ€™t completely replace the need for existing push/streaming technologies.</p> <blockquote><p>è™½ç„¶ HTTP/2 æä¾›äº†å¾ˆå¤šçš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒå¹¶ä¸èƒ½å®Œå…¨å–ä»£å½“å‰çš„ push/streaming æŠ€æœ¯ã€‚</p></blockquote> <p>The first important thing to notice about HTTP/2 is that itâ€™s not a replacement for all of HTTP. The verbs, status codes and most of the headers will remain the same as today. HTTP/2 is about improving the efficiency of the way data is transferred on the wire.</p> <blockquote><p>å…³äº HTTP/2 éœ€è¦æ³¨æ„çš„æœ€é‡è¦çš„äº‹å³å®ƒå¹¶ä¸èƒ½å®Œå…¨å–ä»£ HTTPã€‚åŠ¨è¯ï¼ŒçŠ¶æ€ç ä»¥åŠå¤§éƒ¨åˆ†çš„å¤´éƒ¨ä¿¡æ¯éƒ½ä¼šä¿æŒå’Œç°åœ¨ä¸€æ ·ã€‚HTTP/2 åªæ˜¯æå‡äº†çº¿è·¯ä¸Šçš„æ•°æ®ä¼ è¾“æ•ˆç‡ã€‚</p></blockquote> <p>Now, if we compare HTTP/2 to WebSocket, we can see a lot of similarities:</p> <blockquote><p>ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬å¯¹æ¯” WebSocket å’Œ HTTP/2ï¼Œå°†ä¼šå‘ç°å¾ˆå¤šç±»ä¼¼çš„åœ°æ–¹ï¼š</p></blockquote> <table><thead><tr><th></th> <th>HTTP/2</th> <th>WebSocket</th></tr></thead> <tbody><tr><td>Headers</td> <td>Compressed(HPACK)</td> <td>None</td></tr> <tr><td>Binary</td> <td>Yes</td> <td>Binary or Textual</td></tr> <tr><td>Multiplexing</td> <td>Yes</td> <td>Yes</td></tr> <tr><td>Prioritization</td> <td>Yes</td> <td>No</td></tr> <tr><td>Compression</td> <td>Yes</td> <td>Yes</td></tr> <tr><td>Direction</td> <td>Client/Server + Server Push</td> <td>Bidirectional</td></tr> <tr><td>Full-duplex</td> <td>Yes</td> <td>Yes</td></tr></tbody></table> <p>As we have seen above, HTTP/2 introduces <a href="https://en.wikipedia.org/wiki/Push_technology?oldformat=true" target="_blank" rel="noopener noreferrer">Server Push<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> which enables the server to proactively send resources to the client cache. It does not, however, allow for pushing data down to the client application itself. Server pushes are only processed by the browser and do not pop up in the application code, meaning there is no API for the application to get notifications for those events.</p> <blockquote><p>æ­£å¦‚ä»¥ä¸Šæ‰€æ˜¾ç¤ºçš„é‚£æ ·ï¼ŒHTTP/2 å¼•è¿›äº† <a href="https://en.wikipedia.org/wiki/Push_technology?oldformat=true" target="_blank" rel="noopener noreferrer">Server Push<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æŠ€æœ¯ç”¨æ¥è®©æœåŠ¡å™¨ä¸»åŠ¨å‘å®¢æˆ·ç«¯ç¼“å­˜å‘é€æ•°æ®ã€‚ç„¶è€Œï¼Œå®ƒå¹¶ä¸å…è®¸ç›´æ¥å‘å®¢æˆ·ç«¯ç¨‹åºæœ¬èº«å‘é€æ•°æ®ã€‚æœåŠ¡ç«¯æ¨é€åªèƒ½ç”±æµè§ˆå™¨å¤„ç†è€Œä¸èƒ½å¤Ÿåœ¨ç¨‹åºä»£ç ä¸­è¿›è¡Œå¤„ç†ï¼Œæ„å³ç¨‹åºä»£ç æ²¡æœ‰ API å¯ä»¥ç”¨æ¥è·å–è¿™äº›äº‹ä»¶çš„é€šçŸ¥ã€‚</p></blockquote> <p>This is where Server-Sent Events (SSE) become very useful. SSE is a mechanism that allows the server to asynchronously push the data to the client once the client-server connection is established. The server can then decide to send data whenever a new â€œchunkâ€ of data is available. It can be considered as a one-way <a href="https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern" target="_blank" rel="noopener noreferrer">publish-subscribe<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> model. It also offers a standard JavaScript client API named EventSource implemented in most modern browsers as part of the HTML5 standard by <a href="https://www.w3.org/TR/eventsource/" target="_blank" rel="noopener noreferrer">W3C<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Note that browsers that do not support <a href="http://caniuse.com/#feat=eventsource" target="_blank" rel="noopener noreferrer">EventSource API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> can be easily polyfilled.</p> <blockquote><p>è¿™æ—¶å€™æœåŠ¡ç«¯æ¨é€äº‹ä»¶ï¼ˆSSEï¼‰å°±æ´¾ä¸Šç”¨åœºäº†ã€‚SSE çš„æœºåˆ¶æ˜¯è¿™æ ·çš„ï¼šä¸€æ—¦å®¢æˆ·ç«¯ï¼æœåŠ¡å™¨è¿æ¥å»ºç«‹ï¼Œå®ƒå…è®¸æœåŠ¡å™¨å¼‚æ­¥æ¨é€æ•°æ®ç»™å®¢æˆ·ç«¯ã€‚ä¹‹åï¼Œæ¯å½“æœåŠ¡å™¨äº§ç”Ÿæ–°æ•°æ®åˆ†ç‰‡çš„æ—¶å€™ï¼Œå°±æ¨é€æ•°æ®ç»™å®¢æˆ·ç«¯ã€‚è¿™å¯ä»¥çœ‹æˆæ˜¯å•å‘çš„å‘å¸ƒï¼è®¢é˜…æ¨¡å‹ã€‚å®ƒä¹Ÿæä¾›äº†ä¸€ä¸ªè¢«ç§°ä¸º EventSource çš„ æ ‡å‡† JavaScript å®¢æˆ·ç«¯ APIï¼Œè¯¥ API ä½œä¸º <a href="https://www.w3.org/TR/eventsource/" target="_blank" rel="noopener noreferrer">W3C<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç»„ç»‡å‘å¸ƒçš„ HTML5 æ ‡å‡†çš„ä¸€éƒ¨åˆ†å·²ç»åœ¨å¤§å¤šæ•°çš„ç°ä»£æµè§ˆå™¨ä¸­å®ç°ã€‚æ³¨æ„ä¸æ”¯æŒåŸç”Ÿ <a href="http://caniuse.com/#feat=eventsource" target="_blank" rel="noopener noreferrer">EventSource API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> çš„æµè§ˆå™¨å¯ä»¥é€šè¿‡å…¼å®¹æ’ä»¶å®ç°ã€‚</p></blockquote> <p>Since SSE is based on HTTP, it has a natural fit with HTTP/2 and can be combined to get the best of both: HTTP/2 handling an efficient transport layer based on multiplexed streams and SSE providing the API up to the applications to enable push.</p> <blockquote><p>ç”±äº SSE æ˜¯åŸºäº HTTP çš„ï¼Œæ‰€ä»¥å®ƒå¤©ç„¶å…¼å®¹äº HTTP/2 å¹¶ä¸”å¯ä»¥ç»„åˆä½¿ç”¨ä»¥åˆ©ç”¨å„è‡ªçš„ä¼˜åŠ¿ï¼š HTTP/2 å¤„ç†ä¸€ä¸ªåŸºäºå¤šè·¯å¤ç”¨æµçš„é«˜æ•ˆä¼ è¾“å±‚è€Œ SSE ä¸ºç¨‹åºæä¾›äº† API ç”¨æ¥æ”¯æŒæœåŠ¡ç«¯æ¨é€ã€‚</p></blockquote> <p>To fully understand what Streams and Multiplexing are all about, letâ€™s first have a look at the IETF definition: <em>a â€œstreamâ€ is an independent, bidirectional sequence of frames exchanged between the client and server within an HTTP/2 connection. One of its main characteristics is that a single HTTP/2 connection can contain multiple concurrently open streams, with either endpoint interleaving frames from multiple streams.</em></p> <blockquote><p>ä¸ºäº†å®Œå…¨ç†è§£æµå’Œå¤šè·¯å¤ç”¨æŠ€æœ¯ï¼Œå…ˆè®©æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹ IETF çš„å®šä¹‰ï¼šã€æµã€å³æ˜¯åœ¨ä¸€ä¸ª HTTP/2 è¿æ¥ä¸­ï¼Œåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é—´è¿›è¡Œäº¤æ¢ä¼ è¾“çš„ä¸€ä¸ªç‹¬ç«‹çš„åŒå‘å¸§åºåˆ—ã€‚å®ƒçš„ä¸»è¦ç‰¹ç‚¹ä¹‹ä¸€å³å•ä¸ªçš„ <em>HTTP/2</em> è¿æ¥å¯ä»¥åŒ…å«å¤šä¸ªå¹¶å‘æ‰“å¼€çš„æµï¼Œåœ¨æ¯ä¸€ç»ˆç«¯äº¤é”™ä¼ è¾“æ¥è‡ªå¤šä¸ªæµçš„å¸§ã€‚</p></blockquote> <p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210816143708.png" alt=""></p> <p>We have to remember that SSE is HTTP-based. It means that with HTTP/2, not only can several SSE streams be interleaved onto a single TCP connection, but the same can also be done with a combination of several SSE streams (server to client push) and several client requests (client to server). Thanks to HTTP/2 and SSE, now we have a pure HTTP bidirectional connection with a simple API to let application code register to server pushes. Lack of bidirectional capabilities has often been perceived as a major drawback when comparing SSE to WebSocket. Thanks to HTTP/2 this is no longer the case. This opens up the opportunity to skip WebSockets and stick to an HTTP-based signaling instead.</p> <blockquote><p>å¿…é¡»è®°ä½çš„æ˜¯ SSE æ˜¯åŸºäº HTTP çš„ã€‚è¿™æ„å‘³ç€ï¼Œé€šè¿‡ä½¿ç”¨ HTTP/2ï¼Œä¸ä»…ä»…å¯ä»¥æŠŠå¤šä¸ª SSE æµäº¤å‰åˆå¹¶æˆå•ä¸€çš„ TCP è¿æ¥ï¼Œè¿˜å¯ä»¥æŠŠå¤šä¸ª SSE æµï¼ˆæœåŠ¡ç«¯å‘å®¢æˆ·ç«¯æ¨é€ï¼‰å’Œå¤šä¸ªå®¢æˆ·ç«¯è¯·æ±‚ï¼ˆå®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯ï¼‰åˆå¹¶æˆå•ä¸€çš„ TCP è¿æ¥ã€‚å¤šäºäº† HTTP/2 å’Œ SSEï¼Œç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªçº¯ç²¹çš„ HTTP åŒå‘è¿æ¥ï¼Œè¯¥è¿æ¥å¸¦æœ‰ä¸€ä¸ªç®€å•çš„ API å…è®¸ç¨‹åºä»£ç æ³¨å†Œç›‘å¬æœåŠ¡ç«¯çš„æ•°æ®æ¨é€ã€‚ç¼ºä¹åŒå‘é€šä¿¡èƒ½åŠ›ä¸€ç›´è¢«è®¤ä¸ºæ˜¯ SSE å¯¹æ¯” WebSocket çš„ä¸»è¦ç¼ºç‚¹ã€‚å¤šäºäº† HTTP/2ï¼Œè¿™ä¸å†æ˜¯ç¼ºç‚¹ã€‚è¿™å°±è®©ä½ æœ‰æœºä¼šåšæŒä½¿ç”¨åŸºäº HTTP çš„é€šä¿¡ç³»ç»Ÿè€Œé WebSocketsã€‚</p></blockquote> <h2 id="how-to-choose-between-websocket-and-http-2"><a href="#how-to-choose-between-websocket-and-http-2" class="header-anchor">#</a> How to choose between WebSocket and HTTP/2?</h2> <blockquote><p>WebScoket å’Œ HTTP/2 çš„ä½¿ç”¨åœºæ™¯</p></blockquote> <p>WebSockets will certainly survive the domination of HTTP/2 + SSE, mainly because itâ€™s a technology already well adopted and, in very specific use cases, it has an advantage over HTTP/2 as it has been built for bidirectional capabilities with less overhead (e.g. headers).</p> <blockquote><p>WebSockets ä¾ç„¶å¯ä»¥åœ¨ HTTP/2 + SSE çš„ç»Ÿæ²»ä¸‹å­˜åœ¨ï¼Œä¸»è¦æ˜¯ç”±äºå®ƒæ›¾ç»æ˜¯è¢«å¹¿æ³›ä½¿ç”¨çš„æŠ€æœ¯ï¼Œåœ¨ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå’Œ HTTP/2 æ¯”è¾ƒå®ƒæœ‰ä¸€ä¸ªä¼˜ç‚¹å³å®ƒå¤©ç”Ÿæ‹¥æœ‰æ›´å°‘çš„å¼€é”€ï¼ˆæ¯”å¦‚ï¼Œå¤´éƒ¨ä¿¡æ¯ï¼‰çš„åŒå‘é€šä¿¡èƒ½åŠ›ã€‚</p></blockquote> <p>Say you want to build a Massive Multiplayer Online Game that needs a huge amount of messages from both ends of the connection. In such a case, WebSockets will perform much, much better.</p> <blockquote><p>å‡è®¾ä½ æƒ³è¦æ„å»ºä¸€ä¸ªå¤§å‹çš„å¤šäººåœ¨çº¿æ¸¸æˆï¼Œåœ¨å„ä¸ªè¿æ¥ç»ˆç«¯ä¼šäº§ç”Ÿå¤§é‡çš„ä¿¡æ¯ã€‚åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼ŒWebSockets ä¼šè¡¨ç°å¾—æ›´åŠ å®Œç¾ã€‚</p></blockquote> <p>In general, use WebSockets whenever you need a truly <strong>low-latency</strong>, near realtime connection between the client and the server. Keep in mind that this might require rethinking how you build your server-side applications, as well as shifting the focus on technologies like event queues.</p> <blockquote><p>æ€»ä¹‹ï¼Œå½“ä½ éœ€è¦åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å»ºç«‹ä¸€ä¸ªçœŸæ­£çš„ä½å»¶è¿Ÿçš„ï¼Œæ¥è¿‘å®æ—¶è¿æ¥çš„æ—¶å€™ä½¿ç”¨ WebSocketsã€‚è®°ä½è¿™å¯èƒ½è¦æ±‚ä½ é‡æ–°è€ƒè™‘å¦‚ä½•æ„å»ºæœåŠ¡å™¨ç«¯ç¨‹åºï¼ŒåŒæ—¶ä¹Ÿéœ€è¦ä½ å…³æ³¨è¯¸å¦‚äº‹ä»¶é˜Ÿåˆ—çš„æŠ€æœ¯ã€‚</p></blockquote> <p>If your use case requires displaying real-time market news, market data, chat applications, etc., relying on HTTP/2 + SSE will provide you with an efficient bidirectional communication channel while reaping the benefits from staying in the HTTP world:</p> <blockquote><p>å¦‚æœä½ çš„ä½¿ç”¨åœºæ™¯è¦æ±‚æ˜¾ç¤ºå®æ—¶å¸‚åœºæ–°é—»ï¼Œå¸‚åœºæ•°æ®ï¼ŒèŠå¤©ç¨‹åºç­‰ç­‰ï¼ŒHTTP/2 + SSE å°†ä¼šä¸ºä½ æä¾›ä¸€ä¸ªé«˜æ•ˆçš„åŒå‘é€šä¿¡é€šé“çš„åŒæ—¶å¯ä»¥å¾—åˆ° HTTP çš„æ‰€æœ‰ç›Šå¤„ï¼š</p></blockquote> <ul><li><p>WebSockets can often be a source of pain when considering compatibility with existing web infrastructure as it upgrades an HTTP connection to a completely different protocol that has nothing to do with HTTP.</p> <blockquote><p>å½“è€ƒè™‘ç°æœ‰æ¶æ„çš„å…¼å®¹æ€§çš„æ—¶å€™ï¼ŒWebSockets ç»å¸¸ä¼šæ˜¯ä¸€ä¸ªç—›ç‚¹ï¼Œå› ä¸ºå‡çº§ HTTP è¿æ¥åˆ°ä¸€ä¸ªå®Œå…¨å’Œ HTTP ä¸ç›¸å…³çš„åè®®ã€‚</p></blockquote></li> <li><p>Scale and security: Web components (Firewalls, Intrusion Detection, Load Balancers) are built, maintained and configured with HTTP in mind, an environment that large/critical applications will prefer in terms of resiliency, security, and scalability.</p> <blockquote><p>å¯æ‰©å±•æ€§å’Œå®‰å…¨ï¼šç½‘ç»œç»„ä»¶ï¼ˆé˜²ç«å¢™ï¼Œå…¥ä¾µæ£€æµ‹ï¼Œè´Ÿè½½å‡è¡¡å™¨ï¼‰çš„å»ºç«‹ï¼Œç»´æŠ¤å’Œé…ç½®éƒ½æ˜¯ä¸º HTTP è€Œè®¾è®¡çš„ï¼Œå¤§å‹ï¼é‡è¦çš„ç¨‹åºä¼šæ›´å–œæ¬¢å…·æœ‰å¼¹æ€§ï¼Œå®‰å…¨å’Œå¯ä¼¸ç¼©æ€§çš„ç¯å¢ƒã€‚</p></blockquote></li></ul> <p>Also, you have to take into consideration browser support. Have a look at the WebSocket:</p> <blockquote><p>åŒæ ·åœ°ï¼Œä½ ä¸å¾—ä¸è€ƒè™‘æµè§ˆå™¨å…¼å®¹æ€§ã€‚æŸ¥çœ‹ä¸‹ WebSocket å…¼å®¹æƒ…å†µï¼š</p></blockquote> <p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210818192246.png" alt=""></p> <p>Itâ€™s quite good actually, isnâ€™t it?</p> <blockquote><p>å…¼å®¹æ€§è¿˜ä¸é”™ã€‚</p></blockquote> <p>The situation with HTTP/2, however, is not the same.</p> <blockquote><p>ç„¶è€Œï¼ŒHTTP/2çš„æƒ…å†µå°±ä¸å¤ªç§’äº†ã€‚</p></blockquote> <blockquote><p>PSï¼šéåŸæ–‡ï¼šå½“æ—¶ä½œè€…åœ¨å†™è¿™ç¯‡æ–‡ç« æ—¶æ˜¯2017å¹´ï¼Œå…¼å®¹æ€§ç¡®å®ä¸å¤ªå¥½ï¼ˆ83.74%ï¼‰ï¼›ä½†ç›®å‰æ¥çœ‹ï¼ŒHTTP/2çš„å…¼å®¹æ€§ä¹Ÿè¿˜ä¸é”™ã€‚</p></blockquote> <p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210818192359.png" alt=""></p> <p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š</p> <ul><li>TLS-only (which is not so bad)</li> <li>Partial support in IE 11 but only on Windows 10</li> <li>Only supported on OSX 10.11+ in Safari</li> <li>Only supports HTTP/2 if you can negotiate it via ALPN (which is something your server needs to support explicitly)</li></ul> <blockquote><ul><li>ä»…æ”¯æŒ TLSï¼ˆè¿˜ä¸ç®—åï¼‰</li> <li>ä»…é™äº Windows 10 çš„ IE 11 éƒ¨åˆ†æ”¯æŒ</li> <li>ä»…æ”¯æŒ OSX 10.11+ Safari æµè§ˆå™¨ï¼ˆVersion: 9-10.1ï¼‰</li> <li>ä»…å½“ä½ èƒ½å¤Ÿé€šè¿‡ ALPN ä½¿ç”¨ HTTP/2 ï¼ˆæœåŠ¡å™¨éœ€è¦æ˜ç¡®æ”¯æŒçš„ä¸œè¥¿ï¼‰æ‰ä¼šæ”¯æŒ HTTP/2</li></ul></blockquote> <p>The SSE support is better though:</p> <blockquote><p>SSEæ”¯æŒæƒ…å†µï¼š</p></blockquote> <p><img src="https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210818192927.png" alt=""></p> <p>Only IE/Edge donâ€™t provide support. (Well, Opera Mini supports neither SSE nor WebSockets so we can take it out of the equation altogether). There are some decent polyfills out there for SSE support in IE/Edge.</p> <blockquote><p>ä»… IE/Edge ä¸æ”¯æŒã€‚ï¼ˆå¥½å§ï¼ŒOpera Mini å³ä¸æ”¯æŒ SSE ä¹Ÿä¸æ”¯æŒ WebSocketsï¼Œå› æ­¤æˆ‘ä»¬æŠŠå®ƒå®Œå…¨æ’é˜Ÿåœ¨å¤–ï¼‰ã€‚æœ‰ä¸€äº›è¿˜ä¸é”™çš„å«ç‰‡æ¥è®© IE/Edge æ”¯æŒ SSEã€‚</p></blockquote> <h2 id="how-we-make-the-decision-at-sessionstack"><a href="#how-we-make-the-decision-at-sessionstack" class="header-anchor">#</a> How we make the decision at SessionStack</h2> <blockquote><p>SessionStack æ˜¯å¦‚ä½•é€‰æ‹©çš„</p></blockquote> <p>We at <a href="https://www.sessionstack.com/?utm_source=medium&amp;utm_medium=blog&amp;utm_content=Post-5-websockets-outro" target="_blank" rel="noopener noreferrer">SessionStack <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>use both WebSockets and HTTP, depending on the case. Once you integrate SessionStack into your web app, it starts recording all DOM changes, user interactions, JavaScript exceptions, stack traces, failed network requests, and debug messages, allowing you to replay issues in your web apps as videos and see everything that happened to your users. Itâ€™s all taking place <strong>real-time</strong> and needs to happen with no performance impact for your web app.</p> <blockquote><p><a href="https://www.sessionstack.com/?utm_source=medium&amp;utm_medium=blog&amp;utm_content=Post-5-websockets-outro" target="_blank" rel="noopener noreferrer">SessionStack <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> åŒæ—¶ä½¿ç”¨ WebSockets å’Œ HTTPï¼Œè¿™å–å†³äºä½¿ç”¨åœºæ™¯ã€‚ä¸€æ—¦æ•´åˆ SessionStack è¿›ç½‘é¡µç¨‹åºï¼Œå®ƒä¼šå¼€å§‹è®°å½• DOM å˜åŒ–ï¼Œç”¨æˆ·äº¤äº’ï¼ŒJavaScript å¼‚å¸¸ï¼Œå †æ ˆè¿½è¸ªï¼Œå¤±è´¥çš„ç½‘ç»œè¯·æ±‚ä»¥åŠè°ƒè¯•ä¿¡æ¯ï¼Œå…è®¸ä½ ç”¨è§†é¢‘å›æ”¾ç½‘é¡µç¨‹åºä¸­çš„é—®é¢˜åŠå‘ç”Ÿåœ¨ç”¨æˆ·èº«ä¸Šçš„ä¸€åˆ‡äº‹æƒ…ã€‚å…¨éƒ¨éƒ½æ˜¯å®æ—¶å‘ç”Ÿçš„å¹¶ä¸”è¦æ±‚å¯¹ç½‘é¡µç¨‹åºä¸ä¼šäº§ç”Ÿä»»ä½•çš„æ€§èƒ½å½±å“ã€‚</p></blockquote> <p>This means that you can join a user session <strong>live,</strong> while the user is still in the browser. In this scenario, we have chosen to leverage HTTP, since there is no bidirectional communication (the server just â€œstreamsâ€ the data to the browser). A WebSocket, in this case, will be an overkill really, harder to maintain and scale.</p> <blockquote><p>è¿™æ„å‘³ç€ä½ å¯ä»¥å®æ—¶åŠ å…¥åˆ°ç”¨æˆ·ä¼šè¯ï¼Œè€Œç”¨æˆ·ä»ç„¶åœ¨æµè§ˆå™¨ä¸­ã€‚è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©ä½¿ç”¨ HTTPï¼Œå› ä¸ºè¿™å¹¶ä¸éœ€è¦åŒå‘é€šä¿¡ï¼ˆæœåŠ¡ç«¯æŠŠæ•°æ®ä¼ è¾“åˆ°æµè§ˆå™¨ç«¯ï¼‰ã€‚å½“å‰æƒ…å†µä¸‹ï¼Œä½¿ç”¨ WebSocket å°±æ˜¯è¿‡åº¦ä½¿ç”¨ï¼Œéš¾ä»¥ç»´æŠ¤å’Œæ‰©å±•ã€‚</p></blockquote> <p>The SessionStack library that gets integrated into your web app, however, uses a WebSocket (if possible, otherwise falls back to HTTP). Itâ€™s batching and sending the data to our servers which is also a one-way communication. We chose WebSocket in this case because some of the product features that are on the roadmap would require a bidirectional communication.</p> <blockquote><p>ç„¶è€Œï¼Œæ•´åˆè¿›ç½‘é¡µç¨‹åºçš„ SessionStack åº“åº”ç”¨äº† WebSocketï¼ˆä¼˜å…ˆä½¿ç”¨ï¼Œå¦åˆ™å›æ»šåˆ° HTTPï¼‰ã€‚å®ƒä¼šåˆ†æ‰¹å¤„ç†å¹¶ä¸”å‘æˆ‘ä»¬çš„æœåŠ¡å™¨å‘é€æ•°æ®ï¼Œè¿™æ˜¯å•å‘é€šä¿¡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¹‹æ‰€ä»¥é€‰æ‹© WebSocket æ˜¯å› ä¸ºè®¡åˆ’ä¸­çš„æŸäº›äº§å“åŠŸèƒ½å¯èƒ½éœ€è¦è¿›è¡ŒåŒå‘é€šä¿¡ã€‚</p></blockquote> <div class="gitalk-container"><div id="gitalk-container"></div></div></div></div></div> <div class="el-card py-3 px-3 mb-4 is-always-shadow"><!----><div class="el-card__body"><span></span></div></div> <div class="el-card mb-4 is-always-shadow"><div class="el-card__header"><div class="clearfix"><h5 class="m-0">
            Keep reading!
          </h5></div></div><div class="el-card__body"> <div class="container featured-posts my-4"><div class="el-carousel el-carousel--horizontal el-carousel--card"><div class="el-carousel__container" style="height:300px;"><button type="button" class="el-carousel__arrow el-carousel__arrow--left" style="display:none;"><i class="el-icon-arrow-left"></i></button><button type="button" class="el-carousel__arrow el-carousel__arrow--right" style="display:none;"><i class="el-icon-arrow-right"></i></button><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210420224048.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å…³äºlinuxä¸¢å¤±/rootæ–‡ä»¶å¤¹å¯¼è‡´çš„-bash-4.1#(ä¸æ˜¾ç¤ºè·¯å¾„)çš„è§£å†³åŠæ³•
        </h4> <a href="/blog/2018/04/13/linux-bash/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017234336.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Ubuntu 18.04LTSç³»ç»Ÿè®¾ç½®çª—å£æ‰“ä¸å¼€æˆ–è€…æ¶ˆå¤±è§£å†³åŠæ³•
        </h4> <a href="/blog/2018/04/29/ubuntu-setting/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017234336.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          apt-getå‘½ä»¤ã€dpkgå‘½ä»¤ã€rpmå‘½ä»¤å’Œyumå‘½ä»¤
        </h4> <a href="/blog/2018/04/30/ubuntu-apt-dpkg/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210507211010.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Creating and triggering events
        </h4> <a href="/blog/2018/08/28/custom-event/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210420223609.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Cookieã€Sessionã€WebStorage
        </h4> <a href="/blog/2018/10/10/cookie/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210420224048.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Xshellæ— æ³•è¿æ¥åˆ°Linuxè™šæ‹Ÿæœº
        </h4> <a href="/blog/2018/10/21/xshell/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017234007.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Shell value too great for base
        </h4> <a href="/blog/2018/12/09/shell-value-too-great-for-base/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017192245.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          nodeæ ¸å¿ƒæ¨¡å—â€”â€”path
        </h4> <a href="/blog/2020/04/20/node-path/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017192245.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          nodeæ ¸å¿ƒæ¨¡å—â€”â€”fs
        </h4> <a href="/blog/2020/05/08/node-fs/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017230306.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          centos7å®‰è£…jenkinså’Œgitlabè¸©å‘è®°
        </h4> <a href="/blog/2020/05/17/gitlab-jenkins/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017192245.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          nodeæ ¸å¿ƒæ¨¡å—â€”â€”os
        </h4> <a href="/blog/2020/05/27/node-os/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017191711.gif);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å›æ–‡æ•°
        </h4> <a href="/blog/2020/06/01/leetcode-ispalindrome-09/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017190350.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          pow(x,n)
        </h4> <a href="/blog/2020/06/02/leetcode-pow-x-n-50/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          åŠ ä¸€
        </h4> <a href="/blog/2020/06/03/leetcode-pluse-one-66/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          çŸ©é˜µç½®é›¶
        </h4> <a href="/blog/2020/06/04/leetcode-set-matrix-zeroes-73/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          æ¨è¾‰ä¸‰è§’
        </h4> <a href="/blog/2020/06/05/leetcode-pascal-s-triangle-118/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å¤šæ•°å…ƒç´ 
        </h4> <a href="/blog/2020/06/06/leetcode-majorityelement-169/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†
        </h4> <a href="/blog/2020/06/07/leetcode-intersectionoftwoarrays-349/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          æ£€æµ‹å¤§å†™å­—æ¯
        </h4> <a href="/blog/2020/06/08/leetcode-detectcapitaluse-520/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017175905.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è¿ç»­èµ‹å€¼
        </h4> <a href="/blog/2020/06/10/continuousassignment/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è®¾è®¡å“ˆå¸Œé›†åˆ
        </h4> <a href="/blog/2020/06/09/leetcode-designhashset-705/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å®çŸ³ä¸çŸ³å¤´
        </h4> <a href="/blog/2020/06/10/leetcode-numjewelsinstones-771/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          é¡ºæ¬¡æ•°
        </h4> <a href="/blog/2020/06/11/leetcode-sequentialdigits-1291/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—
        </h4> <a href="/blog/2020/06/12/leetcode-missingnumber-interview-53-ii/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          1103.åˆ†ç³–æœII
        </h4> <a href="/blog/2020/06/13/leetcode-distributecandies-1103/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017105512.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          JSåŸç”Ÿå‡½æ•°å®ç°ä¹‹callã€applyã€bind
        </h4> <a href="/blog/2020/06/15/apply-call-bind/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017151542.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          239.æ»‘åŠ¨çª—å£æœ€å¤§å€¼
        </h4> <a href="/blog/2020/06/16/leetcode-maxslidingwindow-239/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017145747.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å…ƒç´ å‚ç›´æ°´å¹³å±…ä¸­çš„å‡ ç§æ–¹æ³•
        </h4> <a href="/blog/2020/06/17/center-middle/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017150634.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          JSåŸç”Ÿå‡½æ•°å®ç°ä¹‹æ•°ç»„å®ä¾‹æ–¹æ³•map/reduce
        </h4> <a href="/blog/2020/06/16/map-reduce/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017105512.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          ES5/6å¯¹è±¡çš„ç»§æ‰¿åŠåŒºåˆ«
        </h4> <a href="/blog/2020/06/18/es5-es6-extend/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017105512.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          CommonJS ä¸ ES6 Moduleçš„åŒºåˆ«
        </h4> <a href="/blog/2020/06/19/cjs-esm-import-diff/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017105512.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          JSåŸç”Ÿå‡½æ•°æ¨¡æ‹Ÿå®ç°newå’ŒinstanceofåŠå‡½æ•°æŸ¯é‡ŒåŒ–
        </h4> <a href="/blog/2020/06/20/new-instanceof/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017105512.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å‡½æ•°é˜²æŠ–å’ŒèŠ‚æµã€ä»¥åŠPromise.allå®ç°
        </h4> <a href="/blog/2020/06/22/debounce-throttle/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017114430.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          äº‹ä»¶è§¦å‘å™¨EventEmitter
        </h4> <a href="/blog/2020/06/23/eventemitter/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017113243.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          lesså†…ç½®å‡½æ•°
        </h4> <a href="/blog/2020/06/28/less-function/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017110754.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å †æ’åº&amp;ä¼˜å…ˆçº§é˜Ÿåˆ—
        </h4> <a href="/blog/2020/07/12/heap/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017111554.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å›æº¯ç®—æ³•
        </h4> <a href="/blog/2020/07/02/backtrack/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017101258.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          é¢˜ç›®:ç»å…¸çš„FOO.getNameé—®é¢˜
        </h4> <a href="/blog/2020/08/01/foogetname/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/v2-a0d10af45e785fe8d3f5cd12f8c309f5_r.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å½»åº•ææ‡‚HTTPSçš„åŠ å¯†æœºåˆ¶
        </h4> <a href="/blog/2020/08/12/https/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20200810230903.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è®¡ç®—æœºç»„æˆåŸç†â€”â€”ç¬¬ä¸‰ç« 
        </h4> <a href="/blog/2020/08/20/principles-of-computer-organization-03/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20200825222450.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è®¡ç®—æœºç»„æˆåŸç†â€”â€”ç¬¬å››ç« 
        </h4> <a href="/blog/2020/08/25/principles-of-computer-organization-04/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/3378128262-5d07af0750999.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          é«˜æ€§èƒ½JavaScriptâ€”â€”ç¬¬ä¸€ç« 
        </h4> <a href="/blog/2020/08/28/load-execute/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20200831230601.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Units in css
        </h4> <a href="/blog/2020/08/31/css-unit/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20200905134629.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          ä½ å¯èƒ½è¿˜ä¸çŸ¥é“consoleå¯¹è±¡
        </h4> <a href="/blog/2020/09/04/console/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201016234622.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          äº†è§£cjsã€esmä»¥åŠrequire.context
        </h4> <a href="/blog/2020/09/08/cjs-esm-require-context/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20200913170310.gif);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          åŸŸåå‘æ•£å’ŒåŸŸåæ”¶æ•›
        </h4> <a href="/blog/2020/09/13/domain-dns/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20200828171746.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          é«˜æ€§èƒ½JavaScriptâ€”â€”ç¬¬äºŒç« 
        </h4> <a href="/blog/2020/09/22/dataaccess/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201004184833.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          é«˜æ€§èƒ½JavaScriptâ€”â€”ç¬¬ä¸‰ç« 
        </h4> <a href="/blog/2020/10/01/dom/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201008220027.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Chromeæµè§ˆå™¨æ¶æ„
        </h4> <a href="/blog/2020/10/12/chromestructure/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20201104182622.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          JSON.parse(JSON.stringify(obj))å®ç°æ·±æ‹·è´çš„ç¼ºç‚¹
        </h4> <a href="/blog/2020/10/20/deepclone/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017103330.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è®¡ç®—æœºç»„æˆåŸç†â€”â€”ç¬¬äºŒç« 
        </h4> <a href="/blog/2020/07/28/principles-of-computer-organization-02/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20201111175711.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          How JavaScript works - an overview of the engine, the runtime, and the call stack
        </h4> <a href="/blog/2020/11/12/how-javascript-work1/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20201110205703.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          é«˜æ€§èƒ½JavaScriptâ€”â€”ç¬¬å››ç« 
        </h4> <a href="/blog/2020/11/01/alo-flowcontrol/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20201208172723.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è¯¦è§£å¹³è¡¡ç»„
        </h4> <a href="/blog/2020/12/09/regexp-nfa/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201203211137.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          æ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹
        </h4> <a href="/blog/2020/12/01/regexp/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20201216172057.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          é¡¹ç›®ä¸­ç”¨SVGç”»æ›²çº¿å’ŒåŠ¨ç”»çš„ä¸€æ¬¡è®°å½•
        </h4> <a href="/blog/2020/12/16/svg/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20201219170044.gif);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å•è¡Œçœç•¥å’Œå¤šè¡Œçœç•¥
        </h4> <a href="/blog/2020/12/20/ellipsis/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201226160513.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          æµ…æArrayBufferå¯¹è±¡(ä¸Š)
        </h4> <a href="/blog/2020/12/31/arraybuffer/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210107225332.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Vue3 one piece
        </h4> <a href="/blog/2021/01/07/vue3/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210109223210.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          TypeScriptå­¦ä¹ è®°å½•(ä¸€)
        </h4> <a href="/blog/2021/01/09/typescript/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210126213808.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          çº¿ç¨‹å®‰å…¨
        </h4> <a href="/blog/2021/01/26/thread-safety/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210305230928.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Sasså…¥é—¨å­¦ä¹ 
        </h4> <a href="/blog/2021/03/05/sass/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210325224201.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          ç™¾åº¦å°ç¨‹åºâ€”â€”åŸºç¡€åŸç†ç¯‡
        </h4> <a href="/blog/2021/03/24/baidu-swan/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210329171827.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          æ¼«è¯ï¼šå¦‚ä½•ç»™å¥³æœ‹å‹è§£é‡Šä¸ºä»€ä¹ˆè®¡ç®—æœºä¸­ 0.2 + 0.1 ä¸ç­‰äº 0.3 ï¼Ÿ
        </h4> <a href="/blog/2021/03/29/float-double/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210407135526.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          ASTå®ç°å‡½æ•°è‡ªåŠ¨åŒ…è£¹try/catch
        </h4> <a href="/blog/2021/04/10/ast/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqs/blogImage/raw/master/blogImage/20201217171505.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          How JavaScript works - inside the V8 engine + 5 tips on how to write optimized code
        </h4> <a href="/blog/2021/04/13/how-javascript-work2/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210421234422.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          åšå®¢ä¼˜åŒ–äºŒä¸‰äº‹
        </h4> <a href="/blog/2021/04/21/blog-opt/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210505231625.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Concurrency vs. Parallelism
        </h4> <a href="/blog/2021/05/05/concurrency-parallelism/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210513202439.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å»å“ªåƒ
        </h4> <a href="/blog/2021/05/13/eat-what/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210602223659.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          äº¤æ¢æœºå’Œè·¯ç”±å™¨çš„åŒºåˆ«
        </h4> <a href="/blog/2021/05/20/router-switch/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210517122820.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          How JavaScript works - memory management + how to handle 4 common memory leaks
        </h4> <a href="/blog/2021/06/01/how-javascript-work3/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210609120039.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å †å’Œæ ˆçš„åŒºåˆ«
        </h4> <a href="/blog/2021/06/09/stack-heap-diff/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210622203624.gif);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          How JavaScript works - Event loop and the rise of Async programming + 5 ways to better coding with async/await
        </h4> <a href="/blog/2021/06/22/how-javascript-work4/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210628224652.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          JS å›¾ç‰‡å‹ç¼©
        </h4> <a href="/blog/2021/06/28/image-compress/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210704162016.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          ES next
        </h4> <a href="/blog/2021/07/01/es-next/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210723153229.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è½¬è½½-èŠ‚é€‰-ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠèŠ‚é€‰ï¼ˆ168æœŸï¼‰
        </h4> <a href="/blog/2021/07/23/sci-note/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210730213554.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è½¬è½½-èŠ‚é€‰-ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠèŠ‚é€‰ï¼ˆ169æœŸï¼‰
        </h4> <a href="/blog/2021/07/30/sci-note2/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210806181429.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è½¬è½½-èŠ‚é€‰-ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠèŠ‚é€‰ï¼ˆ170æœŸï¼‰
        </h4> <a href="/blog/2021/08/07/sci-note3/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210802155602.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          ä¸ºä»€ä¹ˆè®¾å¤‡æ¬ºéª—å˜å¾—å‡ ä¹ä¸å¯èƒ½
        </h4> <a href="/blog/2021/08/12/device-spoof/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210813163942.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è½¬è½½-èŠ‚é€‰-ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠèŠ‚é€‰ï¼ˆ171æœŸï¼‰
        </h4> <a href="/blog/2021/08/13/sci-note4/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210815223336.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          å¦‚ä½•å¯¹å›¾ç‰‡ä¸»é¢˜è‰²è¿›è¡Œæå–
        </h4> <a href="/blog/2021/08/15/get-image-data/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210816143708.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          How JavaScript works - Deep dive into WebSockets and HTTP/2 with SSE + how to pick the right path
        </h4> <a href="/blog/2021/08/18/how-javascript-work5/" aria-current="page" class="el-button el-button--primary router-link-exact-active router-link-active">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210820154332.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è½¬è½½-èŠ‚é€‰-ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠèŠ‚é€‰ï¼ˆ172æœŸï¼‰
        </h4> <a href="/blog/2021/08/20/sci-note5/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210828145215.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è½¬è½½-èŠ‚é€‰-ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠèŠ‚é€‰ï¼ˆ173æœŸï¼‰
        </h4> <a href="/blog/2021/08/28/sci-note6/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210901153710.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          æ·±å…¥è§£æ EventLoop å’Œæµè§ˆå™¨æ¸²æŸ“ã€å¸§åŠ¨ç”»ã€ç©ºé—²å›è°ƒçš„å…³ç³»
        </h4> <a href="/blog/2021/09/02/eventloop-raf-rid/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210903161221.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è½¬è½½-èŠ‚é€‰-ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠèŠ‚é€‰ï¼ˆ174æœŸï¼‰
        </h4> <a href="/blog/2021/09/03/sci-note7/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210911221105.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è½¬è½½-èŠ‚é€‰-ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠèŠ‚é€‰ï¼ˆ175æœŸï¼‰
        </h4> <a href="/blog/2021/09/11/sci-note8/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210928212522.jpg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è½¬è½½-èŠ‚é€‰-ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠèŠ‚é€‰ï¼ˆ176&amp;177æœŸï¼‰
        </h4> <a href="/blog/2021/09/28/sci-note9-10/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20210929161341.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Webé¡µé¢å­èµ„æºå®Œæ•´æ€§æ ¡éªŒè¯¦ç»†æŒ‡å—
        </h4> <a href="/blog/2021/09/29/sir/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20211019151256.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          SQLå…¥é—¨å­¦ä¹ 
        </h4> <a href="/blog/2021/10/19/sql/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20211026161432.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          Node.jsä¸­çš„console.log()è¾“å‡ºå½©è‰²å­—ä½“
        </h4> <a href="/blog/2021/10/26/node-color-console/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017104351.png);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          è®¡ç®—æœºç»„æˆåŸç†â€”â€”ç¬¬ä¸€ç« 
        </h4> <a href="/blog/2020/07/25/principles-of-computer-organization-01/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div><div class="el-carousel__item carousel-card bg-cover border-10 el-carousel__item--card" style="transform:translateX(0px) scale(1);ms-transform:translateX(0px) scale(1);webkit-transform:translateX(0px) scale(1);display:none;background-image:url(https://gitee.com/yancqS/blogImage/raw/master/blogImage/20201017105512.jpeg);background-blend-mode:multiply;background-size:cover;background-color:rgba(0,0,0,0.3);"><div class="el-carousel__mask"></div><div class="carousel-card-content d-flex justify-content-center align-items-center flex-column h-100"><h4 class="story-title text-center h4 mb-3 text-light">
          é¢˜ç›®:å˜é‡æå‡/åŒ¿åå‡½æ•°thisæŒ‡å‘
        </h4> <a href="/blog/2020/07/17/subject-this/" class="el-button el-button--primary">
          Read this post now! <i class="el-icon-arrow-right"></i></a></div></div></div><!----></div></div></div></div> <div class="el-card is-always-shadow"><div class="el-card__header"><div class="clearfix"><h5 class="m-0">
            Tags
          </h5></div></div><div class="el-card__body"> <div><a href="/blog/tag/ç¿»è¯‘" class="el-button el-button--small text-decoration-none d-inline-block mb-3">
            #ç¿»è¯‘
          </a><a href="/blog/tag/è½¬è½½" class="el-button el-button--small text-decoration-none d-inline-block mb-3">
            #è½¬è½½
          </a><a href="/blog/tag/JavaScript" class="el-button el-button--small text-decoration-none d-inline-block mb-3">
            #JavaScript
          </a></div></div></div> <!----></main></div> <footer class="footer" data-v-6320141e><div class="footer-left-wrap" data-v-6320141e><ul class="contact" data-v-6320141e><li class="contact-item" data-v-6320141e><a href="https://github.com/yancqs" target="_blank" rel="noopener noreferrer" class="external" data-v-6320141e><span class="iconfont icon-github" data-v-6320141e></span></a></li><li class="contact-item" data-v-6320141e><a href="https://weibo.com/superYoha" target="_blank" rel="noopener noreferrer" class="external" data-v-6320141e><span class="iconfont icon-weibo" data-v-6320141e></span></a></li><li class="contact-item" data-v-6320141e><a href="https://www.zhihu.com/people/yoha-32-56" target="_blank" rel="noopener noreferrer" class="external" data-v-6320141e><span class="iconfont icon-zhihu" data-v-6320141e></span></a></li></ul></div> <div class="busuanzi" data-v-2369ea9e data-v-6320141e><span id="busuanzi_container_site_pv" data-v-2369ea9e>
    æœ¬ç«™æ€»è®¿é—®é‡
    <span id="busuanzi_value_site_pv" data-v-2369ea9e></span>æ¬¡
    <span class="post-meta-divider" data-v-2369ea9e>|</span></span> <span id="busuanzi_container_site_uv" data-v-2369ea9e>
    æœ¬ç«™è®¿å®¢æ•°
    <span id="busuanzi_value_site_uv" data-v-2369ea9e></span>äºº
  </span></div> <div class="footer-right-wrap" data-v-6320141e><ul class="copyright" data-v-6320141e><li class="copyright-item" data-v-6320141e><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="external" data-v-6320141e>
            Privacy Policy
          </a></li><li class="copyright-item" data-v-6320141e><a data-v-6320141e>MIT Licensed Copyright Â© 2018-2021</a></li></ul></div></footer> <!----> <!----></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.88651b0b.js" defer></script><script src="/blog/assets/js/5.57de0eb5.js" defer></script><script src="/blog/assets/js/108.f6499679.js" defer></script><script src="/blog/assets/js/9.262a4934.js" defer></script><script src="/blog/assets/js/6.49ecf5be.js" defer></script><script src="/blog/assets/js/7.6084fe39.js" defer></script><script src="/blog/assets/js/10.ab00a0fe.js" defer></script>
  </body>
</html>
